function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?n[2]:null}function playSoundEffect(e,t,n){if(void 0===t&&(t=1),void 0===n&&(n=0),andriod)sendToAndroid("playSoundEffect",["url","volume","loop"],[url+e,t,n]);else try{sounndegret=new soundEgret(url+e)}catch(i){getaudio(url+e)}}function onRecordStart(){}function onRecordStop(){}function get(data){var dt=data.replace('"',"'"),json=eval("("+data+")");if(console.log(json),json.error)return saveLog("get","启动asr "+data),playSoundEffect("common/timer/errnet.ogg"),stopAsr(),viewManager.getInstance().timeruntil&&viewManager.getInstance().timeruntil.asrtimer.stop(),void staticVarUntil.getasrerror++;var inputOperate=json.operate,inputText=json.inputText,result=parseInt(json.result,10),ignore=json.ignore;if("quit"==inputOperate)stopAsr(),onBackButtonPressed();else if("next"==inputOperate)stopAsr(),operateUntil.answerNoGiveRightResult();else if(ignore)saveLog("asrtimer[overtime]",viewManager.getInstance().timeruntil.asrtimer.overtime),viewManager.getInstance().timeruntil.asrtimer.overtime?(saveLog("overtime",""),viewManager.getInstance().timeruntil.asrtimer.overtime=!1,viewManager.getInstance().timeruntil.playSound()):(saveLog("resettimer",""),staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.reset(),viewManager.getInstance().timeruntil.asrtimer.start());else switch(staticVarUntil.getasrerror=0,stopAsr(),staticVarUntil.ispassasr=!0,staticVarUntil.numbersign){case staticVarUntil.MATH_1_UNIT_2_NUMBERONE:operateUntil.asrResult(result,"math/math1/unit2/common/right.ogg","math/math1/unit2/common/wrongeffect.ogg",viewManager.getInstance().math1unit2numberone.drawGou,viewManager.getInstance().math1unit2numberone,staticVarUntil.rightresulte);break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTWO:operateUntil.asrResult(result,"math/math1/unit2/common/right.ogg","math/math1/unit2/common/wrongeffect.ogg",viewManager.getInstance().math1unit2numbertwo.buttonJump,viewManager.getInstance().math1unit2numbertwo,staticVarUntil.rightresulte);break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE:operateUntil.asrResult(result,"math/math1/unit2/common/right.ogg","math/math1/unit2/common/wrongeffect.ogg",viewManager.getInstance().math1unit2numberthree.addBeatDrum,viewManager.getInstance().math1unit2numberthree,staticVarUntil.rightresulte);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERONE:operateUntil.asrResult(result,"math/math1/unit2/common/right.ogg","math/math1/unit3/common/wrongeffect.ogg",viewManager.getInstance().math1unit3numberone.drawGou,viewManager.getInstance().math1unit3numberone,staticVarUntil.rightresulte);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTWO:operateUntil.asrResult(result,"math/math1/unit2/common/right.ogg","math/math1/unit3/common/wrongeffect.ogg",viewManager.getInstance().math1unit3numbertwo.buttonJump,viewManager.getInstance().math1unit3numbertwo,staticVarUntil.rightresulte);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE:operateUntil.asrResult(result,"math/math1/unit2/common/right.ogg","math/math1/unit3/common/wrongeffect.ogg",viewManager.getInstance().math1unit3numberthree.addBeatDrum,viewManager.getInstance().math1unit3numberthree,staticVarUntil.rightresulte);break;case staticVarUntil.ENGLISH_1_UNIT_2_TEST:viewManager.getInstance().english1unit2test.handleGet(inputText);break;case staticVarUntil.ENGLISH_NUM_UNIT3_1TO5:viewManager.getInstance().englishnumunit31to5.handleGet(inputText);break;case staticVarUntil.ENGLISH_2_UNIT_3_TEST:viewManager.getInstance().english2unit3test.handleAsr(data);break;case staticVarUntil.ENGLISH_GREETING_UNIT3:viewManager.getInstance().englishgreetingchallenge.handleAsr(data);break;case staticVarUntil.ENGLISH_CLOCK_UNIT4:viewManager.getInstance().englishclockunit4.handleAsr(inputText)}}function getaudio(e){switch(console.log(e),staticVarUntil.numbersign){case staticVarUntil.MATH_1_UNIT_1_NUMBERONE:viewManager.getInstance().math1unit1numberone.handleAudio(e);break;case staticVarUntil.MATH_1_UNIT_1_NUMBERTWO:viewManager.getInstance().math1unit1numbertwo.handleAudio(e);break;case staticVarUntil.MATH_1_UNIT_1_NUMBERTHREE:viewManager.getInstance().math1unit1numberthree.handleAudio(e);break;case staticVarUntil.MATH_1_UNIT_2_NUMBERONE:viewManager.getInstance().math1unit2numberone.handleAudio(e);break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTWO:viewManager.getInstance().math1unit2numbertwo.handleAudio(e);break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE:viewManager.getInstance().math1unit2numberthree.handleAudio(e);break;case staticVarUntil.ENDVIEW:viewManager.getInstance().endview.handleAudio(e);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERONE:viewManager.getInstance().math1unit3numberone.handleAudio(e);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTWO:viewManager.getInstance().math1unit3numbertwo.handleAudio(e);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE:viewManager.getInstance().math1unit3numberthree.handleAudio(e);break;case staticVarUntil.ENGLISH_1_UNIT_3_TEST:viewManager.getInstance().english1unit3test.handleAudio(e);break;case staticVarUntil.ENGLISH_1_UNIT_2_TEST:viewManager.getInstance().english1unit2test.handleAudio(e);break;case staticVarUntil.ENGLISH_2_UNIT_2_TEST:viewManager.getInstance().english2unit2test.handleAudio(e);break;case staticVarUntil.ENGLISH_2_UNIT_3_TEST:viewManager.getInstance().english2unit3test.handleAudio(e);break;case staticVarUntil.ENGLISH_NUM_UNIT_1TO5:viewManager.getInstance().englishnumunit11to5.handleAudio(e);break;case staticVarUntil.ENGLISH_NUM_UNIT2_1TO5:viewManager.getInstance().englishnumunit21to5.handleAudio(e);break;case staticVarUntil.ENGLISH_NUM_UNIT3_1TO5:viewManager.getInstance().englishnumunit31to5.handleAudio(e);break;case staticVarUntil.ENGLISH_GRETTING_UNIT1:viewManager.getInstance().englishgrettingunit1.handleAudio(e);break;case staticVarUntil.ENGLISH_GREETING_UNIT2:viewManager.getInstance().englishgreetingguessphoto.handleAudio(e);break;case staticVarUntil.ENGLISH_GREETING_UNIT3:viewManager.getInstance().englishgreetingchallenge.handleAudio(e);break;case staticVarUntil.ENGLISH_CLOCK_UNIT1:viewManager.getInstance().englishclockunit1.handleAudio(e);break;case staticVarUntil.ENGLISH_CLOCK_UNIT4:viewManager.getInstance().englishclockunit4.handleAudio(e);break;case staticVarUntil.ENGLISH_CLOCK_UNIT3:viewManager.getInstance().englishclockunit3.handleAudio(e)}}function onPause(){staticVarUntil.ignorsound=!0,mathfat.PauseAllAnimation(),englishfat.PauseAllAnimation(),stopSoundEffect(),onPauseAsr(),operateUntil.pauseNumber(),operateUntil.initVar(),staticVarUntil.totalwrong=0,viewManager.getInstance().nextjumpbutton.visible=!1,staticVarUntil.totalrighttimunum=0,saveLog("onpause","暂停")}function onResume(){saveLog("onResume","开始"),operateUntil.resumeNumber()}function stopSoundEffect(){andriod?sendToAndroid("stopSoundEffect",["url"],[""]):sounndegret.onSoundStop()}function stopSoundEffectByUrl(e){sendToAndroid("stopSoundEffect",["url"],[url+e])}function onBackButtonPressed(){var e=courseInfo(staticVarUntil.mathunitnum);exmode3="finish",exmode1="close",e.next_unit="",sendToAndroid("sendLogtoApp",["log"],[saveLogJson(e)]),sendToAndroid("onLessonExit",[],[])}function rePlay(){var e=new viewManagerEvent(viewManagerEvent.VIEW_MANA_EVENT);exmode1="retry";var t=courseInfo(staticVarUntil.mathunitnum);switch(t.next_unit=t.course,exmode3="abort",staticVarUntil.mathunitnum){case staticVarUntil.MATH_1_UNIT_1:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().initmath1unit1(),e.eventType=staticVarUntil.MATH_1_UNIT_1_NUMBERONE,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.MATH_1_UNIT_2:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().initmath1unit2(),e.eventType=staticVarUntil.MATH_1_UNIT_2_NUMBERONE,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.MATH_1_UNIT_3:exmode3="finish",sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().initmath1unit3(),e.eventType=staticVarUntil.MATH_1_UNIT_3_NUMBERONE,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_1_UNIT_1_STUDY:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().english1unit1study=new english1Unit1Study,e.eventType=staticVarUntil.ENGLISH_1_UNIT_1_STUDY,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_1_UNIT_2_TEST:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().english1unit2test=new english1Unit2Test,e.eventType=staticVarUntil.ENGLISH_1_UNIT_2_TEST,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_1_UNIT_3_TEST:exmode3="finish",sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().english1unit3test=new english1Unit3Test,e.eventType=staticVarUntil.ENGLISH_1_UNIT_3_TEST,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_2_UNIT_2_TEST:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().english2unit2test=new english2Unit2Test,e.eventType=staticVarUntil.ENGLISH_2_UNIT_2_TEST,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_2_UNIT_3_TEST:exmode3="finish",sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().english2unit3test=new english2Unit3Test,e.eventType=staticVarUntil.ENGLISH_2_UNIT_3_TEST,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_2_UNIT_1_STUDY:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().english2unit1study=new english2Unit1Study,e.eventType=staticVarUntil.ENGLISH_2_UNIT_1_STUDY,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_NUM_UNIT_1TO5:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().englishnumunit11to5=new enumUnit11to5,e.eventType=staticVarUntil.ENGLISH_NUM_UNIT_1TO5,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_NUM_UNIT2_1TO5:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().englishnumunit21to5=new fruitBasket,e.eventType=staticVarUntil.ENGLISH_NUM_UNIT2_1TO5,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_NUM_UNIT3_1TO5:exmode3="finish",sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().englishnumunit31to5=new happyBirthParty,e.eventType=staticVarUntil.ENGLISH_NUM_UNIT3_1TO5,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_GRETTING_UNIT1:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().englishgrettingunit1=new englishGretting,e.eventType=staticVarUntil.ENGLISH_GRETTING_UNIT1,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_GREETING_UNIT2:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().englishgreetingguessphoto=new guessPhoto,e.eventType=staticVarUntil.ENGLISH_GREETING_UNIT2,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_GREETING_UNIT3:exmode3="finish",sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().englishgreetingchallenge=new challengeGreeting,e.eventType=staticVarUntil.ENGLISH_GREETING_UNIT3,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_CLOCK_UNIT1:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().englishclockunit1=new englishClockUnit1,e.eventType=staticVarUntil.ENGLISH_CLOCK_UNIT1,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_CLOCK_UNIT3:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().englishclockunit3=new englishClockUnit3,e.eventType=staticVarUntil.ENGLISH_CLOCK_UNIT3,e.eventObj=viewManager.getInstance().endview;break;case staticVarUntil.ENGLISH_CLOCK_UNIT4:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(t)]),viewManager.getInstance().englishclockunit4=new englishClockUnit4,e.eventType=staticVarUntil.ENGLISH_CLOCK_UNIT4,e.eventObj=viewManager.getInstance().endview}operateUntil.initTotalWrong(),staticVarUntil.totalrighttimunum=0,viewManager.getInstance().dispatchEvent(e)}function nextLesson(){var e=new viewManagerEvent(viewManagerEvent.VIEW_MANA_EVENT);switch(exmode1="next",exmode3="finish",saveLog("nextLesson",staticVarUntil.mathunitnum),staticVarUntil.mathunitnum){case staticVarUntil.MATH_1_UNIT_1:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.MATH_1_UNIT_1))]),viewManager.getInstance().initmath1unit2(),e.eventType=staticVarUntil.MATH_1_UNIT_2_NUMBERONE,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.MATH_1_UNIT_2:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.MATH_1_UNIT_2))]),viewManager.getInstance().initmath1unit3(),e.eventType=staticVarUntil.MATH_1_UNIT_3_NUMBERONE,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.MATH_1_UNIT_3:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.MATH_1_UNIT_3))]);break;case staticVarUntil.ENGLISH_1_UNIT_1_STUDY:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_1_UNIT_1_STUDY))]),e.eventType=staticVarUntil.ENGLISH_1_UNIT_2_TEST,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_1_UNIT_2_TEST:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_1_UNIT_2_TEST))]),e.eventType=staticVarUntil.ENGLISH_1_UNIT_3_TEST,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_1_UNIT_3_TEST:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_1_UNIT_3_TEST))]);break;case staticVarUntil.ENGLISH_2_UNIT_2_TEST:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_2_UNIT_2_TEST))]),e.eventType=staticVarUntil.ENGLISH_2_UNIT_3_TEST,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_2_UNIT_3_TEST:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_2_UNIT_3_TEST))]);break;case staticVarUntil.ENGLISH_2_UNIT_1_STUDY:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_2_UNIT_1_STUDY))]),e.eventType=staticVarUntil.ENGLISH_2_UNIT_2_TEST,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_NUM_UNIT_1TO5:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_NUM_UNIT_1TO5))]),e.eventType=staticVarUntil.ENGLISH_NUM_UNIT2_1TO5,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_NUM_UNIT2_1TO5:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_NUM_UNIT2_1TO5))]),e.eventType=staticVarUntil.ENGLISH_NUM_UNIT3_1TO5,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_NUM_UNIT3_1TO5:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_NUM_UNIT3_1TO5))]),operateUntil.initTotalWrong();break;case staticVarUntil.ENGLISH_GRETTING_UNIT1:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_GRETTING_UNIT1))]),e.eventType=staticVarUntil.ENGLISH_GREETING_UNIT2,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_GREETING_UNIT2:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_GREETING_UNIT2))]),e.eventType=staticVarUntil.ENGLISH_GREETING_UNIT3,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_GREETING_UNIT3:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_GREETING_UNIT3))]),operateUntil.initTotalWrong();break;case staticVarUntil.ENGLISH_CLOCK_UNIT1:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_CLOCK_UNIT1))]),e.eventType=staticVarUntil.ENGLISH_CLOCK_UNIT3,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_CLOCK_UNIT3:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_CLOCK_UNIT3))]),e.eventType=staticVarUntil.ENGLISH_CLOCK_UNIT4,e.eventObj=viewManager.getInstance().endview,operateUntil.initTotalWrong(),viewManager.getInstance().dispatchEvent(e);break;case staticVarUntil.ENGLISH_CLOCK_UNIT4:sendToAndroid("sendLogtoApp",["log"],[saveLogJson(courseInfo(staticVarUntil.ENGLISH_CLOCK_UNIT4))]),operateUntil.initTotalWrong()}staticVarUntil.totalrighttimunum=0}function getLogfromCourse(){exmode1="close";var e=courseInfo(staticVarUntil.mathunitnum);e.next_unit="",stopSoundEffect(),sendToAndroid("sendLogtoApp",["log"],[saveLogJson(e)]),staticVarUntil.totalrighttimunum=0}function overTimeAutoExit(){exmode1="close";var e=courseInfo(staticVarUntil.mathunitnum);e.next_unit="",stopSoundEffect(),sendToAndroid("sendLogtoApp",["log"],[saveLogJson(e)]),sendToAndroid("onLessonExit",[],[]),staticVarUntil.totalrighttimunum=0}function getLogJson(e){var t="{'method_name':'getUnitResultLong','course':"+e.course+",'wrongtries':0, 'score':"+operateUntil.typeOfCourse().score+", 'exit_mode':["+exmode1+","+exmode2+","+exmode3+"],'open_unit':"+e.next_unit+"}";return t}function saveLogJson(e){var t=operateUntil.typeOfCourse().score;staticVarUntil.numbersign!=staticVarUntil.ENDVIEW&&(t=0);var n="{'method_name':'saveUnitResult','course':"+e.course+",'wrongtries':0, 'score':"+t+", 'exit_mode':["+exmode1+","+exmode2+","+exmode3+"],'open_unit':"+e.next_unit+"}";return""==e.next_unit&&(n="{'method_name':'saveUnitResult','course':"+e.course+",'wrongtries':0, 'score':"+t+", 'exit_mode':["+exmode1+","+exmode2+","+exmode3+"],'open_unit':''}"),console.log(n),n}function saveLog(e,t){console.log(e,t),sendToAndroid("recordDebugLog",[e],[t])}function pauseSoundEffectByUrl(e){sendToAndroid("pauseSoundEffect",["url"],[url+e])}function resumeSoundEffectByUrl(e){sendToAndroid("resumeSoundEffectByUrl",["url"],[url+e])}function pauseSoundEffect(){sendToAndroid("pauseSoundEffect",["url"],[""])}function resumeSoundEffect(){sendToAndroid("resumeSoundEffect",["url"],[""])}function onFileNotFound(e){saveLog("",e+" 不存在")}function onSoundEffectError(e){saveLog("",e+" 播放出错")}function sendToAndroid(e,t,n){for(var i='{"method_name":"'+e+'"',a="",r=0;r<t.length;r++)a+="number"==typeof n[r]?',"'+t[r]+'":'+n[r]:',"'+t[r]+'":"'+n[r]+'"';i=i+a+"}",console.log("sendToAndroid",i),window.injs&&window.injs.sendToAndroid(i)}function Maps(){this.keys=new Array,this.data=new Object,this.set=function(e,t){null==this.data[e]&&this.keys.push(e),this.data[e]=t},this.get=function(e){return this.data[e]},this.remove=function(e){this.keys.remove(e),this.data[e]=null},this.each=function(e,t){if("function"==typeof e)for(var n=this.keys.length,i=0;n>i;i++){var a=this.keys[i];e(this.data[a],a,t)}},this.isEmpty=function(){return 0==this.keys.length},this.size=function(){return this.keys.length}}function inputAsrGetID(e){return staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_2?egretUntil.asrmap.get("shuzi"+e):staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_3?egretUntil.asrmap.get(e+"ge"):void 0}function touchJumpStartOgg(){saveLog("touchJumpStartOgg",staticVarUntil.numbersign),staticVarUntil.numbersign==staticVarUntil.ENGLISH_1_UNIT_2_TEST?(viewManager.getInstance().touchEnabled=!1,viewManager.getInstance().english1unit2test.touchEnabled=!1,stopSoundEffect(),getaudio("english/english1/unit2/hiready.ogg"),viewManager.getInstance().english1unit2test.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this)):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_2_TEST?(viewManager.getInstance().english2unit2test.touchEnabled=!1,stopSoundEffect(),viewManager.getInstance().english2unit2test.hiddenBlank(),getaudio("english/english2/unit2/chinese/animalhomebuildneedfind.ogg"),viewManager.getInstance().english2unit2test.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this)):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_3_TEST?(viewManager.getInstance().english2unit3test.touchEnabled=!1,stopSoundEffect(),getaudio("english/english2/unit3/sayanimalenglishgetfood.ogg"),viewManager.getInstance().english2unit3test.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this)):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT2_1TO5?(viewManager.getInstance().englishnumunit21to5.touchEnabled=!1,stopSoundEffect(),getaudio("english/englishnum1to5/unit2/happyfamilyfriutpick.ogg")):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT3_1TO5?(viewManager.getInstance().englishnumunit31to5.touchEnabled=!1,stopSoundEffect(),getaudio("english/englishnum1to5/unit3/introducetitle.ogg")):staticVarUntil.numbersign==staticVarUntil.ENGLISH_GREETING_UNIT3&&(viewManager.getInstance().englishgreetingchallenge.touchEnabled=!1,stopSoundEffect(),getaudio("english/englishgreeting/unit3/english14-3-2.ogg"),viewManager.getInstance().englishgreetingchallenge.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this))}function sendToHtml(data){console.log("sendToHtml",data);var json=eval("("+data+")");if("onCompletion"==json.method_name){if("mp4"==json.format){sendToAndroid("setButtonVisible",["visible","button_tag"],["false","btn_skip"]);var viewmanagerevent=new viewManagerEvent(viewManagerEvent.VIEW_MANA_EVENT);viewmanagerevent.eventType=staticVarUntil.ENDVIEW,viewmanagerevent.eventObj=this,operateUntil.initVar(),viewManager.getInstance().dispatchEvent(viewmanagerevent)}getaudio(json.url)}else if("onResult"==json.method_name)get(json.result);else if("onGetOpenCourse"==json.method_name)unit=json.unit_index,urllocation=json.type+"_"+json.lesson_index;else if("onPause"==json.method_name)onPause();else if("onResume"==json.method_name)onResume();else if("onGetUnitResultLong"==json.method_name){if(json.score)if("english-1-1"==json.course||"english-10-1"==json.course)sendToAndroid("setButtonVisible",["visible","button_tag"],["true","btn_skip"]);else{var viewmanagerevent=new viewManagerEvent(viewManagerEvent.VIEW_MANA_EVENT);viewmanagerevent.eventType=staticVarUntil.ENDVIEW,viewmanagerevent.eventObj=this,viewManager.getInstance().nextjumpbutton.visible=!0,viewManager.getInstance().nextjumpbutton.touchEnabled=!0,viewManager.getInstance().nextjumpbutton.hasEventListener(egret.TouchEvent.TOUCH_TAP)||viewManager.getInstance().nextjumpbutton.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){viewManager.getInstance().nextjumpbutton.touchEnabled=!1,viewManager.getInstance().nextjumpbutton.visible=!1,staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_1_NUMBERONE?egret.Tween.pauseTweens(viewManager.getInstance().math1unit1numberone):staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_1_NUMBERTWO?egret.Tween.pauseTweens(viewManager.getInstance().math1unit1numbertwo):staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_1_NUMBERTHREE&&egret.Tween.pauseTweens(viewManager.getInstance().math1unit1numberthree),saveLog("跳过按钮","停止所有声音的播放"),stopSoundEffect(),animationUntil.effectJelly(viewManager.getInstance().nextjumpbutton),mathfat.PauseAllAnimation(),operateUntil.initVar(),viewManager.getInstance().dispatchEvent(viewmanagerevent)},this)}}else if("onButtonClicked"==json.method_name){if(saveLog("json",json.button_tag+" "),"btn_skip"==json.button_tag){sendToAndroid("setButtonVisible",["visible","button_tag"],["false","btn_skip"]),staticVarUntil.numbersign==staticVarUntil.ENGLISH_1_UNIT_1_STUDY?sendToAndroid("stopPlayMp4",["url"],[url+"english/english1/unit1/family.mp4"]):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_1_STUDY&&sendToAndroid("stopPlayMp4",["url"],[url+"english/english2/unit1/knowanimal.mp4"]);var viewmanagerevent=new viewManagerEvent(viewManagerEvent.VIEW_MANA_EVENT);viewmanagerevent.eventType=staticVarUntil.ENDVIEW,viewmanagerevent.eventObj=this,operateUntil.initVar(),viewManager.getInstance().dispatchEvent(viewmanagerevent)}}else"onIsCoinIncrease"==json.method_name?saveLog("onIsCoinIncrease",json.is_increase):"onBackPressed"==json.method_name?getLogfromCourse():"onIsInSpeech"==json.method_name?(saveLog("isInSpeech",""),saveLog("json.speech",json.speech),json.speech?(saveLog("speeching",""),viewManager.getInstance().timeruntil.asrtimer.overtime=!0):(saveLog("speeched",""),viewManager.getInstance().timeruntil.playSound())):"onIsLastUnitNextBtnEnable"==json.method_name&&(json.next_btn_enable?viewManager.getInstance().endview.passView("test",2,!1):viewManager.getInstance().endview.passView("test",0,!0))}function startAsr(e,t){asrstate=!0,staticVarUntil.numbersign.indexOf("math")>=0?(saveLog("math","开启asr"),sendToAndroid("startAsr",["smode","result"],[3,inputAsrGetID(t)+""])):staticVarUntil.numbersign.indexOf("english")>=0&&(saveLog("english","开启asr"),sendToAndroid("startAsr",["smode","result"],[4,t+""])),viewManager.getInstance().timeruntil||(viewManager.getInstance().timeruntil=new timerUntil),viewManager.getInstance().timeruntil.asrtimer.running||(viewManager.getInstance().timeruntil.asrtimer.start(),staticVarUntil.timerstart=egret.getTimer(),timerstate=!0),pauseSoundEffect(),micUntil.getInstance().showMic(),viewManager.getInstance().touchEnabled=!0}function stopAsr(e){void 0===e&&(e=!1),sendToAndroid("cancelAsr",[],[]),viewManager.getInstance().touchEnabled=!1,e||(staticVarUntil.timercurrentcount=0),viewManager.getInstance().timeruntil.asrtimer.reset(),timerstate=!1,resumeSoundEffect(),staticVarUntil.ispassasr=!1,micUntil.getInstance().hiddenMic()}function onPauseAsr(){asrstate&&sendToAndroid("cancelAsr",[],[]),timerstate&&viewManager.getInstance().timeruntil.asrtimer.stop(),micUntil.getInstance().hiddenMicTime()}function onResumeAsr(){}function courseInfo(e){return e==staticVarUntil.MATH_1_UNIT_1?{course:"math-1-1",next_unit:"math-1-2"}:e==staticVarUntil.MATH_1_UNIT_2?{course:"math-1-2",next_unit:"math-1-3"}:e==staticVarUntil.MATH_1_UNIT_3?{course:"math-1-3",next_unit:"next_lesson"}:e==staticVarUntil.ENGLISH_1_UNIT_1_STUDY?{course:"english-1-1",next_unit:"english-1-2"}:e==staticVarUntil.ENGLISH_1_UNIT_2_TEST?{course:"english-1-2",next_unit:"english-1-3"}:e==staticVarUntil.ENGLISH_1_UNIT_3_TEST?{course:"english-1-3",next_unit:"next_lesson"}:e==staticVarUntil.ENGLISH_2_UNIT_2_TEST?{course:"english-10-2",next_unit:"english-10-3"}:e==staticVarUntil.ENGLISH_2_UNIT_3_TEST?{course:"english-10-3",next_unit:"next_lesson"}:e==staticVarUntil.ENGLISH_2_UNIT_1_STUDY?{course:"english-10-1",next_unit:"english-10-2"}:e==staticVarUntil.ENGLISH_NUM_UNIT_1TO5?{course:"english-12-1",next_unit:"english-12-2"}:e==staticVarUntil.ENGLISH_NUM_UNIT2_1TO5?{course:"english-12-2",next_unit:"english-10-3"}:e==staticVarUntil.ENGLISH_NUM_UNIT3_1TO5?{course:"english-12-3",next_unit:"next_lesson"}:e==staticVarUntil.ENGLISH_GRETTING_UNIT1?{course:"english-14-1",next_unit:"english-14-2"}:e==staticVarUntil.ENGLISH_GREETING_UNIT2?{course:"english-14-2",next_unit:"english-14-3"}:e==staticVarUntil.ENGLISH_GREETING_UNIT3?{course:"english-14-3",next_unit:"next_lesson"}:e==staticVarUntil.ENGLISH_CLOCK_UNIT1?{course:"english-15-1",next_unit:"english-15-2"}:e==staticVarUntil.ENGLISH_CLOCK_UNIT3?{course:"english-15-2",next_unit:"english-15-3"}:e==staticVarUntil.ENGLISH_CLOCK_UNIT4?{course:"english-15-3",next_unit:"next_lesson"}:void 0}var urlsearch=window.location.search,unit=2,andriod=window.injs,h5=!0,urllocation;h5?(urllocation=window.location.pathname,urllocation=urllocation.substring(urllocation.indexOf("8080")+2,urllocation.indexOf("index")-1),getQueryString("unit")?(unit=parseInt(getQueryString("unit")),saveLog("unit",unit)):andriod&&(unit=1),getQueryString("dx")&&sendToAndroid("setToastEnable",["enable"],[!1])):sendToAndroid("getOpenCourse",[],[]);var url="/commonegret/resource/media/";andriod||(url="resource/media/"),andriod||(urllocation="english_15");var exmode1="close",exmode2="touch",exmode3="abort",sounndegret,animationUntil=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t);n.prototype;return t.shanshuo=function(e,t,n,i){var a=egretUntil.createBitmapByName(e);a.alpha=0,a.x=t,a.y=n,i.addChild(a),mathfat.setTweenarr(a),egret.Tween.get(a,{loop:!0}).wait(200).to({alpha:1},200).wait(200).to({alpha:0},200)},t.numJump=function(e,t){var n=t.y;egret.Tween.get(t,{loop:!0}).to({y:e},600).to({y:n},600)},t.spinLoop=function(e){egret.Tween.get(e,{loop:!0}).to({rotation:360},1e4)},t.jumpOut=function(e,t){egret.Tween.get(e).to({y:t},500,egret.Ease.backOut)},t.topingChangeSmall=function(e,t){egret.Tween.get(e,{loop:!0}).to({y:t,scaleX:.6,scaleY:.6},3e3)},t.effectJelly=function(e,t,n,i,a){void 0===t&&(t=!1),void 0===n&&(n=0),void 0===i&&(i=1),void 0===a&&(a=function(){});var r=0;!function s(){i>r&&(r++,egret.Tween.get(e,{loop:t}).wait(n).to({scaleX:1.2,scaleY:.8},130).to({scaleX:.8,scaleY:1.2},130).to({scaleX:1,scaleY:1},130).call(function(){r>=i&&a()}).call(s))}()},t}(egret.Sprite);egret.registerClass(animationUntil,"animationUntil");var asrstate=!1,timerstate=!1,buttonUntil=function(e){function t(){e.call(this),this.butrelatearr=[]}__extends(t,e);var n=(__define,t),i=n.prototype;return i.findButtonIndex=function(e,t){for(var n=0;n<e.length;n++)if(e[n].butobj.x<t.stageX&&t.stageX<e[n].butobj.x+e[n].butobj.width&&e[n].butobj.y<t.stageY&&t.stageY<e[n].butobj.y+e[n].butobj.height)return n;return null},i.setButtonarr=function(e,t,n){this.butrelatearr.push({butobj:e,numobj:t,numsign:n})},i.allWrongSysShowRight=function(e,t){for(var n=0;n<e.length;n++)if(e[n].numsign==t)return n;return null},t}(egret.Sprite);egret.registerClass(buttonUntil,"buttonUntil");var changeScenceAnimation=function(){function e(){}var t=(__define,e);t.prototype;return e.pullSceenUpToDown=function(e,t,n,i){egret.setTimeout(function(){},i,2e3,"egret"),e.alpha=0,egret.Tween.get(e).wait(2e3).to({alpha:1},800,egret.Ease.cubicIn).wait(150).call(n,i)},e.pullSceenRightToLeft=function(e,t,n,i){egret.setTimeout(function(){},i,2e3,"egret"),e.alpha=0,egret.Tween.get(e).wait(2e3).to({alpha:1},800,egret.Ease.cubicIn).wait(150).call(n,i)},e.changeSigleContentRTol=function(e,t,n,i){e.setProXY(980,0),egret.setTimeout(function(){},i,2e3,"egret"),egret.Tween.get(e).wait(2e3).to({x:0},1300,egret.Ease.cubicIn).wait(150).call(n,i)},e.changeSigleContentUToD=function(e,t,n,i){e.setProXY(0,-600),egret.setTimeout(function(){},i,2e3,"egret"),egret.Tween.get(e).wait(2e3).to({y:0},1300,egret.Ease.cubicIn).wait(150).call(n,i)},e}();egret.registerClass(changeScenceAnimation,"changeScenceAnimation");var dragonBone=function(e){function t(){e.call(this),this.speedX=0,this.speedY=0}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addDB=function(e,t,n,i){var a=RES.getRes(e),r=RES.getRes(t),s=RES.getRes(n),o=new dragonBones.EgretFactory;o.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(a)),o.addTextureAtlas(new dragonBones.EgretTextureAtlas(s,r)),this.armature=o.buildFastArmature(i),this.armature.enableAnimationCache(30),this.addChild(this.armature.display)},i.setPos=function(e,t){this.x=e,this.y=t},i.getPosX=function(){return this.x},i.getPosY=function(){return this.y},i.settimeScale=function(e){this.armature.animation.timeScale=e},i.setstartPlay=function(e,t){this.armature.animation.gotoAndPlay(e,-1,-1,t)},i.setSpeedXY=function(e,t){this.speedX=e,this.speedY=t
},i.getSpeedX=function(){return this.speedX},i.getSpeedY=function(){return this.speedY},i.getArmature=function(){return this.armature},i.getArmatureWidth=function(){return this.armature.display.width},i.setScaleX=function(e){this.armature.scaleX=e},i.setScaleY=function(e){this.armature.scaleY=e},t}(egret.Sprite);egret.registerClass(dragonBone,"dragonBone");var egretUntil=function(){function e(){}var t=(__define,e);t.prototype;return e.createBitmapByName=function(e){var t=new egret.Bitmap,n=RES.getRes(e);return t.texture=n,mathfat.setTweenarr(t),t},e.getStageHeight=function(){return egret.MainContext.instance.stage.stageHeight},e.getStageWidth=function(){return egret.MainContext.instance.stage.stageWidth},e.getStageFrameRate=function(){return egret.MainContext.instance.stage.frameRate},e.getArrayItems=function(e,t){var n=new Array;for(var i in e)n.push(e[i]);for(var a=new Array,r=0;t>r&&n.length>0;r++){var s=Math.floor(Math.random()*n.length);a[r]=n[s],n.splice(s,1)}return a},e.findArrMinNum=function(e){for(var t=e[0],n=0;n<e.length;n++)t>e[n]&&(t=e[n]);return t},e.randomArr=function(e,t){for(var n=[],i=!0;n.length<t-e+1;){i=!0;for(var a=parseInt(Math.random()*(t-e+1)+e),r=0;r<n.length;r++)n[r]==a&&(i=!1);i&&n.push(a)}return n},e.wrapFunction=function(t){var n=this;return e.promise(function(e,i){t.call(n,e)})},e.asrmap=new Maps,e.promise=egret.Promise,e}();egret.registerClass(egretUntil,"egretUntil");var mathfat=function(e){function t(){e.call(this),this.viewmanagerevent=new viewManagerEvent(viewManagerEvent.VIEW_MANA_EVENT)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addCommonPer=function(e,t,n){staticVarUntil.numbersign=t,this.viewmanagerevent.eventType=e,this.viewmanagerevent.eventObj=n,staticVarUntil.numbersign.indexOf("math1_unit1")>=0?staticVarUntil.mathunitnum=staticVarUntil.MATH_1_UNIT_1:staticVarUntil.numbersign.indexOf("math1_unit2")>=0?staticVarUntil.mathunitnum=staticVarUntil.MATH_1_UNIT_2:staticVarUntil.numbersign.indexOf("math1_unit3")>=0?staticVarUntil.mathunitnum=staticVarUntil.MATH_1_UNIT_3:staticVarUntil.numbersign.indexOf("english1_unit1")>=0?staticVarUntil.mathunitnum=staticVarUntil.numbersign:staticVarUntil.numbersign.indexOf("english1_unit2")>=0?staticVarUntil.mathunitnum=staticVarUntil.numbersign:staticVarUntil.numbersign.indexOf("english1_unit3")>=0?staticVarUntil.mathunitnum=staticVarUntil.numbersign:staticVarUntil.numbersign.indexOf("english2_unit1")>=0?staticVarUntil.mathunitnum=staticVarUntil.numbersign:staticVarUntil.numbersign.indexOf("english2_unit2")>=0?staticVarUntil.mathunitnum=staticVarUntil.numbersign:staticVarUntil.numbersign.indexOf("english2_unit3")>=0&&(staticVarUntil.mathunitnum=staticVarUntil.numbersign)},i.getViewmanagerevent=function(){return stopSoundEffect(),this.viewmanagerevent},t.setMcarr=function(e,n,i){void 0===i&&(i=0),t.mcarr.push({mcname:e,mcplaying:n.isPlaying,mcobj:n,playtimes:i})},t.setMcTimes=function(e,n){for(var i=0;i<t.mcarr.length;i++)if(t.mcarr[i].mcname==e)return void(t.mcarr[i].playtimes=n)},t.setsettimerarr=function(e){t.settimerarr.push(e)},t.getMcarr=function(){return t.mcarr},t.setTweenarr=function(e){t.tweenarr.push(e)},t.getTweenarr=function(){return t.tweenarr},t.setTick=function(e,n){t.tickerarr.push({funtick:e,obj:n})},t.setparticlearr=function(e){t.particlearr.push(e)},t.setTimerArr=function(e){t.timerarr.push(e)},t.PauseAllAnimation=function(){if(staticVarUntil.numbersign!=staticVarUntil.ENDVIEW){for(var e=0;e<t.mcarr.length;e++)t.mcarr[e].mcobj.parent&&t.mcarr[e].mcobj.isPlaying&&(t.mcarr[e].mcplaying=!0,t.mcarr[e].mcobj.stop());for(var e=0;e<t.tweenarr.length;e++)t.tweenarr[e].parent&&(egret.Tween.pauseTweens(t.tweenarr[e]),egret.Tween.removeTweens(t.tweenarr[e]));for(var e=0;e<t.tickerarr.length;e++)try{egret.stopTick(t.tickerarr[e].funtick,t.tickerarr[e].obj)}catch(n){}for(var e=0;e<t.particlearr.length;e++)t.particlearr[e].stop();for(var e=0;e<t.timerarr.length;e++)egret.clearTimeout(t.timerarr[e]);for(var e=0;e<t.settimerarr.length;e++)t.settimerarr[e].reset(),staticVarUntil.timercurrentcount=0}},t.resumeAllAnimation=function(){for(var e=0;e<t.mcarr.length;e++)t.mcarr[e].mcobj.parent&&t.mcarr[e].mcplaying&&(t.mcarr[e].mcplaying=!1,t.mcarr[e].mcobj.play(t.mcarr[e].playtimes));for(var e=0;e<t.tweenarr.length;e++)t.tweenarr[e].parent&&egret.Tween.resumeTweens(t.tweenarr[e]);for(var e=0;e<t.tickerarr.length;e++)try{egret.startTick(t.tickerarr[e].funtick,t.tickerarr[e].obj)}catch(n){}},t.initArr=function(){t.mcarr=[],t.tweenarr=[],t.particlearr=[],t.settimerarr=[],t.tickerarr=[]},t.mcarr=[],t.tweenarr=[],t.tickerarr=[],t.particlearr=[],t.timerarr=[],t.settimerarr=[],t}(egret.DisplayObjectContainer);egret.registerClass(mathfat,"mathfat");var endView=function(e){function t(){e.call(this),this.buttonproxy=[{imgclickname:"clickback",imgnomalname:"nomalback",imglastname:"nomalback",butx:216,buty:308,signresult:"back"},{imgclickname:"clickreplay",imgnomalname:"nomalreplay",imglastname:"nomalreplay",butx:413,buty:308,signresult:"replay"},{imgclickname:"clicknext",imgnomalname:"nomalnext",imglastname:"huise_png",butx:605,buty:308,signresult:"next"}],this.lastUnit=!1,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addBeijing,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addBeijing=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addBeijing,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENDVIEW,this),this.buttonuntil=new buttonUntil;var e=egretUntil.createBitmapByName("bg_png");saveLog("endviewbg",e+""),this.addChild(e),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.buttonBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.buttonEnd,this)},i.showContent=function(){this.lighting=egretUntil.createBitmapByName("lighting"),this.addChild(this.lighting),mathfat.setTweenarr(this.lighting),this.lighting.alpha=.5,this.lighting.x=249+this.lighting.width/2,this.lighting.y=22+this.lighting.height/2,this.lighting.anchorOffsetX=this.lighting.width/2,this.lighting.anchorOffsetY=this.lighting.height/2,this.lighting.visible=!1,this.huisecaihong=new movieClip,this.addChild(this.huisecaihong),this.huisecaihong.visible=!1,this.huisecaihong.addNumber("huisecaihong_json","huisecaihong_png","huisecaihong"),this.huisecaihong.setProXY(304,139),this.caihong=new movieClip,this.addChild(this.caihong),this.caihong.visible=!1,this.caihong.addNumber("caihong_json","caihong_png","caihong"),this.caihong.setProXY(304,139),this.cloud=egretUntil.createBitmapByName("cloud"),this.addChild(this.cloud),this.cloud.x=210+this.cloud.width/2,this.cloud.y=240+this.cloud.height/2,this.cloud.anchorOffsetX=this.cloud.width/2,this.cloud.anchorOffsetY=this.cloud.height/2,this.cloud.scaleX=.7,this.cloud.scaleY=.7},i.passView=function(e,t,n){var i=this;this.lastUnit=n,this.promptButSound(t),this.addParticle(),egret.Tween.get(this.cloud).to({scaleX:1,scaleY:1},1e3).call(function(){this.caihong.visible=!0,this.caihong.getMc().gotoAndPlay("start",1),staticVarUntil.ignorsound||playSoundEffect("common/bouncestar/caihong.ogg")},this),this.caihong.getMc().addEventListener(egret.Event.COMPLETE,function(a){i.lighting.visible=!0,animationUntil.spinLoop(i.lighting),i.system.start(),"study"==e?i.addStarAndMoney(staticVarUntil.iscoin,2,!1):i.addStarAndMoney(staticVarUntil.iscoin,t,n)},this)},i.overView=function(e){this.cloud.scaleX=1,this.cloud.scaleY=1,this.promptButSound(1),staticVarUntil.ignorsound||playSoundEffect("common/bouncestar/huisecaihong.ogg"),this.caihong.visible=!0,this.caihong.getMc().gotoAndPlay("end",1),staticVarUntil.ignorsound||playSoundEffect("common/bouncestar/caihonglie.ogg"),egret.Tween.get(this.caihong).wait(1e3).to({alpha:.5},800).call(function(){egret.Tween.removeTweens(this.lighting),this.caihong.visible=!1,this.huisecaihong.visible=!0,this.huisecaihong.getMc().gotoAndPlay("start",1)},this).wait(2300).call(this.addButton,this,[1,e]),egret.Tween.get(this.lighting).to({alpha:0},800).call(function(){this.lighting.visible=!1},this),this.lighting.visible=!0,this.lastUnit=e,animationUntil.spinLoop(this.lighting)},i.addParticle=function(){var e=RES.getRes("lightingpointParticle_png"),t=RES.getRes("lightingpointParticle_json");this.system=new particle.GravityParticleSystem(e,t),this.addChild(this.system),mathfat.setparticlearr(this.system)},i.addStarAndMoney=function(e,t,n){var i=egretUntil.createBitmapByName("star");if(this.addChild(i),i.x=222+i.width/2,i.y=302+i.height/2,i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,i.scaleX=.3,i.scaleY=.3,egret.Tween.get(i).to({scaleX:1,scaleY:1},400).to({y:i.y-10},1e3).to({y:i.y+10},1e3).to({x:827,y:80,scaleX:.2,scaleY:.2},1e3).to({visible:!1}),staticVarUntil.ignorsound||playSoundEffect("common/bouncestar/starmoney.ogg"),e){var a=egretUntil.createBitmapByName("money");this.addChild(a),a.x=618+a.width/2,a.y=298+a.height/2,a.anchorOffsetX=a.width/2,a.anchorOffsetY=a.height/2,a.scaleX=.3,a.scaleY=.3,a.visible=!1,egret.Tween.get(a).wait(600).to({visible:!0}).to({scaleX:1,scaleY:1},400).to({y:a.y-10},1e3).to({y:a.y+10},1e3).to({x:827,y:80,scaleX:.2,scaleY:.2},1e3).to({visible:!1})}egret.Tween.get(this).wait(4500).call(this.addButton,this,[t,n])},i.addButton=function(e,t){for(var n=0;n<this.buttonproxy.length;n++){var i;t?i=egretUntil.createBitmapByName(this.buttonproxy[n].imglastname):(i=egretUntil.createBitmapByName(this.buttonproxy[n].imgnomalname),saveLog("but",i.width)),i.x=this.buttonproxy[n].butx+i.width/2,i.y=this.buttonproxy[n].buty+i.height/2,i.anchorOffsetX=i.width/2,i.anchorOffsetY=i.height/2,this.addChild(i),i.visible=!1;var a=egretUntil.createBitmapByName(this.buttonproxy[n].imgclickname);a.x=this.buttonproxy[n].butx+a.width/2,a.y=this.buttonproxy[n].buty+a.height/2,a.anchorOffsetX=a.width/2,a.anchorOffsetY=a.height/2,this.addChild(a),a.visible=!1,this.buttonuntil.setButtonarr(i,a,this.buttonproxy[n].signresult)}this.buttonuntil.butrelatearr[0].butobj.scaleX=.6,this.buttonuntil.butrelatearr[0].butobj.scaleY=.6,egret.Tween.get(this.buttonuntil.butrelatearr[0].butobj).to({visible:!0}).to({scaleX:1,scaleY:1},500,egret.Ease.backOut),this.buttonuntil.butrelatearr[1].butobj.scaleX=.6,this.buttonuntil.butrelatearr[1].butobj.scaleY=.6,egret.Tween.get(this.buttonuntil.butrelatearr[1].butobj).wait(200).to({visible:!0}).to({scaleX:1,scaleY:1},500,egret.Ease.backOut),this.buttonuntil.butrelatearr[2].butobj.scaleX=.6,this.buttonuntil.butrelatearr[2].butobj.scaleY=.6,egret.Tween.get(this.buttonuntil.butrelatearr[2].butobj).wait(400).to({visible:!0}).to({scaleX:1,scaleY:1},500,egret.Ease.backOut).call(function(){operateUntil.endViewOpenTouch(),this.touchEnabled=!0},this),staticVarUntil.ignorsound||playSoundEffect("common/bouncestar/bouncebutton.ogg"),egret.Tween.get(this).wait(400).call(this.getArcProgress,this,[this.buttonuntil.butrelatearr[e].butobj.x-2,this.buttonuntil.butrelatearr[e].butobj.y,this.buttonuntil.butrelatearr[e].butobj.width/2-10])},i.buttonBegin=function(e){saveLog("","点击开始");var t=this.buttonuntil.butrelatearr.length;this.lastUnit&&t--;for(var n=0;t>n;n++){var i=e.stageX,a=e.stageY,r=this.buttonproxy[n].butx,s=this.buttonproxy[n].buty,o=this.buttonuntil.butrelatearr[n].butobj.width,h=this.buttonuntil.butrelatearr[n].butobj.height;if(i>r&&r+o>i&&a>s&&s+h>a){var g=this.buttonuntil.butrelatearr[n].numobj,l=this.buttonuntil.butrelatearr[n].butobj;mathfat.PauseAllAnimation(),englishfat.PauseAllAnimation(),this.downButtonIndex=n,g.visible=!0,l.visible=!1}}},i.buttonEnd=function(){if(this.downButtonIndex>-1){var e=this.buttonuntil.butrelatearr[this.downButtonIndex].numsign;"back"==e?(saveLog("","点了返回"),egret.setTimeout(onBackButtonPressed,this,500)):"next"==e?(saveLog("","点了下一关按钮"),egret.setTimeout(nextLesson,this,500)):"replay"==e&&(saveLog("","点了重来按钮"),egret.setTimeout(rePlay,this,500)),playSoundEffect("common/bouncestar/starmoney.ogg"),this.buttonuntil.butrelatearr[this.downButtonIndex].numobj.visible=!1,this.buttonuntil.butrelatearr[this.downButtonIndex].butobj.visible=!0,animationUntil.effectJelly(this.buttonuntil.butrelatearr[this.downButtonIndex].butobj),this.downButtonIndex=-1,operateUntil.endViewCloseTouch(),this.touchEnabled=!1}staticVarUntil.ignorsound=!1},i.getArcProgress=function(e,t,n){function i(e){return s+=30,a(s),s%=360,saveLog("times",o+" "+s),o>0&&(r.graphics.clear(),egret.stopTick(i,this)),!0}function a(i){r.graphics.clear(),r.graphics.lineStyle(12,14317549,1),r.graphics.drawArc(e,t,n,0,i*Math.PI/180,!1),r.graphics.endFill(),360==i&&o++}var r=new egret.Shape;this.addChild(r);var s=0,o=0;egret.startTick(i,this)},i.setProXY=function(e,t){this.x=e,this.y=t},i.promptButSound=function(e){for(var t=0;t<staticVarUntil.studyArr.length;t++)if(staticVarUntil.mathunitnum.indexOf(staticVarUntil.studyArr[t])>=0)return void playSoundEffect("common/bouncestar/friendwegonextfightting.ogg");for(var t=0;t<staticVarUntil.endArr.length;t++)if(staticVarUntil.mathunitnum.indexOf(staticVarUntil.endArr[t])>=0)return void(2==e?playSoundEffect("common/bouncestar/verygoodwegonextlesson.ogg"):1==e?playSoundEffect("common/bouncestar/jiayouweplayagain.ogg"):0==e&&playSoundEffect("common/bouncestar/youbetteritlastlesson.ogg"));2==e?playSoundEffect("common/bouncestar/verygoodwegonextunit.ogg"):1>=e&&playSoundEffect("common/bouncestar/jiayouweplayagain.ogg")},i.handleAudio=function(e){(e.indexOf("common/bouncestar/friendwegonextfightting")>=0||e.indexOf("common/bouncestar/verygoodwegonextunit")>=0||e.indexOf("common/bouncestar/jiayouweplayagain")>=0||e.indexOf("common/bouncestar/youbetteritlastlesson")>=0||e.indexOf("common/bouncestar/verygoodwegonextlesson")>=0)&&egret.log("endview进来了")},t}(mathfat);egret.registerClass(endView,"endView");var micUntil=function(e){function t(){e.call(this),this.addMic()}__extends(t,e);var n=(__define,t),i=n.prototype;return t.getInstance=function(){return null==t.instance&&(console.log("new mic"),t.instance=new t),t.instance},i.addMic=function(){this.setXY();var e=egretUntil.createBitmapByName("y");this.addChild(e);var t=egretUntil.createBitmapByName("y1");this.addChild(t),t.x=13,t.y=(e.height-t.height)/2;var n=egretUntil.createBitmapByName("h1");this.addChild(n),n.x=(t.width-n.width)/2+t.x,n.y=(t.height-n.height)/2+t.y;var i=egretUntil.createBitmapByName("h2");this.addChild(i),i.x=(t.width-i.width)/2+t.x,i.y=(t.height-i.height)/2+t.y,this.mich=egretUntil.createBitmapByName("h3"),this.addChild(this.mich),this.mich.x=(t.width-this.mich.width)/2+t.x,this.mich.y=(t.height-this.mich.height)/2+t.y,this.mich.fillMode=egret.BitmapFillMode.REPEAT,this.copymich=i,this.copymichheight=i.height,this.copymich.fillMode=egret.BitmapFillMode.REPEAT},i.setXY=function(){this.x=egretUntil.getStageWidth(),this.y=10},t.micShanshuo=function(){t.instance.copymich.visible=!0,t.instance.addChild(t.instance.copymich),mathfat.setTweenarr(t.instance.copymich),egret.Tween.get(t.instance.copymich,{loop:!0}).to({height:0},1e3).to({height:t.instance.copymichheight},50)},t.micStopShanshuo=function(){egret.Tween.removeTweens(t.instance.copymich),t.instance.copymich.height=t.instance.copymichheight,t.instance.copymich.visible=!1},i.showMic=function(){mathfat.setTweenarr(t.instance),t.instance||egret.log("catchMic:showMic()"),egret.Tween.get(t.instance).to({x:egretUntil.getStageWidth()-t.instance.width},300).call(t.micShanshuo,this)},i.hiddenMic=function(){egret.Tween.get(t.instance).call(t.micStopShanshuo,this).wait(300).to({x:egretUntil.getStageWidth()},300)},i.hiddenMicTime=function(){t.micShanshuo(),t.instance.x=egretUntil.getStageWidth()},t}(egret.Sprite);egret.registerClass(micUntil,"micUntil");var movieClip=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addNumber=function(e,t,n){var e=RES.getRes(e),t=RES.getRes(t),i=new egret.MovieClipDataFactory(e,t);this.mc=new egret.MovieClip(i.generateMovieClipData(n)),this.addChild(this.mc),this.mc.x=0,this.mc.y=0},i.setProXY=function(e,t){this.x=e,this.y=t},i.getProXY=function(){return{x:this.x,y:this.y}},i.getMc=function(){return this.mc},t}(egret.Sprite);egret.registerClass(movieClip,"movieClip");var operateUntil=function(){function e(){}var t=(__define,e);t.prototype;return e.touchButtonWrongMarkWord=function(e,t,n,i){1==e?playSoundEffect(t):2==e?playSoundEffect(n):3==e&&playSoundEffect(i)},e.asrWrongMarkWord=function(e,t,n,i){1==e?playSoundEffect(t):2==e?playSoundEffect(n):3==e&&playSoundEffect(i)},e.onTouchTap=function(e,t,n,i,a){var r=t.buttonuntil.findButtonIndex(t.buttonuntil.butrelatearr,e);if(null!=r)if(saveLog("touch","点击关闭asr"),stopAsr(),t.numarr[r].numsign==staticVarUntil.rightresulte){playSoundEffect(a),staticVarUntil.totalrighttimunum++;try{n(t,r)}catch(s){egret.log(s+" callback")}}else staticVarUntil.everytitlewrongtimes++,staticVarUntil.totalwrong++,playSoundEffect(i)},e.asrResult=function(e,t,n,i,a,r){if(e==r){staticVarUntil.totalrighttimunum++,playSoundEffect(t);try{i(a,a.buttonuntil.allWrongSysShowRight(a.buttonuntil.butrelatearr,r))}catch(s){}}else staticVarUntil.everytitlewrongtimes++,staticVarUntil.totalwrong++,staticVarUntil.getasrerror++,playSoundEffect(n)},e.onTouchTestStudyTap=function(e,t,n){var i=t.buttonuntil.findButtonIndex(t.buttonuntil.butrelatearr,e);null!=i&&n(i,t)},e.sayWordByRightResult=function(e){return 1==e?"one":2==e?"two":3==e?"three":void 0},e.typeOfCourse=function(){return saveLog("typeOfCourse",staticVarUntil.mathunitnum),e.isExpectations(staticVarUntil.mathunitnum,staticVarUntil.studyArr)?{type:"study",score:1,islast:!1}:e.isExpectations(staticVarUntil.mathunitnum,staticVarUntil.endArr)?e.getScore()>1?{type:"test",score:1,islast:!0}:{type:"test",score:0,islast:!0}:e.getScore()>1?{type:"test",score:1,islast:!1}:{type:"test",score:0,islast:!1}},e.isExpectations=function(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},e.initVar=function(){staticVarUntil.everytitlewrongtimes=0,staticVarUntil.getasrerror=0,mathfat.initArr(),egret.pubsub.initPubsub(),viewManager.getInstance().timeruntil.asrtimer.reset(),staticVarUntil.timercurrentcount=0},e.getScore=function(e){return void 0===e&&(e=3),staticVarUntil.mathunitnum.indexOf("english1")>=0&&(e=6),staticVarUntil.mathunitnum.indexOf("english2")>=0&&(e=6),staticVarUntil.mathunitnum.indexOf("num1to5")>=0&&(e=5),staticVarUntil.mathunitnum.indexOf("english_gretting")>=0&&(e=4),staticVarUntil.mathunitnum.indexOf("english_clock")>=0&&(e=7),saveLog("getScore","right:"+staticVarUntil.totalrighttimunum+" "+e),staticVarUntil.totalrighttimunum>parseInt(e/2+"")?(staticVarUntil.totalgrade=3,3):(staticVarUntil.totalgrade=1,1)},e.initTotalWrong=function(){staticVarUntil.totalwrong=0},e.endViewOpenTouch=function(){viewManager.getInstance().touchEnabled=!0},e.answerNoGiveRightResult=function(){switch(staticVarUntil.numbersign){case staticVarUntil.MATH_1_UNIT_2_NUMBERONE:playSoundEffect("math/math1/unit2/numberone/thirdwrongandmark.ogg"),viewManager.getInstance().math1unit2numberone.sigletimutotalwrong=3-staticVarUntil.everytitlewrongtimes;break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTWO:playSoundEffect("math/math1/unit2/numbertwo/thirdwrongandmark.ogg"),viewManager.getInstance().math1unit2numbertwo.sigletimutotalwrong=3-staticVarUntil.everytitlewrongtimes;break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE:playSoundEffect("math/math1/unit2/numberthree/thirdwrongandmark.ogg"),viewManager.getInstance().math1unit2numberthree.sigletimutotalwrong=3-staticVarUntil.everytitlewrongtimes;break;case staticVarUntil.MATH_1_UNIT_3_NUMBERONE:playSoundEffect("math/math1/unit3/numberone/thirdwrongandright"+e.sayWordByRightResult(staticVarUntil.rightresulte)+".ogg"),viewManager.getInstance().math1unit3numberone.sigletimutotalwrong=3-staticVarUntil.everytitlewrongtimes;break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTWO:playSoundEffect("math/math1/unit3/numbertwo/thirdwrongandright"+e.sayWordByRightResult(staticVarUntil.rightresulte)+".ogg"),viewManager.getInstance().math1unit3numbertwo.sigletimutotalwrong=3-staticVarUntil.everytitlewrongtimes;break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE:playSoundEffect("math/math1/unit3/numberthree/thirdwrongandright"+e.sayWordByRightResult(staticVarUntil.rightresulte)+".ogg"),viewManager.getInstance().math1unit3numberthree.sigletimutotalwrong=3-staticVarUntil.everytitlewrongtimes;break;case staticVarUntil.ENGLISH_1_UNIT_2_TEST:playSoundEffect("english/english1/unit2/uhthirdwrong"+siglePersonArr[viewManager.getInstance().english1unit2test.personeindex].rightresult+".ogg"),viewManager.getInstance().math1unit3numberthree.sigletimutotalwrong=3-staticVarUntil.everytitlewrongtimes;break;case staticVarUntil.ENGLISH_2_UNIT_3_TEST:playSoundEffect("english/english2/unit3/Itsa"+viewManager.getInstance().english2unit3test.foodObjArr[viewManager.getInstance().english2unit3test.foodObjArrIndex].animal_name+".ogg"),viewManager.getInstance().english2unit3test.sigletimutotalwrong=3-staticVarUntil.everytitlewrongtimes;break;case staticVarUntil.ENGLISH_NUM_UNIT3_1TO5:var t=viewManager.getInstance().englishnumunit31to5.peopleAndCandleArr[viewManager.getInstance().englishnumunit31to5.peopleAndCandleArrIndex];playSoundEffect("english/englishnum1to5/unit3/"+(/3|4|5/.test(t.peopleNormalName)?"bigboycry":"smallboycry")+".ogg"),viewManager.getInstance().englishnumunit31to5.asrChangePeople(t.peopleNormalName,t.peopleCryName);break;case staticVarUntil.ENGLISH_CLOCK_UNIT4:viewManager.getInstance().englishclockunit4.pubsub.publish("answerwrong","");var n=viewManager.getInstance().englishclockunit4.getChildByName("coconut").getChildAt(0);n.trytimes=3;break;case staticVarUntil.ENGLISH_GREETING_UNIT3:playSoundEffect("english/englishgreeting/unit3/"+viewManager.getInstance().englishgreetingchallenge.scenceArr[viewManager.getInstance().englishgreetingchallenge.scenceArrIndex].ogg.promptOgg)}},e.endViewCloseTouch=function(){viewManager.getInstance().touchEnabled=!1},e.studyObjToNull=function(){viewManager.getInstance().math1unit1numberone=null,viewManager.getInstance().math1unit1numbertwo=null,viewManager.getInstance().math1unit1numberthree=null},e.testObjToNull=function(){viewManager.getInstance().math1unit2numberone=null,viewManager.getInstance().math1unit2numbertwo=null,viewManager.getInstance().math1unit2numberthree=null,viewManager.getInstance().math1unit3numberone=null,viewManager.getInstance().math1unit3numbertwo=null,viewManager.getInstance().math1unit3numberthree=null},e.showViewContent=function(){"study"==e.typeOfCourse().type?(staticVarUntil.iscoin=!0,viewManager.getInstance().endview.passView("study",2,!1)):e.typeOfCourse().score>0?(staticVarUntil.iscoin=!0,e.typeOfCourse().islast?sendToAndroid("isLastUnitNextBtnEnable",[],[]):viewManager.getInstance().endview.passView("test",2,!1)):e.typeOfCourse().islast?viewManager.getInstance().endview.overView(!0):viewManager.getInstance().endview.overView(!1)},e.pauseNumber=function(){saveLog("pauseNumber",staticVarUntil.numbersign),staticVarUntil.numbersign==staticVarUntil.ENDVIEW||(viewManager.getInstance().endview&&viewManager.getInstance().endview.parent&&(viewManager.getInstance().endview.parent.removeChild(viewManager.getInstance().endview),viewManager.getInstance().endview=null,egret.setTimeout(function(){viewManager.getInstance().endview=new endView},viewManager.getInstance(),500)),staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_1?staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_1_NUMBERONE?(egret.Tween.pauseTweens(viewManager.getInstance().math1unit1numberone),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit1numberone),viewManager.getInstance().math1unit1numberone=null):staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_1_NUMBERTWO?(egret.Tween.pauseTweens(viewManager.getInstance().math1unit1numbertwo),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit1numbertwo),viewManager.getInstance().math1unit1numbertwo=null):staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_1_NUMBERTHREE&&(egret.Tween.pauseTweens(viewManager.getInstance().math1unit1numberthree),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit1numberthree),viewManager.getInstance().math1unit1numberthree=null):staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_2?staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_2_NUMBERONE?(egret.Tween.pauseTweens(viewManager.getInstance().math1unit2numberone),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit2numberone),viewManager.getInstance().math1unit2numberone=null):staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_2_NUMBERTWO?(egret.Tween.pauseTweens(viewManager.getInstance().math1unit2numbertwo),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit2numbertwo),viewManager.getInstance().math1unit2numbertwo=null):staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE&&(egret.Tween.pauseTweens(viewManager.getInstance().math1unit2numberthree),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit2numberthree),viewManager.getInstance().math1unit2numberthree=null):staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_3?staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_3_NUMBERONE?(egret.Tween.pauseTweens(viewManager.getInstance().math1unit3numberone),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit3numberone),viewManager.getInstance().math1unit3numberone=null):staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_3_NUMBERTWO?(egret.Tween.pauseTweens(viewManager.getInstance().math1unit3numbertwo),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit3numbertwo),viewManager.getInstance().math1unit3numbertwo=null):staticVarUntil.numbersign==staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE&&(egret.Tween.pauseTweens(viewManager.getInstance().math1unit3numberthree),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit3numberthree),viewManager.getInstance().math1unit3numberthree=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_1_UNIT_1_STUDY?(sendToAndroid("setButtonVisible",["visible","button_tag"],["false","btn_skip"]),sendToAndroid("stopPlayMp4",["url"],[url+"english/english1/unit1/family.mp4"]),egret.Tween.pauseTweens(viewManager.getInstance().english1unit1study),viewManager.getInstance().removeChild(viewManager.getInstance().english1unit1study),viewManager.getInstance().english1unit1study=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_1_UNIT_2_TEST?(egret.Tween.pauseTweens(viewManager.getInstance().english1unit2test),viewManager.getInstance().removeChild(viewManager.getInstance().english1unit2test),viewManager.getInstance().english1unit2test=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_1_UNIT_3_TEST?(egret.Tween.pauseTweens(viewManager.getInstance().english1unit3test),viewManager.getInstance().removeChild(viewManager.getInstance().english1unit3test),viewManager.getInstance().english1unit3test=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_2_TEST?(egret.Tween.pauseTweens(viewManager.getInstance().english2unit2test),viewManager.getInstance().removeChild(viewManager.getInstance().english2unit2test),viewManager.getInstance().english2unit2test=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_3_TEST?(egret.Tween.pauseTweens(viewManager.getInstance().english2unit3test),viewManager.getInstance().removeChild(viewManager.getInstance().english2unit3test),viewManager.getInstance().english2unit3test=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_1_STUDY?(sendToAndroid("setButtonVisible",["visible","button_tag"],["false","btn_skip"]),sendToAndroid("stopPlayMp4",["url"],[url+"english/english2/unit1/knowanimal.mp4"]),egret.Tween.pauseTweens(viewManager.getInstance().english2unit1study),viewManager.getInstance().removeChild(viewManager.getInstance().english2unit1study),viewManager.getInstance().english2unit1study=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT_1TO5?(egret.Tween.pauseTweens(viewManager.getInstance().englishnumunit11to5),viewManager.getInstance().removeChild(viewManager.getInstance().englishnumunit11to5),viewManager.getInstance().englishnumunit11to5=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT2_1TO5?(egret.Tween.pauseTweens(viewManager.getInstance().englishnumunit21to5),viewManager.getInstance().removeChild(viewManager.getInstance().englishnumunit21to5),viewManager.getInstance().englishnumunit21to5=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT3_1TO5?(egret.Tween.pauseTweens(viewManager.getInstance().englishnumunit31to5),viewManager.getInstance().removeChild(viewManager.getInstance().englishnumunit31to5),viewManager.getInstance().englishnumunit31to5=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_GRETTING_UNIT1?(egret.Tween.pauseTweens(viewManager.getInstance().englishgrettingunit1),viewManager.getInstance().removeChild(viewManager.getInstance().englishgrettingunit1),viewManager.getInstance().englishgrettingunit1=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_GREETING_UNIT2?(egret.Tween.pauseTweens(viewManager.getInstance().englishgreetingguessphoto),viewManager.getInstance().removeChild(viewManager.getInstance().englishgreetingguessphoto),viewManager.getInstance().englishgreetingguessphoto=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_GREETING_UNIT3?(egret.Tween.pauseTweens(viewManager.getInstance().englishgreetingchallenge),viewManager.getInstance().removeChild(viewManager.getInstance().englishgreetingchallenge),viewManager.getInstance().englishgreetingchallenge=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_CLOCK_UNIT1?(egret.Tween.pauseTweens(viewManager.getInstance().englishclockunit1),viewManager.getInstance().removeChild(viewManager.getInstance().englishclockunit1),viewManager.getInstance().englishclockunit1=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_CLOCK_UNIT3?(egret.Tween.pauseTweens(viewManager.getInstance().englishclockunit3),viewManager.getInstance().removeChild(viewManager.getInstance().englishclockunit3),viewManager.getInstance().englishclockunit3=null):staticVarUntil.numbersign==staticVarUntil.ENGLISH_CLOCK_UNIT4&&(egret.Tween.pauseTweens(viewManager.getInstance().englishclockunit4),viewManager.getInstance().removeChild(viewManager.getInstance().englishclockunit4),viewManager.getInstance().englishclockunit4=null))},e.resumeNumber=function(){saveLog("resumeNumber",staticVarUntil.numbersign),staticVarUntil.numbersign==staticVarUntil.ENDVIEW?(e.endViewOpenTouch(),viewManager.getInstance().endview.touchEnabled=!0):staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_1?(sendToAndroid("getUnitResultLong",["course"],["math-1-1"]),viewManager.getInstance().initmath1unit1(),viewManager.getInstance().addChild(viewManager.getInstance().math1unit1numberone),viewManager.getInstance().math1unit1numberone.addFunc()):staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_2?(viewManager.getInstance().initmath1unit2(),viewManager.getInstance().addChild(viewManager.getInstance().math1unit2numberone),viewManager.getInstance().math1unit2numberone.penChangePosY(),playSoundEffect("math/math1/unit2/numberone/huabi.ogg",1,1)):staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_3?(viewManager.getInstance().initmath1unit3(),viewManager.getInstance().addChild(viewManager.getInstance().math1unit3numberone),viewManager.getInstance().math1unit3numberone.penChangePosY(),playSoundEffect("math/math1/unit3/numberone/huabi.ogg",1,1)):staticVarUntil.numbersign==staticVarUntil.ENGLISH_1_UNIT_1_STUDY?(viewManager.getInstance().english1unit1study=new english1Unit1Study,viewManager.getInstance().addChild(viewManager.getInstance().english1unit1study),sendToAndroid("getUnitResultLong",["course"],["english-1-1"]),sendToAndroid("startPlayMp4",["url"],[url+"english/english1/unit1/family.mp4"])):staticVarUntil.numbersign==staticVarUntil.ENGLISH_1_UNIT_2_TEST?(viewManager.getInstance().english1unit2test=new english1Unit2Test,viewManager.getInstance().addChild(viewManager.getInstance().english1unit2test),viewManager.getInstance().english1unit2test.introduceAnimation(),saveLog("resume","进入课程")):staticVarUntil.numbersign==staticVarUntil.ENGLISH_1_UNIT_3_TEST?(viewManager.getInstance().english1unit3test=new english1Unit3Test,viewManager.getInstance().addChild(viewManager.getInstance().english1unit3test),viewManager.getInstance().english1unit3test.picFrameShake(),viewManager.getInstance().english1unit3test.addPhotoWallWord()):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_2_TEST?(viewManager.getInstance().english2unit2test=new english2Unit2Test,viewManager.getInstance().addChild(viewManager.getInstance().english2unit2test),viewManager.getInstance().english2unit2test.addVineBlank()):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_3_TEST?(viewManager.getInstance().english2unit3test=new english2Unit3Test,viewManager.getInstance().addChild(viewManager.getInstance().english2unit3test),viewManager.getInstance().english2unit3test.addVineBlank()):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_1_STUDY?(viewManager.getInstance().english2unit1study=new english2Unit1Study,viewManager.getInstance().addChild(viewManager.getInstance().english2unit1study),sendToAndroid("getUnitResultLong",["course"],["english-2-1"]),sendToAndroid("startPlayMp4",["url"],[url+"english/english2/unit1/knowanimal.mp4"])):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT_1TO5?(viewManager.getInstance().englishnumunit11to5=new enumUnit11to5,sendToAndroid("getUnitResultLong",["course"],["english-12-1"]),viewManager.getInstance().addChild(viewManager.getInstance().englishnumunit11to5),viewManager.getInstance().swapChildren(viewManager.getInstance().nextjumpbutton,viewManager.getInstance().englishnumunit11to5),viewManager.getInstance().englishnumunit11to5.addTitle()):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT2_1TO5?(viewManager.getInstance().englishnumunit21to5=new fruitBasket,viewManager.getInstance().addChild(viewManager.getInstance().englishnumunit21to5),viewManager.getInstance().englishnumunit21to5.addTitle(),saveLog("initenglishnum1to5","resume方式进入课程")):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT3_1TO5?(viewManager.getInstance().englishnumunit31to5=new happyBirthParty,viewManager.getInstance().addChild(viewManager.getInstance().englishnumunit31to5),viewManager.getInstance().englishnumunit31to5.addTitle()):staticVarUntil.numbersign==staticVarUntil.ENGLISH_GRETTING_UNIT1?(viewManager.getInstance().englishgrettingunit1=new englishGretting,viewManager.getInstance().addChild(viewManager.getInstance().englishgrettingunit1),viewManager.getInstance().englishgrettingunit1.title(),sendToAndroid("getUnitResultLong",["course"],["english-14-1"])):staticVarUntil.numbersign==staticVarUntil.ENGLISH_GREETING_UNIT2?(viewManager.getInstance().englishgreetingguessphoto=new guessPhoto,viewManager.getInstance().addChild(viewManager.getInstance().englishgreetingguessphoto),viewManager.getInstance().englishgrettingunit1.title()):staticVarUntil.numbersign==staticVarUntil.ENGLISH_GREETING_UNIT3?(viewManager.getInstance().englishgreetingchallenge=new challengeGreeting,viewManager.getInstance().addChild(viewManager.getInstance().englishgreetingchallenge),viewManager.getInstance().englishgreetingchallenge.addTitle()):staticVarUntil.numbersign==staticVarUntil.ENGLISH_CLOCK_UNIT1?(viewManager.getInstance().englishclockunit1=new englishClockUnit1,viewManager.getInstance().addChild(viewManager.getInstance().englishclockunit1),viewManager.getInstance().englishclockunit1.start(),sendToAndroid("getUnitResultLong",["course"],["english-15-1"])):staticVarUntil.numbersign==staticVarUntil.ENGLISH_CLOCK_UNIT3?(viewManager.getInstance().englishclockunit3=new englishClockUnit3,viewManager.getInstance().addChild(viewManager.getInstance().englishclockunit3),viewManager.getInstance().englishclockunit3.start()):staticVarUntil.numbersign==staticVarUntil.ENGLISH_CLOCK_UNIT4&&(viewManager.getInstance().englishclockunit4=new englishClockUnit4,viewManager.getInstance().addChild(viewManager.getInstance().englishclockunit4),viewManager.getInstance().englishclockunit4.addTitle()),viewManager.getInstance().setChildIndex(viewManager.getInstance().nextjumpbutton,viewManager.getInstance().numChildren)
},e.cancelAnchorOffsetxy=function(e){e.x-=e.anchorOffsetX,e.y-=e.anchorOffsetY,e.anchorOffsetX=0,e.anchorOffsetY=0},e.restoreAnchorOffsetxy=function(e,t,n){void 0===t&&(t=e.width/2),void 0===n&&(n=e.height/2),e.anchorOffsetX=t,e.anchorOffsetY=n,e.x+=e.anchorOffsetX,e.y+=e.anchorOffsetY},e.isTouchObj=function(e,t){return e.stageX>t.x&&e.stageX<t.x+t.width&&e.stageY>t.y&&e.stageY<t.y+t.height?!0:!1},e.writeWorld=function(e){var t=new egret.TextField;return t.text=e.text,t.fontFamily=e.fontFamily,t.textColor=e.textColor,t.size=e.size||t.size,t},e.positionClockNum=function(e,t,n,i,a,r,s,o){void 0===r&&(r=1),void 0===s&&(s=30),void 0===o&&(o=0);for(var h=[],g=0;t>g;g++){var l=egretUntil.createBitmapByName(n+(g+r));l.name=n+(g+r),a.addChild(l),l.x=Math.cos((s*g+o+i)*(Math.PI/180))*e-l.width/2,l.y=Math.sin((s*g+o+i)*(Math.PI/180))*e-l.height/2,h.push(l)}return h},e.dragBegin=function(e,t,n){for(var i=0;i<t.length;i++)if(e.stageX>t[i].x&&e.stageX<t[i].x+t[i].width&&e.stageY>t[i].y&&e.stageY<t[i].y+t[i].height)return n.point.obj=t[i],n.point.obj;return null},e.dragMove=function(e,t){t.touchstau&&(t.point.obj.x=e.stageX-t.point.x,t.point.obj.y=e.stageY-t.point.y)},e.dragEnd=function(e){e.touchstau=!1},e.isFit=function(e,t,n){return void 0===n&&(n=.4),e.x<t.x&&e.x+e.width<t.x+t.width*n?!1:e.x>t.x+t.width*n?!1:e.y<t.y&&e.y+e.height<t.y+t.height*n?!1:e.y>t.y+t.height*n?!1:!0},e.findLater=function(e,t){for(var n,i=0,a=0;a<e.length;a++){var r=e[a].x-(t.x+t.width/2),s=e[a].y-(t.y+t.height/2);0==i&&(i=Math.sqrt(r*r+s*s),n=e[a]),Math.sqrt(r*r+s*s)<i&&(i=Math.sqrt(r*r+s*s),n=e[a]),console.log(n)}return n},e}();egret.registerClass(operateUntil,"operateUntil");var soundEgret=function(e){function t(t){e.call(this),this.url=t,this.startLoad(t)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.startLoad=function(e){var t=new egret.URLLoader;t.dataFormat=egret.URLLoaderDataFormat.SOUND,t.addEventListener(egret.Event.COMPLETE,this.onLoadComplete,this);var n=new egret.URLRequest(e);t.load(n)},i.onLoadComplete=function(e){var t=e.target;this.sound=t.data,this.channel=this.sound.play(0,1),this.channel.addEventListener(egret.Event.SOUND_COMPLETE,this.onSoundComplete,this),this.channel.addEventListener(egret.IOErrorEvent.IO_ERROR,function(e){console.log(e)},this)},i.onSoundComplete=function(e){this.t||(this.t=!1,getaudio(this.url))},i.onSoundStop=function(){this.channel.stop(),this.sound.close(),this.t=!0,console.log("停止声音播放")},t}(egret.DisplayObjectContainer);egret.registerClass(soundEgret,"soundEgret");var ENGLISH15_1_1="english15-1-1",ENGLISH15_1_2="english15-1-2",ENGLISH15_1_3="english15-1-3",ENGLISH15_1_4="english15-1-4",ENGLISH15_1_5="english15-1-5",ENGLISH15_1_6="english15-1-6",ENGLISH15_1_7="english15-1-7",ENGLISH15_1_8="english15-1-8",ENGLISH15_1_9="english15-1-9",ENGLISH15_1_10="english15-1-10",ENGLISH15_1_11="english15-1-11",ENGLISH15_1_12="english15-1-12",ENGLISH15_1_13="english15-1-13",ENGLISH15_1_14="english15-1-14",ENGLISH15_1_15="english15-1-15",COURSENAME_ENGLISH="english",COURSENUM_1="1",COURSENUM_2="2",COURSENUM_3="3",COURSENUM_4="4",COURSENUM_5="5",COURSENUM_6="6",COURSENUM_7="7",COURSENUM_8="8",COURSENUM_9="9",COURSENUM_10="10",COURSENUM_11="11",COURSENUM_12="12",COURSENUM_13="13",COURSENUM_14="14",COURSENUM_15="15",UNITNUM_1="1",UNITNUM_2="2",UNITNUM_3="3",UNITNUM_4="4",CELLNUM_1="1",CELLNUM_2="2",CELLNUM_3="3",CELLNUM_4="4",CELLNUM_5="5",CELLNUM_6="6",CELLNUM_7="7",CELLNUM_8="8",CELLNUM_9="9",CELLNUM_10="10",CELLNUM_11="11",CELLNUM_12="12",CELLNUM_13="13",CELLNUM_14="14",CELLNUM_15="15",CELLNUM_16="16",staticVarUntil=function(){function e(){}var t=(__define,e);t.prototype;return e.numbersign="",e.mathunitnum="",e.MATH_1_UNIT_1="math1unit1",e.MATH_1_UNIT_2="math1unit2",e.MATH_1_UNIT_3="math1unit3",e.MATH_1_UNIT_1_NUMBERONE="math1_unit1_numberone",e.MATH_1_UNIT_1_NUMBERTWO="math1_unit1_numbertwo",e.MATH_1_UNIT_1_NUMBERTHREE="math1_unit1_numberthree",e.MATH_1_UNIT_2_NUMBERONE="math1_unit2_numberone",e.MATH_1_UNIT_2_NUMBERTWO="math1_unit2_numbertwo",e.MATH_1_UNIT_2_NUMBERTHREE="math1_unit2_numberthree",e.MATH_1_UNIT_3_NUMBERONE="math1_unit3_numberone",e.MATH_1_UNIT_3_NUMBERTWO="math1_unit3_numbertwo",e.MATH_1_UNIT_3_NUMBERTHREE="math1_unit3_numberthree",e.ENGLISH_1_UNIT_1_STUDY="english1_unit1_study",e.ENGLISH_1_UNIT_2_TEST="english1_unit2_test",e.ENGLISH_1_UNIT_3_TEST="english1_unit3_test",e.ENGLISH_2_UNIT_1_STUDY="english2_unit1_study",e.ENGLISH_2_UNIT_2_TEST="english2_unit2_test",e.ENGLISH_2_UNIT_3_TEST="english2_unit3_test",e.ENGLISH_NUM_UNIT_1TO5="english_unit1_num1to5",e.ENGLISH_NUM_UNIT2_1TO5="english_unit2_num1to5",e.ENGLISH_NUM_UNIT3_1TO5="english_unit3_num1to5",e.ENGLISH_GRETTING_UNIT1="english_gretting_unit1",e.ENGLISH_GREETING_UNIT2="english_gretting_unit2",e.ENGLISH_GREETING_UNIT3="english_gretting_unit3",e.ENGLISH_CLOCK_UNIT1="english_clock_unit1",e.ENGLISH_CLOCK_UNIT3="english_clock_unit3",e.ENGLISH_CLOCK_UNIT4="english_clock_unit4",e.ENDVIEW="endview",e.getasrerror=0,e.rightresulte=0,e.everytitlewrongtimes=0,e.ispassasr=!1,e.totalwrong=0,e.totalgrade=0,e.testnumarr=[1,2,3],e.totalrighttimunum=0,e.timercurrentcount=0,e.timerstart=0,e.ignorsound=!1,e.timersiglerepeatend=0,e.studyArr=["math1unit1","english1_unit1_study","english2_unit1_study","english_unit1_num1to5","english_gretting_unit1","english_clock_unit1"],e.endArr=["math1unit3","english1_unit3_test","english2_unit3_test","english_unit3_num1to5","english_gretting_unit3","english_clock_unit4"],e.OPEN_COURSE_MATH_1="math_1",e.OPEN_COURSE_ENGLISH_1="english_1",e.OPEN_COURSE_ENGLISH_10="english_10",e.OPEN_COURSE_ENGLISH_NUM1TO5="english_12",e.OPEN_COURSE_ENGLISH_GRETTING="english_14",e.OPEN_COURSE_ENGLISH_CLOCK="english_15",e.OPEN_COURSE_ENGLISH_CLOTHES="english_16",e.propertycourseinfoarr=[{courseName:"math_1",unitName:["math1unit1","math1unit2","math1unit2"],loadPer:[0,1,2]},{courseName:"english_1",unitName:["english1unit1","english1unit2","english1unit3"],loadPer:[0,1,2]},{courseName:"english_10",unitName:["english2unit1","english2unit2","english2unit3"],loadPer:[0,1,2]},{courseName:"english_12",unitName:["englishnum1to5","englishnum1to5unit2","englishnum1to5unit3"],loadPer:[0,1,2]},{courseName:"english_14",unitName:["englishgrettingunit1","englishgreetingunit2","englishgreetingunit3"],loadPer:[0,1,2]},{courseName:"english_15",unitName:["englishclockunit1","englishclockunit3","englishclockunit4"],loadPer:[0,1,2]},{courseName:"english_16",unitName:["englishclothesunit1"],loadPer:[0]}],e}();egret.registerClass(staticVarUntil,"staticVarUntil");var timerUntil=function(e){function t(){e.call(this),this.asrtimer=new egret.Timer(100,0),this.asrtimer.overtime=!1,mathfat.setsettimerarr(this.asrtimer),this.asrtimer.addEventListener(egret.TimerEvent.TIMER,this.asrtimerListening,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.asrtimerListening=function(){staticVarUntil.timersiglerepeatend=egret.getTimer(),staticVarUntil.timersiglerepeatend-staticVarUntil.timerstart>=1e4&&(this.asrtimer.stop(),sendToAndroid("isInSpeech",[],[]),this.asrtimer.overtime=!0)},i.playSound=function(){staticVarUntil.timercurrentcount++,stopAsr(!0),console.log("staticVarUntil.timercurrentcount:"+staticVarUntil.timercurrentcount),staticVarUntil.numbersign==staticVarUntil.ENGLISH_1_UNIT_2_TEST?(stopAsr(!0),this.asrtimer.stop(),1==staticVarUntil.timercurrentcount?playSoundEffect("english/english1/unit2/onceremind.ogg"):2==staticVarUntil.timercurrentcount?playSoundEffect("english/english1/unit2/twiceremind.ogg"):3==staticVarUntil.timercurrentcount&&playSoundEffect("english/english1/unit2/thirdremind.ogg")):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_3_TEST?(stopAsr(!0),this.asrtimer.stop(),1==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait10swarn.ogg"):2==staticVarUntil.timercurrentcount?playSoundEffect("english/english2/unit3/wait20sanimalhungry.ogg"):3==staticVarUntil.timercurrentcount&&playSoundEffect("english/english2/unit3/wait30snexttimefeedanimal.ogg")):staticVarUntil.numbersign==staticVarUntil.ENGLISH_2_UNIT_2_TEST?(1==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait10swarn.ogg"):2==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait20swarn.ogg"):3==staticVarUntil.timercurrentcount&&playSoundEffect("common/timer/wait30swarn.ogg"),viewManager.getInstance().timeruntil.asrtimer.reset(),viewManager.getInstance().touchEnabled=!1,viewManager.getInstance().english2unit2test.touchEnabled=!1):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT2_1TO5?(1==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait10swarn.ogg"):2==staticVarUntil.timercurrentcount?playSoundEffect("english/englishnum1to5/unit2/friendfindfruitbasket.ogg"):3==staticVarUntil.timercurrentcount&&playSoundEffect("common/timer/wait30swarn.ogg"),viewManager.getInstance().englishnumunit21to5.touchEnabled=!1,viewManager.getInstance().timeruntil.asrtimer.stop()):staticVarUntil.numbersign==staticVarUntil.ENGLISH_NUM_UNIT3_1TO5?(stopAsr(!0),this.asrtimer.stop(),1==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait10swarn.ogg"):2==staticVarUntil.timercurrentcount?playSoundEffect("english/englishnum1to5/unit3/friendguessold.ogg"):3==staticVarUntil.timercurrentcount&&playSoundEffect("english/englishnum1to5/unit3/sosorryhappybirthdaynext.ogg")):staticVarUntil.numbersign==staticVarUntil.ENGLISH_GREETING_UNIT2?(this.asrtimer.stop(),viewManager.getInstance().englishgreetingguessphoto.touchEnabled=!1,1==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait10swarn.ogg"):2==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait20swarn.ogg"):3==staticVarUntil.timercurrentcount&&playSoundEffect("common/timer/wait30swarn.ogg")):staticVarUntil.numbersign==staticVarUntil.ENGLISH_CLOCK_UNIT3?(this.asrtimer.stop(),viewManager.getInstance().englishclockunit3.touchEnabled=!1,1==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait10swarn.ogg"):2==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait20swarn.ogg"):3==staticVarUntil.timercurrentcount&&playSoundEffect("common/timer/wait30swarn.ogg")):staticVarUntil.numbersign==staticVarUntil.ENGLISH_CLOCK_UNIT4?(this.asrtimer.stop(),viewManager.getInstance().englishclockunit4.touchEnabled=!1,1==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait10swarn.ogg"):2==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait20swarn.ogg"):3==staticVarUntil.timercurrentcount&&playSoundEffect("common/timer/wait30swarn.ogg")):(stopAsr(!0),this.asrtimer.stop(),1==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait10swarn.ogg"):2==staticVarUntil.timercurrentcount?playSoundEffect("common/timer/wait20swarn.ogg"):3==staticVarUntil.timercurrentcount&&playSoundEffect("common/timer/wait30swarn.ogg"))},t}(egret.Sprite);egret.registerClass(timerUntil,"timerUntil");var pauseResumeEvent=function(e){function t(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)}__extends(t,e);var n=(__define,t);n.prototype;return t.PAUSERESUME="pauseresume",t.PAUSE="pause",t.RESUME="resume",t}(egret.Event);egret.registerClass(pauseResumeEvent,"pauseResumeEvent");var viewManagerEvent=function(e){function t(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1),e.call(this,t,n,i)}__extends(t,e);var n=(__define,t);n.prototype;return t.VIEW_MANA_EVENT="viewmanaevent",t.VIEW_SHOW_BUTTON="showbutton",t}(egret.Event);egret.registerClass(viewManagerEvent,"viewManagerEvent");var englishfat=function(e){function t(){e.call(this),this.everytitletime=new timerUntil,this.viewmanagerevent=new viewManagerEvent(viewManagerEvent.VIEW_MANA_EVENT)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addCommonPer=function(e,t,n){this.viewmanagerevent.eventType=e,this.viewmanagerevent.eventObj=n,staticVarUntil.numbersign=t,staticVarUntil.mathunitnum=t},i.getViewmanagerevent=function(){return stopSoundEffect(),this.viewmanagerevent},t.setMcarr=function(e,n,i){void 0===i&&(i=0),t.mcarr.push({mcname:e,mcplaying:n.isPlaying,mcobj:n,playtimes:i})},t.setMcTimes=function(e,n){for(var i=0;i<t.mcarr.length;i++)if(t.mcarr[i].mcname==e)return void(t.mcarr[i].playtimes=n)},t.getMcarr=function(){return t.mcarr},t.setTweenarr=function(e){t.tweenarr.push(e)},t.getTweenarr=function(){return t.tweenarr},t.setTick=function(e,n){t.tickerarr.push({funtick:e,obj:n})},t.PauseAllAnimation=function(){for(var e=0;e<t.mcarr.length;e++)t.mcarr[e].mcobj.parent&&t.mcarr[e].mcobj.isPlaying&&(t.mcarr[e].mcplaying=!0,t.mcarr[e].mcobj.stop());for(var e=0;e<t.tweenarr.length;e++)t.tweenarr[e].parent&&egret.Tween.pauseTweens(t.tweenarr[e]);for(var e=0;e<t.tickerarr.length;e++)try{egret.stopTick(t.tickerarr[e].funtick,t.tickerarr[e].obj)}catch(n){}for(var e=0;e<t.timerarr.length;e++)try{t.timerarr[e].stop()}catch(n){}},t.resumeAllAnimation=function(){for(var e=0;e<t.mcarr.length;e++)t.mcarr[e].mcobj.parent&&t.mcarr[e].mcplaying&&(t.mcarr[e].mcplaying=!1,t.mcarr[e].mcobj.play(t.mcarr[e].playtimes));for(var e=0;e<t.tweenarr.length;e++)t.tweenarr[e].parent&&egret.Tween.resumeTweens(t.tweenarr[e]);for(var e=0;e<t.tickerarr.length;e++)try{egret.startTick(t.tickerarr[e].funtick,t.tickerarr[e].obj)}catch(n){}},t.initArr=function(){t.mcarr=[],t.tweenarr=[]},t.mcarr=[],t.tweenarr=[],t.tickerarr=[],t.timerarr=[],t}(egret.DisplayObjectContainer);egret.registerClass(englishfat,"englishfat");var english1Unit1Study=function(e){function t(){e.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addScence=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_1_UNIT_1_STUDY,this);var e=egretUntil.createBitmapByName("family_png");this.addChild(e),egret.setTimeout(this.playEndImage,this,1e3,"egret")},i.playEndImage=function(){var e=egretUntil.createBitmapByName("familyend_png");this.addChild(e)},i.setProXY=function(e,t){this.x=e,this.y=t},t}(englishfat);egret.registerClass(english1Unit1Study,"english1Unit1Study");var createPerson=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.setPersonEmotion=function(e,t,n,i,a){this._personemotion=new movieClip,this._personemotion.setProXY(i,a),this._personemotion.addNumber(e,t,n)},i.getPersonEmotion=function(){return this._personemotion},i.setPersonSadEmotion=function(e,t,n,i,a){this._personesadmotion=new movieClip,this._personesadmotion.setProXY(i,a),this._personesadmotion.addNumber(e,t,n)},i.getPersonSadEmotion=function(){return this._personesadmotion},i.getPersonArm=function(){return this._personarm},i.setPersonArm=function(e,t,n){this._personarm=egretUntil.createBitmapByName(e),this._personarm.x=t,this._personarm.y=n},i.getShearHand=function(){return this._shearhand},i.setShearHand=function(e,t,n){this._shearhand=egretUntil.createBitmapByName(e),this._shearhand.x=t,this._shearhand.y=n},i.getPersoneDim=function(){return this._personedim},i.setPersoneDim=function(e,t,n){this._personedim=egretUntil.createBitmapByName(e),this._personedim.x=t,this._personedim.y=n},i.getPersoneFlicker=function(){return this._personeflicker},i.setPersoneFlicker=function(e,t,n){this._personeflicker=egretUntil.createBitmapByName(e),this._personeflicker.x=t,this._personeflicker.y=n},i.setPersoneBody=function(e,t,n){this._personebody=egretUntil.createBitmapByName(e),this._personebody.x=t,this._personebody.y=n},i.getPersoneBody=function(){return this._personebody},i.setPersonHair=function(e,t,n,i,a){this.bodyhair=new movieClip,this.bodyhair.setProXY(i,a),this.bodyhair.addNumber(e,t,n)},i.getPersonHair=function(){return this.bodyhair},i.setRuchangAnimation=function(e,t,n,i,a){this._ruchanganimation=new movieClip,this._ruchanganimation.setProXY(i,a),this._ruchanganimation.addNumber(e,t,n)},i.getRuchangAnimation=function(){return this._ruchanganimation},t}(egret.Sprite);egret.registerClass(createPerson,"createPerson");var english1Unit2Test=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.personarr=[],this.personeindex=0,this.sigelpersonwrong=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addScence=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_1_UNIT_2_TEST,this);var e=egretUntil.createBitmapByName("beijing2_png");this.addChild(e),this.addEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this)},i.introduceAnimation=function(){playSoundEffect("english/english1/unit2/bg.ogg"),this.word=egretUntil.createBitmapByName("biaoti"),this.addChild(this.word),this.word.alpha=0,this.word.y=90,this.word.x=(egretUntil.getStageWidth()-this.word.width)/2,mathfat.setTweenarr(this.word),egret.Tween.get(this.word).to({alpha:.6,y:94},200).to({alpha:1,y:90},500);var e=egret.setTimeout(function(){egret.Tween.get(this.word,{loop:!0}).to({alpha:1,y:94},700).to({alpha:1,y:90},700)},this,700,"egret");mathfat.setTimerArr(e),this.camerabig=egretUntil.createBitmapByName("xiangji1"),this.addChild(this.camerabig),this.camerabig.y=223,this.camerabig.x=(egretUntil.getStageWidth()-this.camerabig.width)/2,this.camerabig.alpha=0,mathfat.setTweenarr(this.camerabig),playSoundEffect("english/english1/unit2/cameraruchang.ogg"),egret.Tween.get(this.camerabig).to({alpha:.6,y:220},200).to({alpha:1,y:223},500).call(function(){operateUntil.restoreAnchorOffsetxy(this.camerabig),playSoundEffect("english/english1/unit2/hiready.ogg"),egret.Tween.removeTweens(this.camerabig),this.camerabig.alpha=1,playSoundEffect("english/english1/unit2/camerasport.ogg"),egret.Tween.get(this.camerabig,{loop:!0}).to({rotation:-5},300,egret.Ease.sineInOut).to({rotation:5},600,egret.Ease.sineInOut).to({rotation:0},300,egret.Ease.sineInOut)},this),this.smallCamera=egretUntil.createBitmapByName("xiangji2"),this.smallCamera.x=egretUntil.getStageWidth()-20-this.smallCamera.width,this.smallCamera.y=egretUntil.getStageHeight()-14-this.smallCamera.height,this.addChild(this.smallCamera),this.smallCamera.visible=!1},i.addAssemblingPerson=function(){playSoundEffect("english/english1/unit2/trysayenglishname.ogg");for(var e=0;e<this.personarr.length;e++)this.personarr[e].visible&&(this.personarr[e].visible=!1);this.sigelpersonwrong=0;var t=siglePersonArr[this.personeindex],n=new createPerson;this.addChild(n),n.setPersoneBody(t.bodyname,t.bodyxy.x,t.bodyxy.y),n.width=n.getPersoneBody().width,n.height=n.getPersoneBody().height,n.x=t.personxy.x,n.y=t.personxy.y,n.setPersoneDim(t.dimname,t.dimxy.x,t.dimxy.y),n.setPersoneFlicker(t.flickername,t.flickerxy.x,t.flickerxy.y),n.setPersonEmotion(t.personhappy.data_json,t.personhappy.data_png,t.personhappy.data_name,t.personhappy.x,t.personhappy.y),n.setPersonArm(t.personarmname,t.personarmxy.x,t.personarmxy.y),t.personeishair&&(n.setPersonHair(t.personehair.data_json,t.personehair.data_png,t.personehair.data_name,t.personehair.x,t.personehair.y),n.addChild(n.getPersonHair())),"left"==t.personearmdir?operateUntil.restoreAnchorOffsetxy(n.getPersonArm(),n.getPersonArm().width,n.getPersonArm().height):operateUntil.restoreAnchorOffsetxy(n.getPersonArm(),0,n.getPersonArm().height),n.setShearHand(t.shearhandname,t.shearhandxy.x,t.shearhandxy.y),n.addChild(n.getPersoneBody()),n.addChild(n.getPersonEmotion()),n.addChild(n.getPersonArm()),this.personarr.push(n),mathfat.setTweenarr(n),0==this.personeindex&&playSoundEffect("english/english1/unit2/personruchang.ogg"),egret.Tween.get(n).to({alpha:1,x:(egretUntil.getStageWidth()-n.width)/2},600,egret.Ease.sineOut).wait(500).call(function(){t.personeishair&&n.getPersonHair().getMc().gotoAndPlay("start",1),t.bodyisruchanganimation&&(n.setRuchangAnimation(t.personruchang.data_json,t.personruchang.data_png,t.personruchang.data_name,t.personruchang.x,t.personruchang.y),n.addChild(n.getRuchangAnimation()),n.getRuchangAnimation().getMc().gotoAndPlay("start",1)),egret.Tween.get(n.getPersonArm()).to({rotation:-5},200).to({rotation:0},200).to({rotation:-5},200).to({rotation:0},200)},this)},i.takePhoto=function(){var e=siglePersonArr[this.personeindex],t=egretUntil.createBitmapByName("kuang");this.addChild(t),t.x=e.xiangkuangxy.x,t.y=e.xiangkuangxy.y,operateUntil.restoreAnchorOffsetxy(t);var n=egretUntil.createBitmapByName(e.completephotoname);this.addChild(n),n.visible=!1,n.x=e.completephotoxy.x,n.y=e.completephotoxy.y,mathfat.setTweenarr(t),egret.Tween.get(t).wait(600).call(function(){this.personarr[this.personeindex].removeChild(this.personarr[this.personeindex].getPersoneBody()),this.personarr[this.personeindex].removeChild(this.personarr[this.personeindex].getShearHand()),this.personarr[this.personeindex].addChild(this.personarr[this.personeindex].getPersoneDim())},this).to({scaleX:1.2,scaleY:1.2},500).to({scaleX:1,scaleY:1},500).to({scaleX:1.2,scaleY:1.2},500).call(function(){this.personarr[this.personeindex].addChild(this.personarr[this.personeindex].getPersoneFlicker()),egret.setTimeout(function(){this.personarr[this.personeindex].addChild(this.personarr[this.personeindex].getPersoneBody()),this.personarr[this.personeindex].addChild(this.personarr[this.personeindex].getPersonEmotion()),this.personarr[this.personeindex].removeChild(this.personarr[this.personeindex].getPersoneDim()),this.personarr[this.personeindex].removeChild(this.personarr[this.personeindex].getPersoneFlicker()),this.personarr[this.personeindex].addChild(this.personarr[this.personeindex].getShearHand())},this,100,"egret"),playSoundEffect("english/english1/unit2/paizhao.ogg")},this),this.personarr[this.personeindex].getPersonEmotion().getMc().gotoAndPlay("start",1),egret.Tween.get(this.personarr[this.personeindex].getPersonArm()).to({rotation:-5},300).to({rotation:0},300).call(function(){this.personarr[this.personeindex].removeChild(this.personarr[this.personeindex].getPersonEmotion()),this.personarr[this.personeindex].removeChild(this.personarr[this.personeindex].getPersonArm()),this.personarr[this.personeindex].getPersonEmotion().getMc().gotoAndStop(1),this.personarr[this.personeindex].addChild(this.personarr[this.personeindex].getShearHand())},this),mathfat.setTweenarr(n),egret.Tween.get(n).wait(2500).call(function(){egret.log("进来了"),n.visible=!0,playSoundEffect("english/english1/unit3/word/"+siglePersonArr[this.personeindex].rightresult+".ogg"),t.visible=!1},this).to({rotation:15,scaleX:1.2,scaleY:1.2},500);var i=egret.setTimeout(function(){this.personeindex<siglePersonArr.length-1?(egret.Tween.get(n).to({alpha:0},500).call(function(){n.visible=!1},this),egret.Tween.get(this.personarr[this.personeindex]).to({alpha:0},500).call(function(){this.personarr[this.personeindex].visible=!1,this.personeindex++},this).call(this.addAssemblingPerson,this)):playSoundEffect("english/english1/unit3/keepcontinuegood.ogg")},this,4e3,"egret");mathfat.setTimerArr(i)},i.handleFail=function(){var e=siglePersonArr[this.personeindex];if(siglePersonArr[this.personeindex].bodyisruchanganimation&&this.personarr[this.personeindex].removeChild(this.personarr[this.personeindex].getRuchangAnimation()),this.personarr[this.personeindex].removeChild(this.personarr[this.personeindex].getPersonEmotion()),this.personarr[this.personeindex].setPersonSadEmotion(e.personsad.data_json,e.personsad.data_png,e.personsad.data_name,e.personsad.x,e.personsad.y),saveLog("handleFail",e.personsad.data_json+" "+e.personsad.data_png+" "+e.personsad.data_name+" "+e.personsad.x+" "+e.personsad.y),this.personarr[this.personeindex].addChild(this.personarr[this.personeindex].getPersonSadEmotion()),this.personarr[this.personeindex].getPersonSadEmotion().getMc().gotoAndPlay("start",1),this.personeindex<siglePersonArr.length-1){var t=egret.setTimeout(function(){this.personarr[this.personeindex].visible=!1,this.removeChild(this.personarr[this.personeindex]),this.personeindex++,this.addAssemblingPerson()},this,2e3,"egret");mathfat.setTimerArr(t)}else viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())},i.handleGet=function(e){egret.log(e),e.indexOf(siglePersonArr[this.personeindex].rightresult)>=0?(this.takePhoto(),staticVarUntil.totalrighttimunum++):(staticVarUntil.totalwrong++,this.sigelpersonwrong++,operateUntil.asrWrongMarkWord(this.sigelpersonwrong,"english/english1/unit2/firstwrong.ogg","english/english1/unit2/secondwrong.ogg","english/english1/unit2/uhthirdwrong"+siglePersonArr[this.personeindex].rightresult+".ogg"))},i.setProXY=function(e,t){this.x=e,this.y=t},i.handleAudio=function(e){if(e.indexOf("cameraruchang")>=0)this.touchEnabled=!0;else if(e.indexOf("unit2/hiready")>=0){this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this),egret.Tween.removeTweens(this.camerabig),egret.Tween.get(this.camerabig).to({alpha:0,y:250+this.camerabig.anchorOffsetY},200).call(function(){this.camerabig.visible=!1},this),egret.Tween.removeTweens(this.word),this.word.alpha=1,egret.Tween.get(this.word).to({alpha:0,y:70},200).call(function(){this.word.visible=!1},this);var t=egret.setTimeout(this.addAssemblingPerson,this,1500,"egret");mathfat.setTimerArr(t);var n=egret.setTimeout(function(){this.smallCamera.visible=!0,operateUntil.restoreAnchorOffsetxy(this.smallCamera),playSoundEffect("english/english1/unit2/camerasport.ogg"),animationUntil.effectJelly(this.smallCamera,!0,2e3)},this,2e3,"egret");mathfat.setTimerArr(n)}else e.indexOf("unit2/trysayenglishname")>=0?(saveLog("trysayenglishname",egret.getTimer()),startAsr(this,siglePersonArr[this.personeindex].rightresult)):e.indexOf("unit2/firstwrong")>=0||e.indexOf("unit2/secondwrong")>=0?startAsr(this,siglePersonArr[this.personeindex].rightresult):e.indexOf("unit2/uhthirdwrong"+siglePersonArr[this.personeindex].rightresult+".ogg")>=0?this.handleFail():e.indexOf("unit2/onceremind")>=0||e.indexOf("unit2/twiceremind")>=0?startAsr(this,siglePersonArr[this.personeindex].rightresult):e.indexOf("unit2/thirdremind")>=0?overTimeAutoExit():e.indexOf("unit3/keepcontinuegood")>=0?viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()):e.indexOf("errnet")>=0&&(3==staticVarUntil.getasrerror?overTimeAutoExit():startAsr(this,siglePersonArr[this.personeindex].rightresult))},t}(englishfat);egret.registerClass(english1Unit2Test,"english1Unit2Test",["interfaceenglish"]);var siglePersonArr=[{bodyname:"bashenti",bodyxy:{x:0,y:0},personxy:{x:440,y:80},dimname:"mohu",dimxy:{x:0,y:0},flickername:"bashanguang",flickerxy:{x:0,y:0},bodyhairname:"",bodyhairxy:{x:0,y:0},bodyisruchanganimation:!1,personeishair:!1,personruchang:{data_json:"",data_png:"",data_name:"",x:62,y:75},personehair:{data_json:"",data_png:"",data_name:"",x:0,y:0},personhappy:{data_json:"fatherhappy_json",data_png:"fatherhappy_png",data_name:"fatherhappy",x:68,y:82},personsad:{data_json:"fathersad_json",data_png:"fathersad_png",data_name:"fathersad",x:68,y:82},personarmname:"bashou",personearmdir:"left",personarmxy:{x:0,y:145},shearhandname:"jiandao",shearhandxy:{x:0,y:145},xiangkuangxy:{x:318,y:46},completephotoname:"bazhaopian",completephotoxy:{x:311,y:39},rightresult:"daddy"},{bodyname:"geshenti",bodyxy:{x:0,y:0},personxy:{x:424,y:219},dimname:"gemh",dimxy:{x:0,y:0},flickername:"gesg",flickerxy:{x:0,y:0},bodyhairname:"",bodyhairxy:{x:0,y:0},bodyisruchanganimation:!1,personeishair:!1,personruchang:{data_json:"",data_png:"",data_name:"",x:62,y:75},personehair:{data_json:"",data_png:"",data_name:"",x:0,y:0},personhappy:{data_json:"gehappy_json",data_png:"gehappy_png",data_name:"gehappy",x:41,y:75},personsad:{data_json:"gesad_json",data_png:"gesad_png",data_name:"gesad",x:41,y:75},personarmname:"geshou",personearmdir:"right",personarmxy:{x:8,y:136},shearhandname:"geshou",shearhandxy:{x:8,y:136},xiangkuangxy:{x:318,y:170},completephotoname:"gepz",completephotoxy:{x:307,y:161},rightresult:"brother"},{bodyname:"jieshenti",bodyxy:{x:0,y:0},personxy:{x:394,y:222},dimname:"jiemohu",dimxy:{x:0,y:0},flickername:"jiesg",flickerxy:{x:0,y:0},bodyhairname:"jiebian",bodyhairxy:[{x:0,y:10},{x:131,y:0}],bodyisruchanganimation:!0,personeishair:!0,personehair:{data_json:"jiebianzi_json",data_png:"jiebianzi_png",data_name:"jiebianzi",x:0,y:0},personruchang:{data_json:"jieruchang_json",data_png:"jieruchang_png",data_name:"jieruchang",x:62,y:75},personhappy:{data_json:"jiehappy_json",data_png:"jiehappy_png",data_name:"jiehappy",x:62,y:75},personsad:{data_json:"jiesad_json",data_png:"jiesad_png",data_name:"jiesad",x:62,y:75},personarmname:"",personearmdir:"left",personarmxy:{x:0,y:0},shearhandname:"",shearhandxy:{x:0,y:0},xiangkuangxy:{x:317,y:160},completephotoname:"jiepz",completephotoxy:{x:305,y:154},rightresult:"sister"},{bodyname:"mashenti",bodyxy:{x:0,y:0},personxy:{x:404,y:109},dimname:"mamohu",dimxy:{x:0,y:0},flickername:"masg",flickerxy:{x:0,y:0},bodyhairname:"",bodyhairxy:{x:0,y:0},bodyisruchanganimation:!0,personeishair:!1,personehair:{data_json:"",data_png:"",data_name:"",x:0,y:0},personruchang:{data_json:"maruchang_json",data_png:"maruchang_png",data_name:"maruchang",x:49,y:84},personhappy:{data_json:"mahappy_json",data_png:"mahappy_png",data_name:"mahappy",x:49,y:84},personsad:{data_json:"masad_json",data_png:"masad_png",data_name:"masad",x:49,y:84},personarmname:"mashou",personearmdir:"right",personarmxy:{x:121,y:133},shearhandname:"mashou",shearhandxy:{x:121,y:133},xiangkuangxy:{x:318,y:64},completephotoname:"mapz",completephotoxy:{x:310,y:77},rightresult:"mommy"},{bodyname:"naishenti",bodyxy:{x:0,y:0},personxy:{x:425,y:114},dimname:"naimohu",dimxy:{x:0,y:0},flickername:"naisg",flickerxy:{x:0,y:0},bodyisruchanganimation:!0,personeishair:!1,personehair:{data_json:"",data_png:"",data_name:"",x:0,y:0},personruchang:{data_json:"nairuchang_json",data_png:"nairuchang_png",data_name:"nairuchang",x:37,y:86},bodyhairname:"",bodyhairxy:{x:0,y:0},personhappy:{data_json:"naihappy_json",data_png:"naihappy_png",data_name:"naihappy",x:37,y:86},personsad:{data_json:"naisad_json",data_png:"naisad_png",data_name:"naisad",x:37,y:86},personarmname:"",personearmdir:"",personarmxy:{x:0,y:0},shearhandname:"",shearhandxy:{x:0,y:0},xiangkuangxy:{x:318,y:77},completephotoname:"naizp",completephotoxy:{x:308,y:69},rightresult:"grandma"},{bodyname:"yeshenti",bodyxy:{x:0,y:0},personxy:{x:418,y:128},dimname:"yemohu",dimxy:{x:0,y:0},flickername:"yesg",flickerxy:{x:0,y:0},bodyhairname:"",bodyhairxy:{x:0,y:0},bodyisruchanganimation:!0,personeishair:!1,personehair:{data_json:"",data_png:"",data_name:"",x:0,y:0},personruchang:{data_json:"yeruchang_json",data_png:"yeruchang_png",data_name:"yeruchang",x:24,y:54},personhappy:{data_json:"yehappy_json",data_png:"yehappy_png",data_name:"yehappy",x:24,y:54},personsad:{data_json:"yesad_json",data_png:"yesad_png",data_name:"yesad",x:24,y:54},personarmname:"",personearmdir:"",personarmxy:{x:0,y:0},shearhandname:"",shearhandxy:{x:0,y:0},xiangkuangxy:{x:312,y:78},completephotoname:"yezp",completephotoxy:{x:298,y:70},rightresult:"grandpa"}],dragPhoto=function(e){function t(){e.apply(this,arguments),this._ismove=!1}__extends(t,e);var n=__define,i=t,a=i.prototype;return n(a,"dragphotoimg",function(){return this._dragphotoimg},function(e){this._dragphotoimg=e}),n(a,"name",function(){return this._name},function(e){this._name=e}),n(a,"startx",function(){return this._startx},function(e){this._startx=e}),n(a,"starty",function(){return this._starty},function(e){this._starty=e}),n(a,"endx",function(){return this._endx},function(e){this._endx=e}),n(a,"endy",function(){return this._endy},function(e){this._endy=e}),n(a,"movex",function(){return this._movex},function(e){this._movex=e}),n(a,"movey",function(){return this._movey},function(e){this._movey=e}),n(a,"ismove",function(){return this._ismove},function(e){this._ismove=e}),a.setDefaultInfo=function(e,t,n,i){void 0===n&&(n=1.1),void 0===i&&(i=1.1),this.name=t;var a=egretUntil.createBitmapByName(e);this.addChild(a),a.scaleX=n,a.scaleY=i,a.width*=a.scaleX,a.height*=a.scaleY,this.width=a.width,this.height=a.height,this.x=(egretUntil.getStageWidth()-a.width*a.scaleX)/2,this.y=egretUntil.getStageHeight()+a.height*a.scaleY,this.dragphotoimg=a
},t}(egret.Sprite);egret.registerClass(dragPhoto,"dragPhoto");var english1Unit3Test=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.picframearr=["fense","hongse","lanse","liuse","qianliu","ziluolan"],this.picframexyarr=[{x:40,y:309},{x:80,y:111},{x:285,y:20},{x:494,y:20},{x:697,y:111},{x:735,y:308}],this.wordandphotoarr=[{word:"daddy",img:"baba"},{word:"brother",img:"gege"},{word:"grandpa",img:"yeye"},{word:"mommy",img:"mama"},{word:"sister",img:"jiejie"},{word:"grandma",img:"nainai"}],this.picframeobjarr=[],this.dragimgarr=[],this.dragimgindex=0,this.istouchword=!1,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addPhoto,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addPhoto=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addPhoto,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_1_UNIT_3_TEST,this);var e=egretUntil.createBitmapByName("beijing_png");this.addChild(e),this.xing=egretUntil.createBitmapByName("xing_png"),this.pictureFrameAndWP(),this.dragImg(),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.dragImgBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.dragImgMove,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.dragImgEnd,this)},i.pictureFrameAndWP=function(){this.picframearr=egretUntil.getArrayItems(this.picframearr,this.picframearr.length),this.picframexyarr=egretUntil.getArrayItems(this.picframexyarr,this.picframexyarr.length);for(var e=0;e<this.wordandphotoarr.length;e++){var t=new picFrameCon;this.addChild(t),t.setPicFrame(this.picframearr[e],0,0),t.addChild(t.getPicFrame()),t.width=t.getPicFrame().width,t.height=t.getPicFrame().height,t.x=this.picframexyarr[e].x,t.y=this.picframexyarr[e].y,operateUntil.restoreAnchorOffsetxy(t),t.setPicFrameWord(this.wordandphotoarr[e].word,t,t),t.addChild(t.getPicFrameWord()),t.setPicFramePhoto(this.wordandphotoarr[e].img,15,54),t.addChild(t.getPicFramePhoto()),t.getPicFramePhoto().visible=!1,t.name=this.wordandphotoarr[e].word,this.picframeobjarr.push(t)}this.addChild(this.xing),this.xing.visible=!1},i.addPhotoWallWord=function(){playSoundEffect("english/english1/unit3/bg.ogg",1,1),this.photowallword=egretUntil.createBitmapByName("qiang"),this.addChild(this.photowallword),this.photowallword.x=364,this.photowallword.y=540+this.photowallword.height,mathfat.setTweenarr(this.photowallword),mathfat.setTweenarr(this.dragimgarr[this.dragimgindex]),egret.Tween.get(this.photowallword).to({y:300},1e3).wait(2500).to({alpha:0},500),egret.Tween.get(this.dragimgarr[this.dragimgindex]).wait(1e3).call(playSoundEffect,this,["english/english1/unit3/dragimagetoframe.ogg"]).wait(5e3).call(function(){playSoundEffect("english/english1/unit3/photoruchang.ogg")},this).to({y:291},1e3).call(function(){viewManager.getInstance().touchEnabled=!0,this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start()},this)},i.picFrameShake=function(){for(var e=0;e<this.picframeobjarr.length;e+=2){egret.Tween.get(this.picframeobjarr[e]).wait(500*e).to({rotation:5},300).to({rotation:-5},600).to({rotation:0},300);try{egret.Tween.get(this.picframeobjarr[e+1]).wait(500*e).to({rotation:5},300).to({rotation:-5},600).to({rotation:0},300)}catch(t){}}},i.dragImg=function(){for(var e=0;e<this.wordandphotoarr.length;e++){var t=new dragPhoto;this.addChild(t),t.setDefaultInfo(this.wordandphotoarr[e].img,this.wordandphotoarr[e].word),this.dragimgarr.push(t)}this.dragimgarr=egretUntil.getArrayItems(this.dragimgarr,this.dragimgarr.length)},i.dragImgBegin=function(e){if(this.touchFrame(e))return viewManager.getInstance().touchEnabled=!1,this.touchEnabled=!1,this.istouchword=!0,viewManager.getInstance().timeruntil.asrtimer.reset(),void(staticVarUntil.timercurrentcount=0);var t=e.stageX,n=e.stageY,i=this.dragimgarr[this.dragimgindex].x,a=this.dragimgarr[this.dragimgindex].y,r=this.dragimgarr[this.dragimgindex].width,s=this.dragimgarr[this.dragimgindex].height;t>i&&i+r>t&&n>a&&a+s>n&&(egret.log("start"),viewManager.getInstance().timeruntil.asrtimer.reset(),staticVarUntil.timercurrentcount=0,playSoundEffect("english/english1/unit3/selectphoto.ogg"),this.dragimgarr[this.dragimgindex].startx=t,this.dragimgarr[this.dragimgindex].starty=n,this.dragimgarr[this.dragimgindex].movex=t,this.dragimgarr[this.dragimgindex].movey=n)},i.dragImgMove=function(e){this.dragimgarr[this.dragimgindex].endx=e.stageX,this.dragimgarr[this.dragimgindex].endy=e.stageY,0!=this.dragimgarr[this.dragimgindex].movex&&0!=this.dragimgarr[this.dragimgindex].movey&&(console.log("move"),this.dragimgarr[this.dragimgindex].ismove=!0,this.dragimgarr[this.dragimgindex].x+=this.dragimgarr[this.dragimgindex].endx-this.dragimgarr[this.dragimgindex].movex,this.dragimgarr[this.dragimgindex].y+=this.dragimgarr[this.dragimgindex].endy-this.dragimgarr[this.dragimgindex].movey,this.dragimgarr[this.dragimgindex].movex=this.dragimgarr[this.dragimgindex].endx,this.dragimgarr[this.dragimgindex].movey=this.dragimgarr[this.dragimgindex].endy)},i.setProXY=function(e,t){this.x=e,this.y=t},i.dragImgEnd=function(){if(this.dragimgarr[this.dragimgindex].ismove){if(this.dragimgarr[this.dragimgindex].ismove=!1,Math.abs(this.dragimgarr[this.dragimgindex].endx-this.dragimgarr[this.dragimgindex].startx)>50||Math.abs(this.dragimgarr[this.dragimgindex].endy-this.dragimgarr[this.dragimgindex].starty)>50)for(var e=0;e<this.picframeobjarr.length;e++){operateUntil.cancelAnchorOffsetxy(this.picframeobjarr[e]);var t=this.dragimgarr[this.dragimgindex],n=this.picframeobjarr[e];if(this.isFit(t,n)){if(viewManager.getInstance().touchEnabled=!1,this.touchEnabled=!1,this.isWordFit(t.name,n.name))return staticVarUntil.totalrighttimunum++,playSoundEffect("english/english1/unit3/righteffect.ogg"),this.xing.x=n.x+n.width/2,this.xing.y=n.y+n.height/2,this.xing.anchorOffsetX=this.xing.width/2,this.xing.anchorOffsetY=this.xing.height/2,this.xing.visible=!0,this.xing.scaleX=this.xing.scaleY=.1,egret.Tween.get(this.xing).to({scaleX:1,scaleY:1},500).to({visible:!1}),egret.Tween.get(this).wait(500).call(function(e){playSoundEffect("english/english1/unit3/word/"+this.wordandphotoarr[e].word+".ogg")},this,[e]),operateUntil.restoreAnchorOffsetxy(this.picframeobjarr[e]),this.dragimgarr[this.dragimgindex].visible=!1,void(this.picframeobjarr[e].getPicFramePhoto().visible=!0);playSoundEffect("english/english1/unit3/wrongeffect.ogg"),this.sigletimutotalwrong++,egret.Tween.get(this).wait(1e3).call(function(){if(this.sigletimutotalwrong>2)for(var e=0;e<this.picframeobjarr.length;e++)this.picframeobjarr[e].name==this.dragimgarr[this.dragimgindex].name&&egret.Tween.get(this.picframeobjarr[e]).to({rotation:5},300).to({rotation:-5},600).to({rotation:0},300).to({rotation:5},300).to({rotation:-5},600).to({rotation:0},300)},this),touchPlayEffect.wrongSound(this.sigletimutotalwrong,this.dragimgarr[this.dragimgindex])}operateUntil.restoreAnchorOffsetxy(this.picframeobjarr[e])}this.dragimgarr[this.dragimgindex].startx=0,this.dragimgarr[this.dragimgindex].starty=0,this.dragimgarr[this.dragimgindex].movex=0,this.dragimgarr[this.dragimgindex].movey=0,this.dragimgarr[this.dragimgindex].endx=0,this.dragimgarr[this.dragimgindex].endy=0,egret.Tween.get(this.dragimgarr[this.dragimgindex]).to({x:(egretUntil.getStageWidth()-this.dragimgarr[this.dragimgindex].width*this.dragimgarr[this.dragimgindex].scaleX)/2,y:291},300)}},i.touchFrame=function(e){for(var t=0;t<this.picframeobjarr.length;t++)if(touchPlayEffect.touchFramePlayWord(e,this.picframeobjarr[t]))return!0},i.isFit=function(e,t){return e.x<t.x&&e.x+e.width<t.x+.6*t.width?!1:e.x>t.x+.4*t.width?!1:e.y<t.y&&e.y+e.height<t.y+.6*t.height?!1:e.y>t.y+.4*t.height?!1:!0},i.isWordFit=function(e,t){return e==t?!0:!1},i.handleAudio=function(e){e.indexOf("english/english1/unit3/firstwrong.ogg")>=0||e.indexOf("english/english1/unit3/secondwrong.ogg")>=0?(viewManager.getInstance().touchEnabled=!0,this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start()):e.indexOf("english/english1/unit3/thirdwrong")>=0?(this.dragimgarr[this.dragimgindex].visible=!1,this.dragimgindex<this.picframeobjarr.length-1?(playSoundEffect("english/english1/unit3/playgoon.ogg"),this.dragimgindex++,saveLog("dragimgindex",this.dragimgindex)):(saveLog("结算界面",""),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()))):e.indexOf("english/english1/unit3/playnexttime.ogg")>=0?(console.log("退出"),onBackButtonPressed()):e.indexOf("english/english1/unit3/playgoon.ogg")>=0?(saveLog("playgoon",this.dragimgindex+" "+this.picframeobjarr.length),egret.Tween.get(this.dragimgarr[this.dragimgindex]).to({y:291},1e3).call(function(){viewManager.getInstance().touchEnabled=!0,this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start(),this.sigletimutotalwrong=0},this)):e.indexOf("english/english1/unit3/keepcontinuegood")>=0?(console.log("结算界面"),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())):e.indexOf("english/english1/unit3/word/")>=0&&this.istouchword?(this.istouchword=!1,viewManager.getInstance().touchEnabled=!0,this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start()):e.indexOf("english/english1/unit3/word/")>=0?(this.dragimgindex++,playSoundEffect(this.dragimgindex<this.dragimgarr.length?"english/english1/unit3/playgoon.ogg":"english/english1/unit3/keepcontinuegood.ogg")):e.indexOf("common/timer/wait10swarn.ogg")>=0||e.indexOf("common/timer/wait20swarn.ogg")>=0?(viewManager.getInstance().touchEnabled=!0,this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start()):e.indexOf("common/timer/wait30swarn.ogg")>=0&&overTimeAutoExit()},t}(englishfat);egret.registerClass(english1Unit3Test,"english1Unit3Test",["interfaceenglish"]);var picFrameCon=function(e){function t(){e.apply(this,arguments)}__extends(t,e);var n=__define,i=t,a=i.prototype;return n(a,"name",function(){return this._name},function(e){this._name=e}),a.setPicFrame=function(e,t,n){this._picframe=egretUntil.createBitmapByName(e),this._picframe.x=t,this._picframe.y=n},a.getPicFrame=function(){return this._picframe},a.setPicFramePhoto=function(e,t,n){this._picframephoto=egretUntil.createBitmapByName(e),this._picframephoto.x=t,this._picframephoto.y=n},a.getPicFramePhoto=function(){return this._picframephoto},a.setPicFrameWord=function(e,t,n){this._picframeword=egretUntil.createBitmapByName(e),t instanceof egret.Sprite&&(this._picframeword.x=(t.width-this._picframeword.width)/2),n instanceof egret.Sprite&&(this._picframeword.y=(n.height-this._picframeword.height)/2+20)},a.getPicFrameWord=function(){return this._picframeword},t}(egret.Sprite);egret.registerClass(picFrameCon,"picFrameCon");var touchPlayEffect=function(){function e(){}var t=(__define,e);t.prototype;return e.touchFramePlayWord=function(e,t){operateUntil.cancelAnchorOffsetxy(t);var n=e.stageX,i=e.stageY,a=t.x,r=t.y,s=t.width,o=t.height;return operateUntil.restoreAnchorOffsetxy(t),n>a&&a+s>n&&i>r&&r+o>i?(playSoundEffect("english/english1/unit3/word/"+t.name+".ogg"),!0):void 0},e.wrongSound=function(e,t){1==e?playSoundEffect("english/english1/unit3/firstwrong.ogg"):2==e?playSoundEffect("english/english1/unit3/secondwrong.ogg"):3==e&&playSoundEffect("english/english1/unit3/thirdwrong"+t.name+".ogg")},e}();egret.registerClass(touchPlayEffect,"touchPlayEffect");var english2Unit1Study=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_2_UNIT_1_STUDY,this);var e=egretUntil.createBitmapByName("firstimg_png");this.addChild(e),egret.setTimeout(this.playEndImage,this,1e3,"egret")},i.playEndImage=function(){var e=egretUntil.createBitmapByName("lastimg_png");this.addChild(e)},i.setProXY=function(e,t){this.x=e,this.y=t},t}(englishfat);egret.registerClass(english2Unit1Study,"english2Unit1Study",["interfaceenglish"]);var english2Unit2Test=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.animalHomeArr=[{iSheet:"secondanimal_json",homeName:"cathome",homeName1:"cathome1",homeX:25,homeY:304},{iSheet:"secondanimal_json",homeName:"tigerhome",homeName1:"tigerhome1",homeX:44,homeY:112},{iSheet:"secondanimal_json",homeName:"cowhome",homeName1:"cowhome1",homeX:327,homeY:18},{iSheet:"secondanimal_json",homeName:"birdhome",homeName1:"birdhome1",homeX:595,homeY:13},{iSheet:"secondanimal_json",homeName:"monkeyhome",homeName1:"monkeyhome1",homeX:677,homeY:163},{iSheet:"secondanimal_json",homeName:"doghome",homeName1:"doghome1",homeX:663,homeY:317}],this.dragImgNameArr=["cat","tiger","cow","bird","monkey","dog"],this.dragImgObjArr=[],this.dragimgindex=0,this._distance=new egret.Point,this._touchStatus=!1,this.istouchword=!1,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addPhoto,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addPhoto=function(){try{this.animalHomeObjArr=new Maps}catch(e){egret.log(e)}this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addPhoto,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_2_UNIT_2_TEST,this);var t=egretUntil.createBitmapByName("background_png");this.addChild(t),this.addAnimalHome(),this.addDragAnimal(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.dragImgBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.dragImgEnd,this)},i.addVineBlank=function(){this.blank=egretUntil.createBitmapByName("plankboard"),this.addChild(this.blank),this.blank.x=166,this.blank.y=30,this.blank.visible=!1,operateUntil.restoreAnchorOffsetxy(this.blank,egretUntil.getStageWidth()/2-this.blank.x,egretUntil.getStageHeight()/2),this.leftVine=egretUntil.createBitmapByName("leftvine"),this.addChild(this.leftVine),this.leftVine.x=80,this.leftVine.y=-27,this.leftVine.visible=!1,operateUntil.restoreAnchorOffsetxy(this.leftVine,120,137),this.rightVine=egretUntil.createBitmapByName("rightvine"),this.addChild(this.rightVine),this.rightVine.x=752,this.rightVine.y=-30,this.rightVine.visible=!1,operateUntil.restoreAnchorOffsetxy(this.rightVine,16,137),mathfat.setTweenarr(this.leftVine),mathfat.setTweenarr(this.rightVine),mathfat.setTweenarr(this.blank),egret.Tween.get(this.leftVine).to({y:-155,rotation:20,visible:!0}).to({y:115,rotation:10},400).to({y:95,rotation:-15},360).to({y:110,rotation:5},320).to({y:101,rotation:-2},360).to({y:105,rotation:0},360).call(playSoundEffect,this,["english/english2/unit2/chinese/animalhomebuildneedfind.ogg"]),egret.Tween.get(this.rightVine).to({y:-160,rotation:-20,visible:!0}).to({y:110,rotation:10},400).to({y:90,rotation:15},360).to({y:105,rotation:5},320).to({y:96,rotation:-2},360).to({y:100,rotation:0},360),egret.Tween.get(this.blank).to({y:10,visible:!0}).to({y:305},400).to({y:285},360).to({y:300},320).to({y:291},360).to({y:295},360),egret.Tween.get(this).wait(2e3).call(function(){this.touchEnabled=!0},this),mathfat.setTweenarr(this)},i.animalGoOut=function(){egret.Tween.get(this.dragImgObjArr[this.dragimgindex]).to({visible:!0}).to({alpha:1,x:(egretUntil.getStageWidth()-this.dragImgObjArr[this.dragimgindex].width)/2},600,egret.Ease.sineOut)},i.addAnimalHome=function(){for(var e=0;e<this.animalHomeArr.length;e++){var t=egretUntil.createBitmapByName(this.animalHomeArr[e].iSheet+"."+this.animalHomeArr[e].homeName);t.x=this.animalHomeArr[e].homeX,t.y=this.animalHomeArr[e].homeY,t.name=this.animalHomeArr[e].homeName,this.addChild(t);var n=egretUntil.createBitmapByName(this.animalHomeArr[e].iSheet+"."+this.animalHomeArr[e].homeName1);n.x=this.animalHomeArr[e].homeX,n.y=this.animalHomeArr[e].homeY,this.addChild(n),n.name=this.animalHomeArr[e].homeName1,n.visible=!1,this.animalHomeObjArr.set(t.name.replace("home",""),{home:t,home1:n})}},i.addDragAnimal=function(){for(var e=0;e<this.dragImgNameArr.length;e++){var t=egretUntil.createBitmapByName(this.dragImgNameArr[e]);t.x=(egretUntil.getStageWidth()-t.width)/2+100,t.y=(egretUntil.getStageHeight()-t.height)/2,t.visible=!1,t.alpha=0,t.name=this.dragImgNameArr[e],this.addChild(t),mathfat.setTweenarr(t),this.dragImgObjArr.push(t)}this.dragImgObjArr=egretUntil.getArrayItems(this.dragImgObjArr,this.dragImgObjArr.length)},i.dragImgBegin=function(e){if(!this.hasEventListener(egret.TouchEvent.TOUCH_TAP)){saveLog("超时触发器停止","egret.TouchEvent"),viewManager.getInstance().timeruntil.asrtimer.reset(),staticVarUntil.timercurrentcount=0;var t=e.stageX,n=e.stageY,i=this.dragImgObjArr[this.dragimgindex].x,a=this.dragImgObjArr[this.dragimgindex].y,r=this.dragImgObjArr[this.dragimgindex].width,s=this.dragImgObjArr[this.dragimgindex].height;this.animalHomeObjArr.each(function(e,i,a){var a=a,r=e.home||e.home1;operateUntil.cancelAnchorOffsetxy(r),t>r.x&&t<r.x+r.width&&n>r.y&&n<r.y+r.height&&(playSoundEffect("english/english2/unit2/english/"+i+".ogg"),a.touchEnabled=!1)},this),t>i&&i+r>t&&n>a&&a+s>n&&(this._touchStatus=!0,this._distance.x=t-i,this._distance.y=n-a,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.dragImgMove,this))}},i.dragImgMove=function(e){this._touchStatus&&(this.dragImgObjArr[this.dragimgindex].x=e.stageX-this._distance.x,this.dragImgObjArr[this.dragimgindex].y=e.stageY-this._distance.y)},i.dragImgEnd=function(){this._touchStatus=!1,this.isFitTarget(),this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.dragImgMove,this)},i.isFitTarget=function(){this.animalHomeObjArr.each(function(e,t,n){var i=n;if(i.isFit(i.dragImgObjArr[i.dragimgindex],e.home)){if(e.home.name.indexOf(i.dragImgObjArr[i.dragimgindex].name)>=0)e.home.visible=!1,e.home1.visible=!0,i.dragImgObjArr[i.dragimgindex].visible=!1,i.touchEnabled=!1,staticVarUntil.totalrighttimunum++,saveLog("isfit",staticVarUntil.totalrighttimunum),playSoundEffect("english/english1/unit3/righteffect.ogg");else if(i.touchEnabled=!1,i.sigletimutotalwrong++,playSoundEffect("english/english1/unit3/wrongeffect.ogg"),3==i.sigletimutotalwrong){var n=i.animalHomeObjArr.get(i.dragImgObjArr[i.dragimgindex].name).home;operateUntil.restoreAnchorOffsetxy(n),animationUntil.effectJelly(n,!1,2e3),animationUntil.effectJelly(n,!1,2500),animationUntil.effectJelly(n,!1,3e3)}}else;},this),egret.Tween.get(this.dragImgObjArr[this.dragimgindex]).to({x:(egretUntil.getStageWidth()-this.dragImgObjArr[this.dragimgindex].width)/2,y:(egretUntil.getStageHeight()-this.dragImgObjArr[this.dragimgindex].height)/2},300).call(function(){this.touchEnabled&&(viewManager.getInstance().timeruntil.asrtimer.start(),staticVarUntil.timerstart=egret.getTimer())},this)},i.isFit=function(e,t){return e.x<t.x&&e.x+e.width<t.x+.6*t.width?!1:e.x>t.x+.4*t.width?!1:e.y<t.y&&e.y+e.height<t.y+.6*t.height?!1:e.y>t.y+.4*t.height?!1:!0},i.hiddenBlank=function(){egret.Tween.get(this.leftVine).to({y:-160},400),egret.Tween.get(this.rightVine).to({y:-165},400),egret.Tween.get(this.blank).to({y:30},400)},i.handleAudio=function(e){e.indexOf("unit3/righteffect.ogg")>=0?playSoundEffect(this.dragimgindex==this.dragImgObjArr.length-1?"english/english2/unit2/chinese/keepcontinuegood.ogg":"english/english2/unit2/chinese/playgoon.ogg"):e.indexOf("unit3/wrongeffect.ogg")>=0?operateUntil.touchButtonWrongMarkWord(this.sigletimutotalwrong,"english/english2/unit2/chinese/firstwrong.ogg","english/english2/unit2/chinese/friendlookwherehomeis"+this.dragImgObjArr[this.dragimgindex].name+".ogg","english/english2/unit2/chinese/tellyoushould"+this.dragImgObjArr[this.dragimgindex].name+"home.ogg"):e.indexOf("animalhomebuildneedfind")>=0?(this.hiddenBlank(),this.animalGoOut(),egret.setTimeout(function(){playSoundEffect("english/english2/unit2/chinese/wherehomeis"+this.dragImgObjArr[this.dragimgindex].name+".ogg")},this,1e3,"egret"),this.touchEnabled=!1,viewManager.getInstance().touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this)):e.indexOf("wherehomeis"+this.dragImgObjArr[this.dragimgindex].name+".ogg")>=0||e.indexOf("friendlookwherehomeis"+this.dragImgObjArr[this.dragimgindex].name+".ogg")>=0||e.indexOf("firstwrong")>=0?(viewManager.getInstance().timeruntil.asrtimer.start(),staticVarUntil.timerstart=egret.getTimer(),this.touchEnabled=!0,viewManager.getInstance().touchEnabled=!0,saveLog("handleAudio定时器","启动"),saveLog(this.touchEnabled,viewManager.getInstance().touchEnabled)):e.indexOf("playgoon")>=0||e.indexOf("tellyoushould"+this.dragImgObjArr[this.dragimgindex].name+"home.ogg")>=0?this.dragimgindex<this.dragImgObjArr.length-1?(egret.Tween.get(this.dragImgObjArr[this.dragimgindex]).to({alpha:0},200).to({visible:!1}),this.dragimgindex++,this.sigletimutotalwrong=0,this.animalGoOut(),playSoundEffect("english/english2/unit2/chinese/wherehomeis"+this.dragImgObjArr[this.dragimgindex].name+".ogg")):viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()):e.indexOf("keepcontinuegood")>=0?viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()):e.indexOf("english/english2/unit2/english/")>=0?(this.touchEnabled=!0,viewManager.getInstance().touchEnabled=!0):e.indexOf("english/english1/unit3/playnexttime.ogg")>=0?(console.log("切换到下一题"),onBackButtonPressed()):e.indexOf("common/timer/wait10swarn.ogg")>=0||e.indexOf("common/timer/wait20swarn.ogg")>=0?(viewManager.getInstance().touchEnabled=!0,this.touchEnabled=!0,viewManager.getInstance().timeruntil.asrtimer.start(),staticVarUntil.timerstart=egret.getTimer()):e.indexOf("common/timer/wait30swarn.ogg")>=0&&overTimeAutoExit()},i.setProXY=function(e,t){this.x=e,this.y=t},t}(englishfat);egret.registerClass(english2Unit2Test,"english2Unit2Test",["interfaceenglish"]);var english2Unit3Test=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.foodObjArr=[],this.foodObjArrIndex=0,this.animalAndhome_nameArr=[{iSheet:"thridanimal_json",animal_name:"cat1",animal_x:173,animal_y:338,home_name:"cathome",home_x:25,home_y:304,food_name:"yu",food_x:396,food_y:291,food_desx:266,food_desy:406,scalex:.5,scaley:.5,animalSwapAnimalhome:!1},{iSheet:"thridanimal_json",animal_name:"tiger1",animal_x:50,animal_y:114,home_name:"tigerhome",home_x:44,home_y:112,food_name:"rou",food_x:424,food_y:299,food_desx:159,food_desy:174,scalex:.7,scaley:.7,animalSwapAnimalhome:!1},{iSheet:"thridanimal_json",animal_name:"cow1",animal_x:380,animal_y:17,home_name:"cowhome",home_x:327,home_y:18,food_name:"cao",food_x:410,food_y:277,food_desx:537,food_desy:101,scalex:.8,scaley:.8,animalSwapAnimalhome:!0},{iSheet:"thridanimal_json",animal_name:"bird1",animal_x:702,animal_y:11,home_name:"birdhome",home_x:595,home_y:13,food_name:"chongzi",food_x:445,food_y:290,food_desx:715,food_desy:58,scalex:.2,scaley:.2,animalSwapAnimalhome:!1},{iSheet:"thridanimal_json",animal_name:"monkey1",animal_x:740,animal_y:163,home_name:"monkeyhome",home_x:677,home_y:163,food_name:"xiangjiao",food_x:422,food_y:241,food_desx:802,food_desy:242,scalex:.5,scaley:.5,animalSwapAnimalhome:!1},{iSheet:"thridanimal_json",animal_name:"dog1",animal_x:765,animal_y:349,home_name:"doghome",home_x:663,home_y:317,food_name:"gutou",food_x:393,food_y:293,food_desx:823,food_desy:432,scalex:.4,scaley:.4,animalSwapAnimalhome:!1}],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addContent,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addContent=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addContent,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_2_UNIT_3_TEST,this);var e=egretUntil.createBitmapByName("background_png");this.addChild(e);var t=egretUntil.createBitmapByName("panzi");t.x=396,t.y=296,this.addChild(t),this.animalAndHome(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this)},i.addVineBlank=function(){this.blank=egretUntil.createBitmapByName("banzi"),this.addChild(this.blank),this.blank.x=166,this.blank.y=30,this.blank.visible=!1,operateUntil.restoreAnchorOffsetxy(this.blank,egretUntil.getStageWidth()/2-this.blank.x,egretUntil.getStageHeight()/2),this.leftVine=egretUntil.createBitmapByName("leftvine"),this.addChild(this.leftVine),this.leftVine.x=80,this.leftVine.y=-27,this.leftVine.visible=!1,operateUntil.restoreAnchorOffsetxy(this.leftVine,120,137),this.rightVine=egretUntil.createBitmapByName("rightvine"),this.addChild(this.rightVine),this.rightVine.x=752,this.rightVine.y=-30,this.rightVine.visible=!1,operateUntil.restoreAnchorOffsetxy(this.rightVine,16,137),mathfat.setTweenarr(this.leftVine),mathfat.setTweenarr(this.rightVine),mathfat.setTweenarr(this.blank),egret.Tween.get(this.leftVine).to({y:-155,rotation:20,visible:!0}).to({y:115,rotation:10},400).to({y:95,rotation:-15},360).to({y:110,rotation:5},320).to({y:101,rotation:-2},360).to({y:105,rotation:0},360).call(playSoundEffect,this,["english/english2/unit3/sayanimalenglishgetfood.ogg"]),egret.Tween.get(this.rightVine).to({y:-160,rotation:-20,visible:!0}).to({y:110,rotation:10},400).to({y:90,rotation:15},360).to({y:105,rotation:5},320).to({y:96,rotation:-2},360).to({y:100,rotation:0},360),egret.Tween.get(this.blank).to({y:10,visible:!0}).to({y:305},400).to({y:285},360).to({y:300},320).to({y:291},360).to({y:295},360),egret.setTimeout(function(){this.touchEnabled=!0},this,2e3)},i.animalAndHome=function(){for(var e=0;e<this.animalAndhome_nameArr.length;e++){var t=egretUntil.createBitmapByName(this.animalAndhome_nameArr[e].home_name);t.x=this.animalAndhome_nameArr[e].home_x,t.y=this.animalAndhome_nameArr[e].home_y,t.name=this.animalAndhome_nameArr[e].home_name,this.addChild(t);var n=egretUntil.createBitmapByName(this.animalAndhome_nameArr[e].iSheet+"."+this.animalAndhome_nameArr[e].animal_name);n.x=this.animalAndhome_nameArr[e].animal_x,n.y=this.animalAndhome_nameArr[e].animal_y,this.addChild(n),n.name=this.animalAndhome_nameArr[e].animal_name,this.animalAndhome_nameArr[e].animalSwapAnimalhome&&this.swapChildren(t,n);var i=egretUntil.createBitmapByName(this.animalAndhome_nameArr[e].iSheet+"."+this.animalAndhome_nameArr[e].food_name);i.x=this.animalAndhome_nameArr[e].food_x,i.y=this.animalAndhome_nameArr[e].food_y,i.visible=!1,i.scaleX=0,i.scaleY=0,i.name=this.animalAndhome_nameArr[e].food_name,i.animal_name=this.animalAndhome_nameArr[e].animal_name.replace("1",""),this.addChild(i),mathfat.setTweenarr(i),this.foodObjArr.push(i)}},i.foodOut=function(){this.foodObjArr=egretUntil.getArrayItems(this.foodObjArr,this.foodObjArr.length),operateUntil.restoreAnchorOffsetxy(this.foodObjArr[this.foodObjArrIndex]),egret.Tween.get(this.foodObjArr[this.foodObjArrIndex]).to({visible:!0}).to({scaleX:1,scaleY:1},600)},i.handleAsr=function(e){if(e.indexOf(this.foodObjArr[this.foodObjArrIndex].animal_name)>=0)for(var t=0;t<this.animalAndhome_nameArr.length;t++)this.animalAndhome_nameArr[t].animal_name.indexOf(this.foodObjArr[this.foodObjArrIndex].animal_name)>=0&&(egret.Tween.get(this.foodObjArr[this.foodObjArrIndex]).to({x:this.animalAndhome_nameArr[t].food_desx,y:this.animalAndhome_nameArr[t].food_desy,scaleX:this.animalAndhome_nameArr[t].scalex,scaleY:this.animalAndhome_nameArr[t].scalex},1e3,egret.Ease.sineOut),egret.Tween.get(this.foodObjArr[this.foodObjArrIndex]).wait(500).to({alpha:0},500).call(function(){this.sigletimutotalwrong=0,operateUntil.restoreAnchorOffsetxy(this.getChildByName(this.foodObjArr[this.foodObjArrIndex].animal_name+"1")),animationUntil.effectJelly(this.getChildByName(this.foodObjArr[this.foodObjArrIndex].animal_name+"1")),playSoundEffect("english/english2/unit3/animaleateffect.ogg")},this),staticVarUntil.totalrighttimunum++);else staticVarUntil.totalwrong++,this.sigletimutotalwrong++,3==this.sigletimutotalwrong&&(playSoundEffect("english/english2/unit3/animalsound/"+this.foodObjArr[this.foodObjArrIndex].animal_name+"sound.ogg"),operateUntil.restoreAnchorOffsetxy(this.getChildByName(this.foodObjArr[this.foodObjArrIndex].animal_name+"1")),animationUntil.effectJelly(this.getChildByName(this.foodObjArr[this.foodObjArrIndex].animal_name+"1")),playSoundEffect("english/english2/unit3/animalsound"+this.foodObjArr[this.foodObjArrIndex].animal_name+".ogg")),operateUntil.asrWrongMarkWord(this.sigletimutotalwrong,"english/english2/unit3/firstwrong.ogg","english/english2/unit3/secondwrong.ogg","english/english2/unit3/Itsa"+this.foodObjArr[this.foodObjArrIndex].animal_name+".ogg")},i.hiddenBlank=function(){egret.Tween.get(this.leftVine).to({y:-160},400),egret.Tween.get(this.rightVine).to({y:-165},400),egret.Tween.get(this.blank).to({y:30},400)},i.handleAudio=function(e){e.indexOf("keepcontinuegood")>=0?viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()):e.indexOf("sayanimal")>=0?(this.hiddenBlank(),this.foodOut(),this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this),playSoundEffect("english/english2/unit3/whereanimaleat"+this.foodObjArr[this.foodObjArrIndex].name+".ogg")):e.indexOf("whereanimaleat"+this.foodObjArr[this.foodObjArrIndex].name+".ogg")>=0?startAsr(this,this.foodObjArr[this.foodObjArrIndex].animal_name):e.indexOf("wait10swarn")>=0||e.indexOf("wait20sanimalhungry")>=0?startAsr(this,this.foodObjArr[this.foodObjArrIndex].animal_name):e.indexOf("wait30snexttimefeedanimal")>=0?overTimeAutoExit():e.indexOf("english/english2/unit3/Itsa"+this.foodObjArr[this.foodObjArrIndex].animal_name+".ogg")>=0?(this.sigletimutotalwrong=0,egret.Tween.get(this.foodObjArr[this.foodObjArrIndex]).to({alpha:0},500).to({visible:!1}),this.foodObjArrIndex++,this.foodObjArrIndex<this.foodObjArr.length?(saveLog("foodObjArrIndex","全错切换到下一个"),playSoundEffect("english/english2/unit3/whereanimaleat"+this.foodObjArr[this.foodObjArrIndex].name+".ogg"),operateUntil.restoreAnchorOffsetxy(this.foodObjArr[this.foodObjArrIndex]),egret.Tween.get(this.foodObjArr[this.foodObjArrIndex]).to({visible:!0}).to({scaleX:1,scaleY:1},600)):viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())):e.indexOf("firstwrong")>=0||e.indexOf("secondwrong")>=0?startAsr(this,this.foodObjArr[this.foodObjArrIndex].animal_name):e.indexOf("english/english2/unit3/animaleateffect.ogg")>=0?(this.foodObjArrIndex++,this.foodObjArrIndex<this.foodObjArr.length?(saveLog("foodObjArrIndex","一次性答对了"),playSoundEffect("english/english2/unit3/whereanimaleat"+this.foodObjArr[this.foodObjArrIndex].name+".ogg"),operateUntil.restoreAnchorOffsetxy(this.foodObjArr[this.foodObjArrIndex]),egret.Tween.get(this.foodObjArr[this.foodObjArrIndex]).to({visible:!0}).to({scaleX:1,scaleY:1},600)):playSoundEffect("english/english2/unit2/chinese/keepcontinuegood.ogg")):e.indexOf("errnet")>=0&&(3==staticVarUntil.getasrerror?overTimeAutoExit():startAsr(this,this.foodObjArr[this.foodObjArrIndex].animal_name))},i.setProXY=function(e,t){this.x=e,this.y=t},t}(englishfat);egret.registerClass(english2Unit3Test,"english2Unit3Test",["interfaceenglish"]);var TouchHandler=egret.sys.TouchHandler,englishClockUnit1=function(e){function t(){e.call(this),this.promise=egret.Promise,this.pubsub=egret.pubsub,this.worldArr=["six","seven","eight","nine","ten","eleven","twelve"],this.worldArrIndex=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_CLOCK_UNIT1,this);var e=egretUntil.createBitmapByName("english15-1-beijing_png");this.addChild(e);var t=egretUntil.createBitmapByName("english15-1-qianjing_png");this.addClock(),this.addPeopleAndWord(t),this.addShape(),this.addTittle()},i.start=function(){var e=this;e.worldArrIndex=0,console.log(this.pubsub.gettopics(),"topics"),playSoundEffect("english/englishclock/effect/english15-0-BGM.ogg",1,1);var t=e.getChildByName("title");playSoundEffect("english/englishclock/"+ENGLISH15_1_5+".ogg");var n=e.pubsub.subscribe("english15-1-5",function(t,i){e.pubsub.unsubscribe(n),playSoundEffect("english/englishclock/"+ENGLISH15_1_6+".ogg")
}),i=e.pubsub.subscribe("english15-1-6",function(t,n){e.pubsub.unsubscribe(i),playSoundEffect("english/englishclock/"+ENGLISH15_1_7+".ogg")});this.promise(function(n){operateUntil.restoreAnchorOffsetxy(t),egret.Tween.get(t).to({alpha:1,y:t.y-20},1e3).call(function(){egret.Tween.get(t,{loop:!0}).to({scaleX:.95,scaleY:.95},1e3).to({scaleX:1.05,scaleY:1.05},1e3).to({scaleX:1,scaleY:1},1e3);var i=e.pubsub.subscribe("english15-1-7",function(t,a){e.pubsub.unsubscribe(i),egret.Tween.removeTweens(i),n()})},e)}).then(function(){var n=new e.promise;return egret.Tween.get(e.getChildByName("shp")).to({alpha:0},1e3),egret.Tween.get(t).to({alpha:0,y:t.y-20},1e3).call(function(){n.resolve(),console.log("come in")},e),n}).then(function(){return console.log("come in in"),e.promise(function(t){e.process(e,t)})}).then(function(){viewManager.getInstance().dispatchEvent(e.getViewmanagerevent())})},i.process=function(e,t){var n=e.promise(function(e){e()});n.then(function(){return e.promise(function(t){e.getChildByName("clock").trunClock(e.worldArrIndex,t)})}).then(function(){return e.promise(function(t){e.getChildByName("clock").showBird(t)})}).then(function(){return e.promise(function(t){playSoundEffect("english/englishclock/english15-1-8.ogg"),e.getChildByName("peopleword").sisMouth();var n=e.pubsub.subscribe("english15-1-8",function(t,i){e.pubsub.unsubscribe(n),e.getChildByName("peopleword").sisMouthAniPause(),playSoundEffect("english/englishclock/english15-1-"+(e.worldArrIndex+9)+".ogg"),e.getChildByName("peopleword").gpMoustache()}),i=e.pubsub.subscribe("english15-1-"+(e.worldArrIndex+9),function(n,a){e.pubsub.unsubscribe(i),e.getChildByName("peopleword").spMousAniPause(),t()})})}).then(function(){return e.promise(function(e){e()})}).then(function(){console.log("$this.worldArrIndex++"),e.worldArrIndex++,e.worldArrIndex<e.worldArr.length?e.process(e,t):t()})},i.addTittle=function(){var e=egretUntil.createBitmapByName("english15-1-logo1");e.name="title",this.addChild(e),e.alpha=0,e.x=(egretUntil.getStageWidth()-e.width)/2,e.y=(egretUntil.getStageHeight()-e.height)/2+20},i.addShape=function(){var e=new egret.Shape;e.graphics.beginFill(1118481,.7),e.graphics.drawRect(0,0,egretUntil.getStageWidth(),egretUntil.getStageHeight()),e.graphics.endFill(),this.addChild(e),e.name="shp"},i.addClock=function(){var e=this,t=new egret.Sprite;e.addChild(t),t.name="clock";var n=egretUntil.createBitmapByName("english15-1-zhong");t.addChild(n),t.x=(egretUntil.getStageWidth()-n.width)/2,t.y=15;var i=egretUntil.createBitmapByName("english15-1-meng");t.addChild(i),i.x=159,i.y=78;var a=egretUntil.createBitmapByName("english15-1-niao");t.addChild(a),a.visible=!1,a.x=(n.width-a.width)/2,a.y=-9,operateUntil.restoreAnchorOffsetxy(a,a.width/2,a.height);var r=new egret.Sprite;r.x=193,r.y=218,r.name="clocknum",operateUntil.restoreAnchorOffsetxy(r),t.addChild(r);for(var s=67,o=12,h=operateUntil.positionClockNum(s,o,"english15-1-z",60,r,1,30,-120),g=0;g<h.length;g++)if(!(5>g)){var l=h[g],d=egretUntil.createBitmapByName("english15-1-gaoliang");d.name="gaoliang"+g,d.x=l.x+l.width/2-d.width/2,d.y=l.y+l.height/2-d.height/2,d.visible=!1,r.addChildAt(d,g)}var c=new egret.Sprite;t.addChild(c);var u=egretUntil.createBitmapByName("english15-1-fenzhen");u.y=3,u.x=6,operateUntil.restoreAnchorOffsetxy(u,u.width/20,u.height/2),c.addChild(u);var m=egretUntil.createBitmapByName("english15-1-shizhen");c.addChild(m),m.x=0,m.y=12,operateUntil.restoreAnchorOffsetxy(m,m.width/2+1,m.height/20-4),m.rotation=-25;var p=egretUntil.createBitmapByName("english15-1-yuandin");c.addChild(p),c.x=184,c.y=209,t.showBird=function(t){void 0===t&&(t=function(){}),a.scaleX=0,a.scaleY=0,a.visible=!0,egret.Tween.get(a).wait(80).call(function(){i.visible=!1,playSoundEffect("english/englishclock/effect/english15-0-BuGuNiao.ogg")},e).to({scaleX:1.05,scaleY:1.05},240).to({scaleX:1,scaleY:1},120).wait(600).to({scaleX:0,scaleY:0},240).call(function(){i.visible=!0,a.visible=!1,t()})},t.gaoliangAni=function(){var t=r.getChildByName("gaoliang"+(e.worldArrIndex+5));t.visible=!0,t.alpha=0,egret.Tween.get(t,{loop:!0}).to({alpha:1},500).to({alpha:0},500)},t.trunClock=function(n,i){if(void 0===i&&(i=function(){}),playSoundEffect("english/englishclock/effect/english15-0-Biao.ogg",1,1),0==n)egret.Tween.get(u).to({rotation:270},760).call(i,e),egret.Tween.get(m).to({rotation:0},760).call(function(){t.gaoliangAni(),stopSoundEffectByUrl("english/englishclock/effect/english15-0-Biao.ogg")});else{var a=r.getChildByName("gaoliang"+(e.worldArrIndex+4));a.visible=!1,egret.Tween.removeTweens(a),egret.Tween.get(u).to({rotation:270},1e3).call(i,e),egret.Tween.get(m).to({rotation:m.rotation+30},1e3).call(function(){t.gaoliangAni(),stopSoundEffectByUrl("english/englishclock/effect/english15-0-Biao.ogg")})}}},i.addPeopleAndWord=function(e){var t=this,n=new egret.Sprite;n.name="peopleword",t.addChild(n);var i=new egret.Sprite;n.addChild(i);var a=egretUntil.createBitmapByName("english15-1-yeying");i.addChild(a);var r=egretUntil.createBitmapByName("english15-1-yeye");i.addChild(r),i.x=82,i.y=132,operateUntil.restoreAnchorOffsetxy(i),a.x=-5,a.y=353;var s=egretUntil.createBitmapByName("english15-1-huzi");i.addChild(s),s.x=97,s.y=145,operateUntil.restoreAnchorOffsetxy(s,s.width/2,s.height/5);var o=new egret.Sprite;n.addChild(o),o.x=695,o.y=183;var h=egretUntil.createBitmapByName("english15-1-sufeiying");o.addChild(h),h.x=41,h.y=280;var g=egretUntil.createBitmapByName("english15-1-sufei");o.addChild(g),operateUntil.restoreAnchorOffsetxy(o);for(var l=1;4>l;l++){var d=egretUntil.createBitmapByName("english15-1-zui"+l);d.name="mouth"+l,d.x=67-d.width/2,d.y=145-d.height/2,d.visible=!1,o.addChild(d)}d.visible=!0,n.addChild(e);var c=new egret.Sprite;c.name="world",n.addChild(c);var u=egretUntil.createBitmapByName("english15-1-danciban");c.addChild(u),c.width=u.width,c.height=u.height,c.visible=!1,c.x=50,c.y=15,operateUntil.restoreAnchorOffsetxy(c);for(var m=[],l=0,p=["six","seven","eight","nine","ten","eleven","twelve"];l<p.length;l++){var f=egretUntil.createBitmapByName("english15-1-"+p[l]);f.visible=!1,f.name=p[l],f.x=(u.width-f.width)/2,f.y=(u.height-f.height)/2,console.log(f.width,p[l]),c.addChild(f),m.push(f)}n.gpMoustache=function(){t.getChildByName("peopleword").showWorld(t.worldArr[t.worldArrIndex]),egret.Tween.get(i).to({scaleX:1.05,scaleY:1.05},240).to({scaleX:1,scaleY:1},240),egret.Tween.get(s,{loop:!0}).to({scaleX:1.1,scaleY:.7},200).to({scaleX:1,scaleY:1},200).to({scaleX:1.05,scaleY:.85},200).to({scaleX:1,scaleY:1},200)},n.spMousAniStart=function(){egret.Tween.resumeTweens(s)},n.spMousAniPause=function(){t.worldArrIndex<t.worldArr.length-1&&t.getChildByName("peopleword").hiddenWord(),egret.Tween.pauseTweens(s)},n.sisMouth=function(){var e=o.getChildByName("mouth3"),t=o.getChildByName("mouth2"),n=o.getChildByName("mouth1");egret.Tween.get(o).to({scaleX:1.05,scaleY:1.05},240).to({scaleX:1,scaleY:1},240),egret.Tween.get(e,{loop:!0}).wait(80).call(function(){e.visible=!1,n.visible=!0},this).wait(80).call(function(){t.visible=!0,n.visible=!1},this).wait(80).call(function(){t.visible=!1,e.visible=!0},this).wait(80).call(function(){n.visible=!0,e.visible=!1},this).wait(80).call(function(){e.visible=!0,n.visible=!1},this).wait(80).call(function(){t.visible=!0,e.visible=!1},this).wait(80).call(function(){n.visible=!0,t.visible=!1},this),egret.setTimeout(function(){console.log(e)},this,4e3,"egret")},n.sisMouthAniStart=function(){var e=o.getChildByName("mouth3");egret.Tween.resumeTweens(e)},n.sisMouthAniPause=function(){var e=o.getChildByName("mouth3");egret.Tween.pauseTweens(e)},n.showWorld=function(e){playSoundEffect("english/englishclock/effect/english15-0-BianShuZi.ogg"),c.getChildByName(e).visible=!0,c.visible=!0,c.scaleX=c.scaleY=0,egret.Tween.get(c).to({scaleX:1.2,scaleY:.8},300).to({scaleX:.8,scaleY:1.2},130).to({scaleX:1,scaleY:1},130)},n.hiddenWord=function(){c.getChildByName(t.worldArr[t.worldArrIndex]).visible=!1,c.visible=!1,c.removeChild(c.getChildByName(t.worldArr[t.worldArrIndex]))}},i.handleAudio=function(e){var t=/english15-1-\d{1,2}/.exec(e);t&&(console.log(/english15-1-\d{1,2}/.exec(e)[0],"data"),this.pubsub.publish(/english15-1-\d{1,2}/.exec(e)[0],""))},t}(englishfat);egret.registerClass(englishClockUnit1,"englishClockUnit1");var englishClockUnit3=function(e){function t(){e.call(this),this.promise=egret.Promise,this.pubsub=egret.pubsub,this.async=egret.async,this.numIndex=0,this.isFirstTouch=!0,this.point=new egret.Point,this.touchstau=!1,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_CLOCK_UNIT3,this);var e=egretUntil.createBitmapByName("english15-3-beijing_png");this.addChild(e),this.addClock(),this.addNums(),this.addShape(),this.addTitle(),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)},i.start=function(){var e=this;e.promise(function(t){playSoundEffect("english/englishclock/english15-3-1.ogg"),playSoundEffect("english/englishclock/effect/english15-0-BGM.ogg"),e.async.parallel([function(t){e.getChildByName("title").startAni(t)},function(t){var n=e.pubsub.subscribe("english15-3-1",function(i,a){e.pubsub.unsubscribe(n),t()})}],function(){e.touchEnabled=!0,t()})}).then(function(){return e.promise(function(t){playSoundEffect("english/englishclock/english15-3-2.ogg");var n=e.pubsub.subscribe("english15-3-2",function(i,a){e.pubsub.unsubscribe(n),e.touchEnabled=!1,e.getChildByName("title").endAni(t)})})}).then(function(){return e.promise(function(t){e.everyItem(t)})}).then(function(){viewManager.getInstance().dispatchEvent(e.getViewmanagerevent())})},i.everyItem=function(e){var t=this;t.promise(function(e){t.getChildByName("addclock").trunClock(t.numIndex,function(){t.getChildByName("addclock").kuangAni(),e()})}).then(function(){return t.promise(function(e){playSoundEffect("english/englishclock/english15-2-"+(t.numIndex+9)+".ogg");var n=t.pubsub.subscribe("english15-2-"+(t.numIndex+9),function(i,a){t.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start(),t.pubsub.unsubscribe(n),e()})})}).then(function(){var n=t.pubsub.subscribe("startnext",function(i,a){t.pubsub.unsubscribe(n),t.numIndex++,t.numIndex<7?t.everyItem(e):e()})})},i.addTitle=function(){var e=this,t=egretUntil.createBitmapByName("english15-3-logo3");t.name="title",e.addChild(t),t.x=(egretUntil.getStageWidth()-t.width)/2,t.y=(egretUntil.getStageHeight()-t.height)/2,operateUntil.restoreAnchorOffsetxy(t),t.alpha=0,t.startAni=function(e){void 0===e&&(e=function(){}),egret.Tween.get(t,{loop:!0}).to({scaleX:.95,scaleY:.95},1e3).to({scaleX:1.05,scaleY:1.05},1e3).to({scaleX:1,scaleY:1},1e3),egret.Tween.get(t).to({alpha:1,y:t.y-20},1e3).call(e)},t.endAni=function(n){void 0===n&&(n=function(){}),egret.Tween.removeTweens(t),egret.Tween.get(e.getChildByName("shp")).to({alpha:0},1e3),egret.Tween.get(t).to({alpha:0,y:t.y-20},1e3).call(n)}},i.addShape=function(){var e=new egret.Shape;e.graphics.beginFill(1118481,.7),e.graphics.drawRect(0,0,egretUntil.getStageWidth(),egretUntil.getStageHeight()),e.graphics.endFill(),this.addChild(e),e.name="shp"},i.addClock=function(){var e=this,t=new egret.Sprite;e.addChild(t),t.name="addclock";var n=egretUntil.createBitmapByName("english15-3-zhongmian");t.addChild(n),t.x=(egretUntil.getStageWidth()-n.width)/2,t.y=0;var i=new egret.Sprite;i.name="clocknum",i.trytimes=0,t.addChild(i),i.y=238,i.x=362;var a=160,r=7,s=operateUntil.positionClockNum(a,r,"english15-3-",60,i,6,30,30),o=new egret.Sprite;t.addChild(o);var h=egretUntil.createBitmapByName("english15-3-fenzhen");h.y=3,h.x=9,operateUntil.restoreAnchorOffsetxy(h,h.width/30,.4*h.height),o.addChild(h);var g=egretUntil.createBitmapByName("english15-3-shizhen");o.addChild(g),g.x=-11,g.y=10,operateUntil.restoreAnchorOffsetxy(g,.52*g.width,g.height/20),g.rotation=-25;var l=egretUntil.createBitmapByName("english15-3-yuandian");o.addChild(l),o.x=348,o.y=226;for(var d=0;d<s.length;d++){s[d].visible=!1;var c=egretUntil.createBitmapByName("english15-3-xing");t.addChild(c),c.name="xing"+d,c.visible=!1,c.x=s[d].x+s[d].width/2-c.width/2+i.x,c.y=s[d].y+s[d].height/2-c.height/2+i.y,operateUntil.restoreAnchorOffsetxy(c),c.scaleX=c.scaleY=.1;var u=egretUntil.createBitmapByName("english15-3-fangwei");t.addChild(u),u.name="kuang"+d,u.visible=!1,u.x=s[d].x+s[d].width/2-u.width/2+i.x,u.y=s[d].y+s[d].height/2-u.height/2+i.y,operateUntil.restoreAnchorOffsetxy(u)}t.numArr=function(){for(var e=[],n=0;n<s.length;n++){var a=new egret.Sprite;a.width=s[n].width,a.height=s[n].height,a.x=i.x+t.x+s[n].x,a.y=i.y+t.y+s[n].y,a.name="clone"+s[n].name,e.push(a)}return e},t.realArr=function(){return s},t.trunClock=function(t,n){void 0===n&&(n=function(){}),playSoundEffect("english/englishclock/effect/english15-0-Biao.ogg",1,1),0==t?(egret.Tween.get(h).to({rotation:270},760).call(n,e),egret.Tween.get(g).to({rotation:0},760).call(function(){stopSoundEffectByUrl("english/englishclock/effect/english15-0-Biao.ogg")})):(egret.Tween.get(h).to({rotation:270},1e3).call(n,e),egret.Tween.get(g).to({rotation:g.rotation+30},1e3).call(function(){stopSoundEffectByUrl("english/englishclock/effect/english15-0-Biao.ogg")}))},t.xingAni=function(e){var n=t.getChildByName("xing"+e);n.visible=!0,egret.Tween.get(n).to({scaleX:1,scaleY:1},500).to({visible:!1})},t.kuangAni=function(){var n=t.getChildByName("kuang"+e.numIndex);n.visible=!0,n.alpha=0,egret.Tween.get(n).to({alpha:1},200).to({alpha:0},200).to({alpha:1},200)},t.hiddenKuang=function(){var n=t.getChildByName("kuang"+e.numIndex);n.visible=!1}},i.addNums=function(){var e=this,t=egretUntil.randomArr(6,12),n=new egret.Sprite;n.name="num",e.addChild(n);for(var i=[],a=0;a<t.length;a++){var r=new egret.Sprite;r.name=t[a],n.addChild(r);var s=egretUntil.createBitmapByName("english15-3-tuoying");r.addChild(s);var o=egretUntil.createBitmapByName("english15-3-faguang");r.addChild(o),o.visible=!1;var h=egretUntil.createBitmapByName("english15-3-shuijing");r.addChild(h);var g=egretUntil.createBitmapByName("english15-3-q"+t[a]);g.id=t[a],r.addChild(g),r.selfIndex=r.getChildIndex(g),g.x=(h.width-g.width)/2,g.y=(h.height-g.height)/2,operateUntil.restoreAnchorOffsetxy(g),o.x=(h.width-o.width)/2,o.y=(h.height-o.height)/2,r.width=h.width,r.height=h.height,s.x=h.x,s.y=h.height-s.height;var l,d;4>a?(l=100,d=60,r.x=100+l*Math.cos(Math.PI/180*90*a),r.y=350+d*Math.sin(Math.PI/180*90*a)):(r.x=730+70*Math.cos((120*(a-4)+30)*(Math.PI/180)),r.y=380+70*Math.sin((120*(a-4)+30)*(Math.PI/180))),r.startx=r.x,r.starty=r.y,i.push(r)}n.posArr=function(){return i},n.numAniRight=function(t){staticVarUntil.totalrighttimunum++;var n=e.getChildByName("addclock").realArr(),i=e.getChildByName("addclock").getChildByName("clocknum");i.trytimes=0,t.scaleX=t.scaleY=1,t.width=t.w,t.height=t.h,t.getChildAt(1).alpha=0,t.getChildAt(3).alpha=0;for(var a=null,r=0;r<n.length;r++)n[r].name=="english15-3-"+t.name&&(a=n[r],operateUntil.restoreAnchorOffsetxy(a),a.visible=!0,a.alpha=0);egret.Tween.get(t.getChildAt(2)).to({alpha:0},400).call(function(){t.visible=!1}),playSoundEffect("english/englishclock/effect/english15-0-GaoLiang.ogg"),egret.Tween.get(a).to({scaleX:2,scaleY:2,alpha:1},400).to({scaleX:.8,scaleY:.8},200).to({scaleX:1,scaleY:1},160).call(function(){e.getChildByName("addclock").xingAni(e.numIndex);var t=e.pubsub.subscribe("english15-0-righteffect",function(n,i){e.pubsub.publish("startnext",""),e.pubsub.unsubscribe(t)})})},n.dragAny=function(e,t){void 0===t&&(t=function(){}),e.scaleX=e.scaleY=1,e.width=e.w,e.height=e.h,egret.Tween.get(e).to({x:e.startx,y:e.starty},500).call(function(){e.getChildAt(0).visible=!0,n.resSelf(e),t()})},n.numAniWrong=function(t,i){void 0===i&&(i=function(){}),t.scaleX=t.scaleY=1,t.width=t.w,t.height=t.h,playSoundEffect("english/englishclock/effect/english15-0-wrongeffect.ogg"),egret.Tween.get(t).to({x:t.startx,y:t.starty},500).call(function(){t.getChildAt(0).visible=!0,n.resSelf(t);var a=e.getChildByName("addclock").getChildByName("clocknum");if(a.trytimes++,1==a.trytimes){playSoundEffect("common/tryagain/tryagain.ogg");var r=e.pubsub.subscribe("tryagain",function(){e.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start(),e.pubsub.unsubscribe(r)})}else if(2==a.trytimes){playSoundEffect("common/tryagain/tryagain.ogg");var r=e.pubsub.subscribe("tryagain",function(){playSoundEffect("english/englishclock/english15-3-"+(e.numIndex+3)+".ogg"),e.pubsub.unsubscribe(r)}),s=e.pubsub.subscribe("english15-3-"+(e.numIndex+3),function(){e.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start(),e.pubsub.unsubscribe(s)})}else{playSoundEffect("english/englishclock/english15-3-11.ogg");var r=e.pubsub.subscribe("english15-3-11",function(){e.pubsub.unsubscribe(r),playSoundEffect("english/englishclock/english15-3-"+(e.numIndex+3)+".ogg")}),s=e.pubsub.subscribe("english15-3-"+(e.numIndex+3),function(){e.pubsub.unsubscribe(s),a.trytimes=0,i()})}})},n.numAniThridWrong=function(t){t.getChildAt(1).alpha=0,t.getChildAt(1).visible=!0,t.getChildAt(2).visible=!0,n.setMaxChild(t),e.promise(function(e){playSoundEffect("english/englishclock/effect/english15-0-GaoLiang.ogg"),egret.Tween.get(t.getChildAt(1)).to({alpha:1},320).to({alpha:1},160).to({alpha:0},320).to({alpha:1},320).to({alpha:1},160).to({alpha:0},320).call(e)}).then(function(){return e.promise(function(i){for(var a=e.getChildByName("addclock").numArr(),r=0;r<a.length;r++)"cloneenglish15-3-"+t.name==a[r].name&&(t.getChildAt(0).visible=!1,egret.Tween.get(t).to({x:a[r].x+a[r].width/2-t.width/2,y:a[r].y+a[r].height/2-t.height/2},1e3).call(function(){i(),egret.Tween.get(t.getChildAt(2)).to({alpha:0},400).call(function(){t.visible=!1}),n.resSelf(t)}))})}).then(function(){return e.promise(function(n){for(var i=e.getChildByName("addclock").realArr(),a=0;a<i.length;a++)"english15-3-"+t.name==i[a].name&&(i[a].visible=!0,i[a].alpha=0,operateUntil.restoreAnchorOffsetxy(i[a]),egret.Tween.get(i[a]).to({scaleX:2,scaleY:2,alpha:.3},400).to({scaleX:.8,scaleY:.8},200).to({scaleX:1,scaleY:1},160).call(function(){e.pubsub.publish("startnext","")}))})})},n.touchNumSmall=function(e){e.getChildAt(0).visible=!1,e.w=e.width,e.h=e.height},n.tarObj=function(e){for(var t=0;t<i.length;t++)if(i[t].name==e)return i[t]},n.setMaxChild=function(e){n.setChildIndex(e,n.numChildren)},n.resSelf=function(e){n.setChildIndex(e,e.selfIndex)}},i.touchBegin=function(e){this.isFirstTouch&&(this.pubsub.publish("english15-3-2",""),stopSoundEffectByUrl("english/englishclock/english15-3-2.ogg"));var t=operateUntil.dragBegin(e,this.getChildByName("num").posArr(),this);null===t||1!=t.scaleX||t.complete||(this.getChildByName("num").setMaxChild(t),this.getChildByName("num").touchNumSmall(t),this.point.x=e.stageX-t.x,this.point.y=e.stageY-t.y,staticVarUntil.timercurrentcount=0,this.touchstau=!0,viewManager.getInstance().timeruntil.asrtimer.reset(),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this))},i.touchMove=function(e){operateUntil.dragMove(e,this)},i.touchEnd=function(){if(this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.touchstau){this.touchEnabled=!1;for(var e=this.getChildByName("addclock").numArr(),t=[],n=0;n<e.length;n++)operateUntil.isFit(this.point.obj,e[n])&&t.push(e[n]);var i=operateUntil.findLater(t,this.point.obj),a=this;i?this.point.obj.name==this.numIndex+6&&i.name.indexOf(this.point.obj.name)>=0?(this.point.obj.complete=!0,a.getChildByName("addclock").hiddenKuang(),playSoundEffect("english/englishclock/effect/english15-0-righteffect.ogg"),this.getChildByName("num").numAniRight(this.point.obj),this.getChildByName("num").resSelf(this.point.obj)):this.promise(function(e){a.getChildByName("num").numAniWrong(a.point.obj,function(){i&&e()})}).then(function(){return a.promise(function(e){a.getChildByName("addclock").hiddenKuang(),a.getChildByName("num").numAniThridWrong(a.getChildByName("num").tarObj(a.numIndex+6))})}):a.getChildByName("num").dragAny(a.point.obj,function(){a.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start(),console.log("come in")})}operateUntil.dragEnd(this)},i.handleAudio=function(e){var t=e.substring(e.lastIndexOf("/")+1,e.lastIndexOf(".")),n=new RegExp("(english15-3-d{1,2})|"+t),i=n.exec(e);i&&this.pubsub.publish(i[0],""),/wait10swarn|wait20swarn/.test(e)?(this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start()):e.indexOf("wait30swarn")>=0?overTimeAutoExit():/english15-0-righteffect/.test(e)&&this.pubsub.publish("english15-0-righteffect","")},t}(englishfat);egret.registerClass(englishClockUnit3,"englishClockUnit3");var tr=egret.sys.tr,englishClockUnit4=function(e){function t(){e.call(this),this.promise=egret.Promise,this.pubsub=egret.pubsub,this.async=egret.async,this.numIndex=6,this.answerArr=["six.6","seven.7","eight.8","nine.9","ten.10","eleven.11","twelve.12"],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_CLOCK_UNIT4,this);var e=egretUntil.createBitmapByName("english15-4-beijing_png");this.addChild(e),this.addFrame(),this.addCoconut(),this.addClock(),this.addDialogBox(),this.addShape();var t=this;this.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.touchEnabled=!1,stopSoundEffectByUrl("english/englishclock/english15-4-2.ogg"),t.pubsub.publish("english15-4-2","")},this)},i.addShape=function(){var e=new egret.Shape;e.graphics.beginFill(1118481,.7),e.graphics.drawRect(0,0,egretUntil.getStageWidth(),egretUntil.getStageHeight()),e.graphics.endFill(),this.addChild(e),e.name="shp"},i.addTitle=function(){console.log(this.pubsub.gettopics(),"topics");var e=this,t=egretUntil.createBitmapByName("english15-4-logo4");playSoundEffect("english/englishclock/effect/english15-0-BGM.ogg"),e.addChild(t),t.x=(egretUntil.getStageWidth()-t.width)/2,t.y=(egretUntil.getStageHeight()-t.height)/2,operateUntil.restoreAnchorOffsetxy(t),t.alpha=0,e.promise(function(n){e.async.parallel([function(t){playSoundEffect("english/englishclock/english15-4-1.ogg"),e.pubsub.subscribe("english15-4-1",function(e,n){t(null,1)})},function(n){egret.Tween.get(t).to({alpha:1,y:t.y-20},1e3).call(n,e,[null,2]),egret.Tween.get(t,{loop:!0}).to({scaleX:.95,scaleY:.95},1e3).to({scaleX:1.05,scaleY:1.05},1e3).to({scaleX:1,scaleY:1},1e3)}],function(e,t){n()})}).then(function(){return e.promise(function(n){playSoundEffect("english/englishclock/english15-4-2.ogg"),e.touchEnabled=!0;var i=e.pubsub.subscribe("english15-4-2",function(a,r){e.pubsub.unsubscribe(i),e.touchEnabled=!1,egret.Tween.removeTweens(t),egret.Tween.get(e.getChildByName("shp")).to({alpha:0},1e3),egret.Tween.get(t).to({alpha:0,y:t.y-20},1e3).call(n)})})}).then(function(){return e.promise(function(t){playSoundEffect("english/englishclock/english15-4-3.ogg"),e.pubsub.subscribe("english15-4-3",function(n,i){e.everyItem(t)})})}).then(function(){viewManager.getInstance().dispatchEvent(e.getViewmanagerevent())})},i.everyItem=function(e){var t,n,i=this;i.promise(function(e){i.getChildByName("clock").trunClock(i.numIndex,e)}).then(function(){return i.promise(function(e){i.getChildByName("dialogbox").showDialog(i.numIndex-6,function(){e(),startAsr(i,egretUntil.asrmap.get(i.numIndex)),staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start()})})}).then(function(){return i.promise(function(e){t=i.pubsub.subscribe("answerright",function(t,n){console.log("right"),i.rightRes(e)}),n=i.pubsub.subscribe("answerwrong",function(t,a){console.log("wrongRes "+egret.getTimer()),i.wrongRes(e,n)})})}).then(function(){i.getChildByName("dialogbox").hiddenDialog(i.numIndex-6),i.numIndex++,i.pubsub.unsubscribe(t),i.pubsub.unsubscribe(n),i.numIndex>12?e():(console.log("everyItem",i.numIndex),i.everyItem(e))})},i.addCoconut=function(){var e=new egret.Sprite;e.name="coconut";var t=this;t.addChild(e);var n=egretUntil.createBitmapByName("english15-4-yezi");e.addChild(n),n.trytimes=0,n.x=548,n.y=284,operateUntil.restoreAnchorOffsetxy(n),e.rightCoconutAni=function(e){void 0===e&&(e=function(){});var i=t.getChildByName("frame").getChildAt(0);playSoundEffect("english/englishclock/effect/english15-0-YeZi.ogg"),egret.Tween.get(n).to({y:n.y+180},200).to({y:n.y+165},120).to({y:n.y+180},80).wait(120).to({x:(egretUntil.getStageWidth()-n.width)/2,y:(egretUntil.getStageHeight()-n.height)/2,scaleX:2,scaleY:2},480).wait(200).to({x:i.x+i.width/2-n.width/2,y:i.y+i.height/2-n.height/2,scaleX:1,scaleY:1},480).call(function(){n.visible=!1}).call(function(){n.x=548,n.y=284,n.visible=!0,e()})}},i.addFrame=function(){var e=new egret.Sprite,t=this;t.addChild(e),e.name="frame";var n=egretUntil.createBitmapByName("english15-4-lankuang");e.addChild(n),n.x=819,n.y=400;for(var i=[],a=0,r=0;7>r;r++){var s=egretUntil.createBitmapByName("english15-4-"+(r+1));s.x=908,s.y=495,s.name="english15-4-"+(r+1),e.addChild(s),s.visible=!1,operateUntil.restoreAnchorOffsetxy(s),i.push(s)}e.frameShake=function(e){void 0===e&&(e=function(){}),0==n.anchorOffsetX&&operateUntil.restoreAnchorOffsetxy(n),egret.Tween.get(n).to({scaleX:1.2,scaleY:1.2},80).call(function(){console.log("index",a),i[a].visible=!0,a-1>=0&&(i[a-1].visible=!1),a++}).to({scaleX:1,scaleY:1},120).call(e,t)}},i.addClock=function(){var e=new egret.Sprite;e.name="clock";var t=this;t.addChild(e);var n=egretUntil.createBitmapByName("english15-4-zhonglou");e.addChild(n),e.x=232,e.y=23;var i=new egret.Sprite;e.addChild(i);var a=egretUntil.createBitmapByName("english15-4-fenzhen");operateUntil.restoreAnchorOffsetxy(a,a.width/20+2,a.height/2),i.addChild(a);var r=egretUntil.createBitmapByName("english15-4-shizhen");i.addChild(r),r.x=-3,operateUntil.restoreAnchorOffsetxy(r,r.width/2,r.height/20+3),r.rotation=-25;var s=egretUntil.createBitmapByName("english15-4-yuandian");i.addChild(s),i.x=114,i.y=126,e.trunClock=function(e,n){void 0===n&&(n=function(){}),playSoundEffect("english/englishclock/effect/english15-0-Biao.ogg",1,1),0==e?(egret.Tween.get(a).to({rotation:270},760).call(n,t),egret.Tween.get(r).to({rotation:0},760).call(function(){stopSoundEffectByUrl("english/englishclock/effect/english15-0-Biao.ogg")})):(egret.Tween.get(a).to({rotation:270},1e3).call(n,t),egret.Tween.get(r).to({rotation:r.rotation+30},1e3).call(function(){stopSoundEffectByUrl("english/englishclock/effect/english15-0-Biao.ogg")}))}},i.addDialogBox=function(){var e=new egret.Sprite;e.name="dialogbox",e.visible=!1;var t=this;t.addChild(e);var n=egretUntil.createBitmapByName("english15-4-qipao2");n.name="qipao2",e.addChild(n),n.y=115,e.x=446,e.y=24;var i=egretUntil.createBitmapByName("english15-4-qipao");e.addChild(i),i.name="qipao",i.x=94;for(var a=[],r=0;7>r;r++){var s=egretUntil.createBitmapByName("english15-4-z"+(r+6));s.x=i.x+(i.width-s.width)/2,s.y=i.y+(i.height-s.height)/2,s.visible=!1,operateUntil.restoreAnchorOffsetxy(s),e.addChild(s),a.push(s)}operateUntil.restoreAnchorOffsetxy(i),e.showDialog=function(t,r){void 0===r&&(r=function(){}),playSoundEffect("english/englishclock/effect/english15-0-BuGuNiao.ogg"),e.visible=!0,a[t].visible=!0,a[t].alpha=0,n.alpha=0,i.alpha=0,egret.Tween.get(n).to({alpha:1},500),egret.Tween.get(a[t]).wait(300).to({alpha:1},500),egret.Tween.get(i).wait(300).to({alpha:1},500).call(r,this)},e.tishiAni=function(){var e=-8;egret.Tween.get(a[t.numIndex-6]).to({rotation:e},80).to({rotation:-e},120).to({rotation:e},120).to({rotation:-e},120).to({rotation:0},80),egret.Tween.get(i).to({rotation:e},80).to({rotation:-e},120).to({rotation:e},120).to({rotation:-e},120).to({rotation:0},80)},e.hiddenDialog=function(t){a[t].visible=!1,e.visible=!1}},i.rightRes=function(e){var t=this;console.log("rightRes"),staticVarUntil.totalrighttimunum++,t.promise(function(e){t.getChildByName("coconut").rightCoconutAni(e)}).then(function(){return t.promise(function(e){t.getChildByName("frame").frameShake(e)})}).then(function(){e()})},i.wrongRes=function(e,t){var n=this,i=n.getChildByName("coconut").getChildAt(0);if(i.trytimes++,i.trytimes>2)i.trytimes=0,playSoundEffect("english/englishclock/english15-4-"+n.numIndex+".ogg"),n.pubsub.subscribe("english15-4-"+n.numIndex,function(i,r){n.pubsub.unsubscribe(a),n.pubsub.unsubscribe(t),e()});else{playSoundEffect("common/tryagain/tryagain.ogg");var a=n.pubsub.subscribe("tryagain",function(e,t){n.pubsub.unsubscribe(a),startAsr(n,egretUntil.asrmap.get(n.numIndex)),staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start(),egret.setTimeout(function(){},n,1e3,"egret")})}},i.handleAudio=function(e){var t=/(english15-4-\d{1,2})|tryagain/.exec(e);t&&this.pubsub.publish(t[0],""),e.indexOf("errnet")>=0&&(3==staticVarUntil.getasrerror?(overTimeAutoExit(),console.log("退出")):(startAsr(this,egretUntil.asrmap.get(this.numIndex)),staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start())),/wait10swarn|wait20swarn/.test(e)?(startAsr(this,egretUntil.asrmap.get(this.numIndex)),staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start()):e.indexOf("wait30swarn")>=0?(overTimeAutoExit(),console.log("退出")):e.indexOf("wrongeffect")>=0?this.pubsub.publish("answerwrong",""):e.indexOf("righteffect")>=0&&this.pubsub.publish("answerright","")},i.handleAsr=function(e){console.log(e,"data handleAsr");var t=this,n=[];n=n.concat(t.answerArr);var i=t.getChildByName("coconut").getChildAt(0),a=function(){for(;n.length;){var i=n.shift(),a=i.substr(0,i.indexOf(".")),r=i.substr(i.indexOf(".")+1,i.length);if(console.log(i,a,r,"while"),new RegExp(a).test(e)&&r==t.numIndex+"")return!0}return!1}();console.log(a,"flag"),a?(i.trytimes=0,console.log("answerright"),playSoundEffect("english/englishclock/effect/english15-0-righteffect.ogg")):(console.log("answerwrong"),t.getChildByName("dialogbox").tishiAni(),playSoundEffect("english/englishclock/effect/english15-0-wrongeffect.ogg"))},t}(englishfat);egret.registerClass(englishClockUnit4,"englishClockUnit4");var Graphics=egret.Graphics,unitclothes=function(e){function t(){e.call(this),this.clothesArr=[{name:"english16-1-coat",x:9,y:131,wordName:"english16-1-wordcoat"},{name:"english16-1-hat",x:168,y:149,wordName:"english16-1-wordhat"},{name:"english16-1-sweather",x:238,y:166,wordName:"english16-1-wordsweather"},{name:"english16-1-Tshit",x:400,y:172,wordName:"english16-1-wordTshit"},{name:"english16-1-shorts",x:537,y:172,wordName:"english16-1-wordshorts"},{name:"english16-1-skirt",x:665,y:166,wordName:"english16-1-wordskirt"},{name:"english16-1-shoes",x:745,y:151,wordName:"english16-1-wordshoes"},{name:"english16-1-jeans",x:835,y:139,wordName:"english16-1-wordjeans"}],this.clothesArrIndex=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_CLOCK_UNIT1,this);var e=egretUntil.createBitmapByName("english16-1-bg_png");this.addChild(e),this.addClothes(),this.addMask(),this.showWord(),this.animation()},i.addClothes=function(){for(var e=0;e<this.clothesArr.length;e++){var t=egretUntil.createBitmapByName(this.clothesArr[e].name);t.name=this.clothesArr[e].name,t.x=this.clothesArr[e].x,t.y=this.clothesArr[e].y,t.initX=t.x,t.initY=t.y,this.addChild(t),t.index=this.getChildIndex(t)}},i.addMask=function(){var e=new egret.Shape;e.alpha=0,e.name="shp",e.graphics.beginFill(0,.5),e.graphics.drawRect(0,0,egretUntil.getStageWidth(),egretUntil.getStageHeight()),e.graphics.endFill(),this.addChild(e)
},i.showWord=function(){var e=new egret.Sprite;e.name="showWord",this.addChild(e);var t=egretUntil.createBitmapByName("english16-1-bank");e.addChild(t),e.x=340,e.y=366,e.alpha=0;for(var n=0;n<this.clothesArr.length;n++){var i=egretUntil.createBitmapByName(this.clothesArr[n].wordName);i.name=this.clothesArr[n].wordName,i.x=(e.width-i.width)/2,i.y=(e.height-i.height)/2,i.visible=!1,e.addChild(i)}},i.animation=function(){for(var e=this,t=0;t<this.clothesArr.length;t++){var n=this.getChildByName(this.clothesArr[t].name);operateUntil.restoreAnchorOffsetxy(n,n.width/2,0),"english16-1-shoes"!=this.clothesArr[t].name&&egret.Tween.get(n,{loop:!0}).wait(80*t).to({rotation:7},400).to({rotation:0},400)}this.maskAni=function(){var e=this.getChildByName(this.clothesArr[this.clothesArrIndex].name);this.setChildIndex(e,this.numChildren),operateUntil.restoreAnchorOffsetxy(e);for(var t=0;t<this.clothesArr.length;t++){var n=this.getChildByName(this.clothesArr[t].name);egret.Tween.pauseTweens(n)}egret.Tween.get(e).to({x:egretUntil.getStageWidth()/2,y:(egretUntil.getStageHeight()-e.height)/2,scaleX:1.6,scaleY:1.6},720),egret.Tween.get(this.getChildByName("shp")).to({alpha:1},720).call(this.showWordAni,this)},this.showWordAni=function(){var t=this.getChildByName("showWord");t.getChildByName(this.clothesArr[this.clothesArrIndex].wordName).visible=!0,operateUntil.restoreAnchorOffsetxy(t),egret.Tween.get(t).to({alpha:1},400).call(animationUntil.effectJelly,this,[t,!1,0,2,function(){e.hideWord(),e.clothesRet(),console.log("clothesRet")}])},this.hideWord=function(){var t=this.getChildByName("showWord");egret.Tween.get(t).to({alpha:0},400).call(function(){t.getChildByName(e.clothesArr[e.clothesArrIndex].wordName).visible=!1})},this.clothesRet=function(){var t=this.getChildByName(e.clothesArr[e.clothesArrIndex].name);egret.Tween.get(t).to({x:t.initX+t.width/2,y:t.initY+t.height/2,scaleX:1,scaleY:1},720).call(operateUntil.restoreAnchorOffsetxy,e,[n,n.width/2,0])},this.maskAni.call(this)},t}(englishfat);egret.registerClass(unitclothes,"unitclothes");var englishGretting=function(e){function t(){e.call(this),this.goodMorning={txt:"good morning",size:45},this.goodAfternoon={txt:"good afternoon",size:43},this.goodEvening={txt:"good evening",size:43},this.goodNight={txt:"good night",size:43},this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_GRETTING_UNIT1,this),this.grettingSister(),this.greetingAfternoon(),this.greetingEvening(),this.greetingNight()},i.title=function(){playSoundEffect("english/englishgreeting/effect/english14-0-BGM.ogg",1,1),playSoundEffect("english/englishgreeting/effect/english14-0-title.ogg");var e=egretUntil.createBitmapByName("biaoti");e.name="biaoti",this.addChild(e),e.x=(egretUntil.getStageWidth()-e.width)/2,e.y=(egretUntil.getStageHeight()-e.height)/2+40,e.alpha=0,egret.Tween.get(e).wait(500).to({y:e.y-50,alpha:1},200).to({y:(egretUntil.getStageHeight()-e.height)/2},160).call(function(){playSoundEffect("english/englishgreeting/unit1/greetings.ogg"),egret.Tween.get(e,{loop:!0}).to({y:e.y+10},800).to({y:e.y-10},800).to({y:e.y},800)})},i.grettingSister=function(){function e(n,i){if(y.runtimes<2){playSoundEffect("english/englishgreeting/effect/english14-0-clock.ogg"),egret.Tween.get(i).to({y:y.y-20},120).to({rotation:6},80);var r=egret.setTimeout(function(){egret.Tween.get(i,{loop:!0}).to({rotation:-6},80).to({rotation:6},80)},n,200,"egret"),s=egret.setTimeout(function(){egret.Tween.removeTweens(y),egret.Tween.get(i).to({rotation:0},80).to({y:y.y+20},120).call(function(){1==y.runtimes&&t()},a).call(e,n,[n,i])},a,1e3,n);y.runtimes++,mathfat.setTimerArr(r),mathfat.setTimerArr(s)}}function t(){egret.Tween.get(m).to({rotation:4},480),egret.Tween.get(p).to({rotation:-19},480),egret.Tween.get(c).to({y:c.y-60},480).wait(100).call(n,a),f.visible=!1,w.visible=!0}function n(){b.visible=!0,b.alpha=0,b.x-=50,egret.Tween.get(b).to({x:91,alpha:1},400).wait(100).call(function(){playSoundEffect("english/englishgreeting/unit1/goodmorningmommy.ogg")}).call(i.globalDialogBox,i,[a,{x:180,y:260},158,35,0]),egret.Tween.get(T).to({},400).to({rotation:-10},200).to({rotation:0},200).to({rotation:-10},200).to({rotation:0},200).to({rotation:10},200).to({rotation:0},200)}var i=this,a=new egret.Sprite;a.name="morning",this.addChild(a);var r=egretUntil.createBitmapByName("grettingbg_png");a.addChild(r);var s=egretUntil.createBitmapByName("lantian");a.addChild(s);var o=new egret.Sprite;a.addChild(o),o.x=10,o.y=300;var h=egretUntil.createBitmapByName("sun2");h.name="sun2",o.addChild(h);var g=egretUntil.createBitmapByName("sun1");g.name="sun1",g.x=(h.width-g.width)/2,g.y=(h.height-g.height)/2,operateUntil.restoreAnchorOffsetxy(h),o.addChild(g);var l=i.createMask(o.x,0,o.width,300);a.addChild(l),o.mask=l;var d=egretUntil.createBitmapByName("chuang");a.addChild(d);var c=new egret.Sprite;a.addChild(c);var u=egretUntil.createBitmapByName("meishen");u.name="sisshen",c.x=499,c.y=220;var m=egretUntil.createBitmapByName("meiyou");m.name="sisleft",m.y=114,m.rotation=-29,operateUntil.restoreAnchorOffsetxy(m,81-m.x,153-m.y);var p=egretUntil.createBitmapByName("meizuo");p.name="sisright",p.x=155,p.y=76,p.rotation=20,operateUntil.restoreAnchorOffsetxy(p,u.width-72-p.x,132-p.y),c.addChild(p),c.addChild(m),c.addChild(u);var f=egretUntil.createBitmapByName("biyan");f.x=70,f.y=90,c.addChild(f);var w=egretUntil.createBitmapByName("yanjing");w.x=f.x+(f.width-w.width)/2,w.y=f.y+(f.height-w.height)/2,w.visible=!1,c.addChild(w);var v=egretUntil.createBitmapByName("beizi");v.name="sisbeizi",v.x=521,v.y=330,a.addChild(v);var y=egretUntil.createBitmapByName("grettingclock");y.x=759,y.y=243,y.runtimes=0,operateUntil.restoreAnchorOffsetxy(y),a.addChild(y);var b=new egret.Sprite;a.addChild(b);var _=egretUntil.createBitmapByName("mashe");b.addChild(_),b.x=91,b.y=149;var T=egretUntil.createBitmapByName("magebe");b.addChild(T),T.x=135,T.y=110,T.rotation=20,operateUntil.restoreAnchorOffsetxy(T,7,80),b.visible=!1,a.animationFun=function(){egret.Tween.get(o).to({y:50},1e3);var t=egret.setTimeout(function(){e(a,y),egret.Tween.get(h,{loop:!0}).to({rotation:360},8e3)},a,1e3,"egret");mathfat.setTimerArr(t)}},i.greetingAfternoon=function(){function e(){operateUntil.restoreAnchorOffsetxy(b,44,74),egret.Tween.get(v).to({},560).to({alpha:1,x:v.x-140},560),egret.Tween.get(b).to({},1200).to({rotation:-10},200).to({rotation:0},200).to({rotation:-10},200).to({rotation:0},200).to({rotation:10},200).to({rotation:0},200).call(function(){playSoundEffect("english/englishgreeting/unit1/goodafternoonbrother.ogg")}).call(t.globalDialogBox,t,[n,{x:650,y:300},332,90,180,1,-1,t.goodAfternoon])}var t=this,n=new egret.Sprite;n.name="afternoon",n.visible=!1,this.addChild(n);var i=new egret.Sprite;n.addChild(i);var a=egretUntil.createBitmapByName("lajinbj");i.addChild(a);var r=egretUntil.createBitmapByName("shizhe");i.addChild(r),r.x=609,r.y=222,operateUntil.restoreAnchorOffsetxy(r,.08*r.width,.15*r.height),r.rotation=-178;var s=egretUntil.createBitmapByName("fenzhen");i.addChild(s),s.x=606,s.y=151,operateUntil.restoreAnchorOffsetxy(s,s.width/2,.9*s.height),s.rotation=-67,n.trunSpine=function(){egret.Tween.get(s).to({rotation:0},2240,egret.Ease.sineOut),egret.Tween.get(r).to({rotation:0},750).to({rotation:360},1490,egret.Ease.sineOut).call(function(){playSoundEffect("english/englishgreeting/effect/english14-0-ring.ogg")})},n.changeScence=function(){i.visible=!1,o.visible=!0};var o=new egret.Sprite;o.visible=!1,n.addChild(o);var h=egretUntil.createBitmapByName("4dianbj");o.addChild(h);var g=egretUntil.createBitmapByName("sisbag");g.x=112,g.y=324,o.addChild(g);var l=new egret.Sprite;o.addChild(l);var d=egretUntil.createBitmapByName("meimeiyinying");l.addChild(d);var c=egretUntil.createBitmapByName("meimeishenti");l.addChild(c),l.x=151,l.y=208,d.x=43,d.y=272;var u=egretUntil.createBitmapByName("meimieyanjing");l.addChild(u),u.x=67,u.y=75;var m=egretUntil.createBitmapByName("meimeizuotui");l.addChild(m),m.x=33,m.y=217;var p=new egret.Sprite;o.addChild(p);var f=egretUntil.createBitmapByName("qiu");p.x=210,p.y=422;var w=egretUntil.createBitmapByName("qiutouying");w.x=9,w.y=62,p.addChild(w),p.addChild(f);var v=new egret.Sprite;v.alpha=0,o.addChild(v);var y=egretUntil.createBitmapByName("gege");v.addChild(y),v.x=743,v.y=179;var b=egretUntil.createBitmapByName("gegeshou");v.addChild(b),b.x=-22,b.y=115,n.sisPlayBall=function(){operateUntil.restoreAnchorOffsetxy(m,42,11),egret.Tween.get(m).to({rotation:32},360).to({rotation:-10},360).to({rotation:0},280).call(function(){playSoundEffect("english/englishgreeting/effect/english14-0-kickball.ogg")}),operateUntil.restoreAnchorOffsetxy(f),egret.Tween.get(f).to({},680).to({rotation:360},1320,egret.Ease.sineOut).call(e),egret.Tween.get(p).wait(680).to({x:p.x+280},1320,egret.Ease.sineOut)}},i.greetingEvening=function(){function e(){egret.Tween.get(w).to({x:w.x-140,alpha:1},560).call(t)}function t(){p.visible=!1,f.visible=!0,playSoundEffect("english/englishgreeting/unit1/goodeveninggrandma.ogg"),n.globalDialogBox(i,{x:480,y:240},68,34,180,1,-1,n.goodEvening)}var n=this,i=new egret.Sprite;i.name="evening",this.addChild(i),i.visible=!1;var a=egretUntil.createBitmapByName("BG_A");i.addChild(a);var r=egretUntil.createBitmapByName("BG_B");i.addChild(r);var s=egretUntil.createBitmapByName("lantian3");i.addChild(s),s.x=700,s.alpha=0;var o=new egret.Sprite;i.addChild(o),o.x=780,o.y=19;var h=egretUntil.createBitmapByName("sun2");o.addChild(h);var g=egretUntil.createBitmapByName("sun1");g.x=31,g.y=15,o.addChild(g);var l=n.createMask(o.x,0,o.width,280);i.addChild(l),o.mask=l;var d=egretUntil.createBitmapByName("yueliang");i.addChild(d),d.x=813,d.y=238,d.visible=!1;var c=egretUntil.createBitmapByName("chuanghu");c.x=664,i.addChild(c);var u=new egret.Sprite;i.addChild(u);var m=egretUntil.createBitmapByName("nianai");u.addChild(m),u.x=407,u.y=108;var p=egretUntil.createBitmapByName("nainaiyanjing");p.x=39,p.y=90,u.addChild(p);var f=egretUntil.createBitmapByName("nainaixiaoyan");f.x=38,f.y=96,f.visible=!1,u.addChild(f);var w=egretUntil.createBitmapByName("meimei2");i.addChild(w),w.x=775,w.y=225,w.alpha=0,i.animationFun=function(){operateUntil.restoreAnchorOffsetxy(h),egret.Tween.get(h).to({rotation:360},5e3),egret.Tween.get(o).wait(1e3).to({y:o.y+230},560).to({visible:!1}),egret.Tween.get(s).wait(1e3).to({alpha:1},560),egret.Tween.get(d).wait(1600).call(function(){playSoundEffect("english/englishgreeting/effect/english14-0-sunmoonchange.ogg"),d.mask=l},n).to({visible:!0}).to({y:d.y-190},520).call(e)}},i.greetingNight=function(){var e=this,t=new egret.Sprite;t.name="night",t.visible=!1,e.addChild(t);var n=egretUntil.createBitmapByName("grettingbg_png");t.addChild(n);var i=egretUntil.createBitmapByName("lantian3");t.addChild(i);var a=egretUntil.createBitmapByName("yueliang");t.addChild(a),a.x=57,a.y=25;var r=egretUntil.createBitmapByName("chuang");t.addChild(r);var s=new egret.Sprite;s.name="nightsis";var o=egretUntil.createBitmapByName("meimei");s.addChild(o),s.x=505,s.y=207,t.addChild(s);var h=egretUntil.createBitmapByName("yanjing");h.name="nightsiseye",h.x=70,h.y=76,s.addChild(h);var g=egretUntil.createBitmapByName("biyan");g.name="nightsiscloseeye",g.x=70,g.y=84,s.addChild(g),g.visible=!1;var l=egretUntil.createBitmapByName("beizi");l.x=521,l.y=330,t.addChild(l);var d=egretUntil.createBitmapByName("grettingclock");d.x=759,d.y=243,t.addChild(d);var c=egretUntil.createBitmapByName("baba");c.name="father",t.addChild(c),c.x=70,c.y=90,t.startFun=function(){playSoundEffect("english/englishgreeting/unit1/goodnightdaddy.ogg"),playSoundEffect("english/englishgreeting/effect/english14-0-ququjiao.ogg"),e.globalDialogBox(t,{x:150,y:220},161,23,0,1,1,e.goodNight,function(){},"nightfather")},t.endFun=function(n){void 0===n&&(n=function(){}),h.visible=!1,g.visible=!0,egret.Tween.get(t.getChildByName("nightfather")).to({alpha:0},480).to({visible:!1}),egret.Tween.get(t.getChildByName("nightsister")).to({alpha:0},480).to({visible:!1}),egret.Tween.get(m).to({alpha:0},640).to({visible:!1}).call(n,e),playSoundEffect("english/englishgreeting/effect/english14-0-lightoff.ogg"),egret.Tween.get(c).to({x:c.x-50,alpha:0},480).to({visible:!1})};var u=new egret.Shape;t.addChild(u),u.graphics.beginFill(15485,.25),u.graphics.drawRect(0,0,egretUntil.getStageWidth(),egretUntil.getStageHeight()),u.graphics.endFill();var m=egretUntil.createBitmapByName("deng");m.name="lighting",t.addChild(m)},i.createMask=function(e,t,n,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),void 0===i&&(i=0);var a=new egret.Shape;return a.graphics.beginFill(0),a.graphics.drawRect(e,t,n,i),a.graphics.endFill(),a},i.globalDialogBox=function(e,t,n,i,a,r,s,o,h,g){void 0===a&&(a=0),void 0===r&&(r=1),void 0===s&&(s=1),void 0===o&&(o=this.goodMorning),void 0===h&&(h=function(){}),void 0===g&&(g="");var l=new egret.Sprite;l.name=g,e.addChild(l);var d=egretUntil.createBitmapByName("duihua");l.addChild(d);var c=new egret.TextField;return l.addChild(c),c.text=o.txt,c.fontFamily="微软雅黑",c.textColor=1337010,c.size=o.size,c.x=(l.width-c.width)/2,c.y=(l.height-c.height)/2,l.scaleX=l.scaleY=0,l.x=n,l.y=i,operateUntil.restoreAnchorOffsetxy(d),d.rotation=a,d.scaleX=r,d.scaleY=s,l.width=d.width,l.height=d.height,operateUntil.restoreAnchorOffsetxy(l,t.x-n,t.y-i),egret.Tween.get(l).to({scaleX:1.05,scaleY:1.05},520).to({scaleX:.96,scaleY:.96},200).to({scaleX:1.02,scaleY:1.02},200).to({scaleX:1,scaleY:1},200).call(h,this),l},i.changeScence=function(e,t,n){var i=this.getChildByName(e),a=this.getChildByName(t);egret.Tween.get(a).wait(2e3).call(function(){console.log("changeScence complete"),a.visible=!0,a.alpha=1,i.visible=!1}).call(a[n],this)},i.handleAudio=function(e){if(e.indexOf("greetings")>=0){var t=this.getChildByName("biaoti");egret.Tween.get(t).to({y:t.y-10,alpha:0},240).to({visible:!1}).call(this.getChildByName("morning").animationFun)}else e.indexOf("goodmorningmommy")>=0?(playSoundEffect("english/englishgreeting/unit1/goodmorningsister.ogg"),this.globalDialogBox(this.getChildByName("morning"),{x:580,y:273},223,309,180,1,1,this.goodMorning,function(){this.changeScence("morning","afternoon","trunSpine")},"")):e.indexOf("goodafternoonbrother")>=0?(playSoundEffect("english/englishgreeting/unit1/goodafternoonsister.ogg"),this.globalDialogBox(this.getChildByName("afternoon"),{x:250,y:320},231,325,0,1,-1,this.goodAfternoon,function(){this.changeScence("afternoon","evening","animationFun")})):e.indexOf("goodeveninggrandma")>=0?(playSoundEffect("english/englishgreeting/unit1/goodeveningsister.ogg"),this.globalDialogBox(this.getChildByName("evening"),{x:680,y:320},354,340,0,-1,-1,this.goodEvening,function(){this.changeScence("evening","night","startFun")})):e.indexOf("goodnightdaddy")>=0?(playSoundEffect("english/englishgreeting/unit1/goodnightsister.ogg"),this.globalDialogBox(this.getChildByName("night"),{x:610,y:330},262,345,0,-1,-1,this.goodNight,function(){this.getChildByName("night").endFun(function(){viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())})},"nightsister")):e.indexOf("english14-0-ring.ogg")>=0&&(this.getChildByName("afternoon").changeScence(),this.getChildByName("afternoon").sisPlayBall())},t}(englishfat);egret.registerClass(englishGretting,"englishGretting");var guessPhoto=function(e){function t(){e.call(this),this.photoFarmArr=[{farmName:"greeting2_json.kuang",photoName:"greeting2_json.kuang1",word:"Good evening."},{farmName:"greeting2_json.kuang",photoName:"greeting2_json.kuang2",word:"Good afternoon."},{farmName:"greeting2_json.kuang",photoName:"greeting2_json.kuang3",word:"Good night."},{farmName:"greeting2_json.kuang",photoName:"greeting2_json.kuang4",word:"Good morning."}],this.initXY=[{x:246,y:54},{x:600,y:54},{x:246,y:286},{x:600,y:286}],this.initWordArr=[{name:"Good morning.",ogg:"english14-2-11.ogg",promptOgg:"english14-2-7.ogg"},{name:"Good afternoon.",ogg:"english14-2-12.ogg",promptOgg:"english14-2-8.ogg"},{name:"Good evening.",ogg:"english14-2-13.ogg",promptOgg:"english14-2-9.ogg"},{name:"Good night.",ogg:"english14-2-14.ogg",promptOgg:"english14-2-10.ogg"}],this.initWordIndex=0,this.isAnswerPlayTitle=!1,this.faguang=null,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_GREETING_UNIT2,this);var e=egretUntil.createBitmapByName("dierguanye_png");this.addChild(e),this.addWord(),this.addPhotoFram(),this.addGrandpaMouth(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.touchTap,this),this.touchEnabled=!1},i.title=function(){playSoundEffect("english/englishgreeting/effect/english14-0-BGM.ogg",1,1),playSoundEffect("english/englishgreeting/effect/english14-0-title.ogg");var e=egretUntil.createBitmapByName("caizhaopian");e.name="caizhaopian",this.addChild(e),e.x=(egretUntil.getStageWidth()-e.width)/2,e.y=(egretUntil.getStageHeight()-e.height)/2,e.alpha=0,egret.Tween.get(e).to({y:e.y+50,alpha:1},200).to({y:e.y-10},160).call(function(){playSoundEffect("english/englishgreeting/unit2/english14-2-1.ogg"),egret.Tween.get(e,{loop:!0}).to({y:e.y+10},800).to({y:e.y-10},800).to({y:e.y},800)})},i.addPhotoFram=function(){this.initXY=egretUntil.getArrayItems(this.initXY,this.initXY.length);for(var e in this.photoFarmArr)!function(e,t){var n=t.photoFarmArr[e],i=new egret.Sprite;i.name=n.photoName.replace("greeting2_json.",""),t.addChild(i);var a=egretUntil.createBitmapByName("faguang");a.visible=!1,a.name="faguang"+i.name;var r=egretUntil.createBitmapByName(n.farmName);i.addChild(a),i.addChild(r),i.width=r.width,i.height=r.height,operateUntil.restoreAnchorOffsetxy(r);var s=egretUntil.createBitmapByName(n.photoName);i.addChild(s),operateUntil.restoreAnchorOffsetxy(s),i.x=t.initXY[e].x,i.y=t.initXY[e].y,a.x=(i.width-a.width)/2,a.y=(i.height-a.height)/2,i.photoVisble=!1,i.trunComplete=!1,i.startAnimFun=function(n){void 0===n&&(n=function(){}),i.photoVisble=!1,egret.Tween.get(r).wait(100*parseInt(e)).to({scaleX:0},500,egret.Ease.sineInOut).to({scaleX:-1},500,egret.Ease.sineInOut),egret.Tween.get(s).wait(100*parseInt(e)).to({scaleX:0},500,egret.Ease.sineInOut).to({visible:!1}).to({scaleX:-1},500,egret.Ease.sineInOut).call(function(){i.trunComplete=!0}).call(n,t)},i.endAnimFun=function(e,n){void 0===e&&(e=function(){}),i.photoVisble=!0,egret.Tween.get(r).wait(100*parseInt(n)).to({scaleX:0},500,egret.Ease.sineInOut).to({scaleX:1},500,egret.Ease.sineInOut),egret.Tween.get(s).wait(100*parseInt(n)).to({scaleX:0},500,egret.Ease.sineInOut).to({visible:!0}).to({scaleX:1},500,egret.Ease.sineInOut).call(function(){i.trunComplete=!0}).call(e,t,[n])},i.trunCompleteFun=function(){for(var e=0;e<t.photoFarmArr.length;e++){var n=t.getChildByName(t.photoFarmArr[e].photoName.replace("greeting2_json.",""));if(!n.trunComplete)return!1}return!0},i.initTrunStatus=function(){for(var e=0;e<t.photoFarmArr.length;e++){var n=t.getChildByName(t.photoFarmArr[e].photoName.replace("greeting2_json.",""));n.trunComplete=!1}console.log("init trunComplete")},i.restorXY=function(){t.initXY=egretUntil.getArrayItems(t.initXY,t.initXY.length);for(var e=0;e<t.photoFarmArr.length;e++){var n=t.getChildByName(t.photoFarmArr[e].photoName.replace("greeting2_json.",""));n.x=t.initXY[e].x,n.y=t.initXY[e].y,t.getChildByName(t.initWordArr[t.initWordIndex].name).visible=!1}}}(e,this)},i.addWord=function(){this.initWordArr=egretUntil.getArrayItems(this.initWordArr,this.initWordArr.length);for(var e=0;e<this.initWordArr.length;e++){var t=new egret.TextField;t.name=this.initWordArr[e].name,this.addChild(t),t.text=this.initWordArr[e].name,t.textColor=483976,t.fontFamily="微软雅黑",t.y=128,t.x=(240-t.width)/2,t.visible=!1,t.times=0}},i.everyTimesInit=function(){for(var e=0;e<this.photoFarmArr.length;e++){var t=this.getChildByName(this.photoFarmArr[e].photoName.replace("greeting2_json.",""));t.photoVisble&&(t.photoVisble=!1,t.startAnimFun(function(){if(t.trunCompleteFun()){t.initTrunStatus();var e=egret.setTimeout(function(){if(t.restorXY(),this.initWordIndex++,this.initWordIndex<this.initWordArr.length)for(var e=0;e<this.photoFarmArr.length;e++)this.getChildByName(this.photoFarmArr[e].photoName.replace("greeting2_json.","")).endAnimFun(function(){t.trunCompleteFun()&&(this.getChildByName("mouth").startAnimation(),t.initTrunStatus())});else viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())},this,1e3,"egret");mathfat.setTimerArr(e)}}))}},i.addGrandpaMouth=function(){var e=new egret.Sprite;e.name="mouth";var t=this;t.addChild(e);var n=egretUntil.createBitmapByName("yezui1");e.addChild(n),n.x=8,operateUntil.restoreAnchorOffsetxy(n),n.visible=!1;var i=egretUntil.createBitmapByName("yezui2");e.addChild(i),i.visible=!0,operateUntil.restoreAnchorOffsetxy(i);var a=[n,n,i,i];e.x=113,e.y=363,e.animationFun=function(){a=egretUntil.getArrayItems(a,a.length);var t=0;egret.Tween.get(e,{loop:!0}).call(function(){t<a.length?(a[t].visible=!0,a[t].scaleY=a[t].scaleX=t/2==0?1:.5):(egret.Tween.removeTweens(e),e.animationFun())}).wait(180).call(function(){a[t].visible=!1,a[t].scaleY=a[t].scaleX=1,t++})},e.stopAnimation=function(){egret.Tween.pauseTweens(e)},e.startAnimation=function(){i.visible=!1,playSoundEffect("english/englishgreeting/unit2/"+t.initWordArr[t.initWordIndex].ogg),t.getChildByName(t.initWordArr[t.initWordIndex].name).visible=!0,e.animationFun()}},i.addStar=function(e){var t=egretUntil.createBitmapByName("xing");e.addChild(t),t.x=(e.width-t.width)/2,t.y=(e.height-t.height)/2,operateUntil.restoreAnchorOffsetxy(t),t.scaleX=t.scaleY=0,egret.Tween.get(t).to({scaleX:1,scaleY:1},500).to({visible:!1})},i.touchTap=function(e){if(this.getChildByName("caizhaopian").visible)return stopSoundEffect(),getaudio("english/englishgreeting/unit2/english14-2-2.ogg"),this.touchEnabled=!1,void console.log("close touch",this.touchEnabled,egret.getTimer());for(var t=0;t<this.photoFarmArr.length;t++){var n=this.getChildByName(this.photoFarmArr[t].photoName.replace("greeting2_json.",""));if(operateUntil.isTouchObj(e,n)&&!n.photoVisble)return console.log("come in",t,this.touchEnabled,egret.getTimer()),this.touchEnabled=!1,viewManager.getInstance().timeruntil.asrtimer.reset(),void(this.photoFarmArr[t].word==this.initWordArr[this.initWordIndex].name?(playSoundEffect("english/englishgreeting/effect/english14-0-truncard.ogg"),n.endAnimFun(function(){this.getChildByName("mouth").startAnimation(),this.isAnswerPlayTitle=!0,this.addStar(n)}),staticVarUntil.totalrighttimunum++):n.endAnimFun(function(){playSoundEffect("english/englishgreeting/effect/english14-0-wrongeffect.ogg"),this.getChildByName(this.initWordArr[this.initWordIndex].name).times++,playSoundEffect("english/englishgreeting/unit2/english14-2-"+(this.getChildByName(this.initWordArr[this.initWordIndex].name).times+3)+".ogg")}))}},i.handleAudio=function(e){if(e.indexOf("english14-2-2.ogg")>=0){this.touchEnabled=!1;var t=this.getChildByName("caizhaopian");egret.Tween.get(t).to({y:t.y-10,alpha:0},240).to({visible:!1}).call(function(){this.getChildByName("mouth").startAnimation()},this)}else if(e.indexOf("english14-2-1.ogg")>=0)this.touchEnabled=!0,console.log("open touch"),playSoundEffect("english/englishgreeting/unit2/english14-2-2.ogg");else if(e.indexOf("english/englishgreeting/unit2/"+this.initWordArr[this.initWordIndex].ogg)>=0)if(this.getChildByName("mouth").stopAnimation(),this.isAnswerPlayTitle){this.isAnswerPlayTitle=!1;var n=egret.setTimeout(this.everyTimesInit,this,1e3,"egret");mathfat.setTimerArr(n)}else{var i=egret.setTimeout(function(){for(var e=0;e<this.photoFarmArr.length;e++){var t=this.getChildByName(this.photoFarmArr[e].photoName.replace("greeting2_json.",""));t.startAnimFun(function(){t.trunCompleteFun()&&(console.log("come in trunCompleteFun"),0==this.initWordIndex?playSoundEffect("english/englishgreeting/unit2/english14-2-3.ogg"):(this.touchEnabled=!0,console.log("ttt open touch",egret.getTimer())),staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start())})}},this,2e3,"egret");mathfat.setTimerArr(i)}else if(e.indexOf("english/englishgreeting/unit2/english14-2-3")>=0)this.touchEnabled=!0,console.log("english14-2-3 open touch",egret.getTimer()),staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start();else if(e.indexOf("english/englishgreeting/unit2/english14-2-"+(this.getChildByName(this.initWordArr[this.initWordIndex].name).times+3))>=0)if(3==this.getChildByName(this.initWordArr[this.initWordIndex].name).times){this.getChildByName(this.initWordArr[this.initWordIndex].name).times=0;for(var a=0;a<this.photoFarmArr.length;a++)!function(e,t){e.photoFarmArr[t].word==e.initWordArr[e.initWordIndex].name&&e.getChildByName(e.photoFarmArr[t].photoName.replace("greeting2_json.","")).endAnimFun(function(){e.faguang=e.getChildByName(e.photoFarmArr[t].photoName.replace("greeting2_json.","")).getChildByName("faguang"+e.photoFarmArr[t].photoName.replace("greeting2_json.","")),e.faguang.visible=!0,e.faguang.alpha=0,egret.Tween.get(e.faguang).to({alpha:1},300).to({alpha:0},300).to({alpha:1},300).to({alpha:0},300),playSoundEffect("english/englishgreeting/unit2/"+e.initWordArr[e.initWordIndex].promptOgg)},t)}(this,a)}else console.log("error"),this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start();else if(e.indexOf("english/englishgreeting/unit2/"+this.initWordArr[this.initWordIndex].promptOgg)>=0)if(this.initWordIndex<this.initWordArr.length){this.faguang.visible=!1;var n=egret.setTimeout(this.everyTimesInit,this,1e3,"egret");mathfat.setTimerArr(n)}else console.log("结束");else/wait10swarn|wait20swarn/.test(e)?(this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start()):e.indexOf("wait30swarn")>=0&&overTimeAutoExit()},t}(englishfat);egret.registerClass(guessPhoto,"guessPhoto");var challengeGreeting=function(e){function t(){e.call(this),this.scenceArr=[{scencebg:"bggoodmooning",girlFamilyDialogBox:{scaleX:1,scaleY:1,x:349,y:21,txt:"good morning",size:45,localPointX:300,localPointY:200},girlPro:{x:780,y:220,scaleX:-1,moveX:50},girlDialogBox:{scaleX:-1,scaleY:-1,x:464,y:357,txt:"good morning",size:45},ogg:{right:"english14-3-12.ogg",promptOgg:"english14-3-6.ogg"},sign:"good morning"},{scencebg:"goodafternoon",girlFamilyDialogBox:{scaleX:-1,scaleY:1,x:360,y:55,txt:"good afternoon",size:43,localPointX:690,localPointY:170},girlPro:{x:145,y:190,scaleX:1,moveX:-50},girlDialogBox:{scaleX:1,scaleY:-1,x:260,y:360,txt:"good afternoon",size:43},ogg:{right:"english14-3-13.ogg",promptOgg:"english14-3-7.ogg"},sign:"good afternoon"},{scencebg:"bjgoodevening",girlFamilyDialogBox:{scaleX:-1,scaleY:1,x:80,y:87,txt:"good evening",size:43,localPointX:441,localPointY:244},girlPro:{x:600,y:225,scaleX:-1,moveX:50},girlDialogBox:{scaleX:1,scaleY:1,x:550,y:110,txt:"good evening",size:43},ogg:{right:"english14-3-14.ogg",promptOgg:"english14-3-8.ogg"},sign:"good evening"},{scencebg:"bgngoodnight",girlFamilyDialogBox:{scaleX:-1,scaleY:-1,x:254,y:280,txt:"good night",size:43,localPointX:600,localPointY:244},girlPro:{x:40,y:200,scaleX:1,moveX:-50},girlDialogBox:{scaleX:1,scaleY:1,x:120,y:40,txt:"good night",size:43},ogg:{right:"english14-3-15.ogg",promptOgg:"english14-3-9.ogg"},sign:"good night"}],this.scenceArrIndex=0,this.testArr=[this.scenceArr[this.scenceArrIndex].sign,"",this.scenceArr[this.scenceArrIndex].sign,""],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_GREETING_UNIT3,this),this.addScence(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this)},i.addTitle=function(){playSoundEffect("english/englishgreeting/effect/english14-0-BGM.ogg",1,1),playSoundEffect("english/englishgreeting/effect/english14-0-title.ogg");var e=egretUntil.createBitmapByName("wenhou");e.name="wenhou",this.addChild(e),e.x=(egretUntil.getStageWidth()-e.width)/2,e.y=(egretUntil.getStageHeight()-e.height)/2-50,e.alpha=0,egret.Tween.get(e).to({y:e.y+50,alpha:1},800).to({y:e.y-10},160).call(function(){playSoundEffect("english/englishgreeting/unit3/english14-3-1.ogg"),egret.Tween.get(e,{loop:!0}).to({y:e.y+10},800).to({y:e.y-10},800).to({y:e.y},800)})},i.addScence=function(){this.scenceArr=egretUntil.getArrayItems(this.scenceArr,this.scenceArr.length);for(var e=0;e<this.scenceArr.length;e++)!function(e,t){var n=e.scenceArr[t],i=new egret.Sprite;i.visible=!1,i.alpha=0,e.addChild(i),i.name=n.scencebg,i.times=0;var a=egretUntil.createBitmapByName(n.scencebg);if(i.addChild(a),"goodafternoon"==n.scencebg){var r=egretUntil.createBitmapByName("brotherbag_png");r.x=688,r.y=382,i.addChild(r)}i.girlFamilyDialogBoxAnima=function(a){void 0===a&&(a=function(){}),e.globalDialogBox(i,n.girlFamilyDialogBox,{x:n.girlFamilyDialogBox.localPointX,y:n.girlFamilyDialogBox.localPointY},a,e.scenceArr[t].scencebg)};var s;i.addGirl=function(a){void 0===a&&(a=function(){}),s=e.addGirl(i,n.girlPro,function(){e.globalDialogBox(i,n.girlDialogBox,{x:s.girl.x,y:s.girl.y-s.girl.height/4},a,e.scenceArr[t].scencebg+"girl")})},i.addBBT=function(t){e.addBangbangSugar(i,s.girl,s.girlArm,t)},i.hiddenDiagAni=function(n){void 0===n&&(n=function(){});var a=i.getChildByName(e.scenceArr[t].scencebg),r=i.getChildByName(e.scenceArr[t].scencebg+"girl");egret.Tween.get(a).to({alpha:0},300).call(function(){a.visible=!1,n()}),egret.Tween.get(r).to({alpha:0},300).call(function(){r.visible=!1})}}(this,e);var t=this.getChildByName(this.scenceArr[this.scenceArrIndex].scencebg);t.visible=!0,t.alpha=1},i.globalDialogBox=function(e,t,n,i,a){void 0===i&&(i=function(){}),void 0===a&&(a="");var r=new egret.Sprite;r.name=a,e.addChild(r);var s=egretUntil.createBitmapByName("duihua");r.addChild(s);var o=new egret.TextField;return r.addChild(o),o.text=t.txt,o.fontFamily="微软雅黑",o.textColor=1337010,o.size=t.size,o.x=(r.width-o.width)/2,o.y=(r.height-o.height)/2,r.scaleX=r.scaleY=0,r.x=t.x,r.y=t.y,operateUntil.restoreAnchorOffsetxy(s),s.scaleX=t.scaleX,s.scaleY=t.scaleY,console.log(n.x,n.y),r.width=s.width,r.height=s.height,operateUntil.restoreAnchorOffsetxy(r,n.x-t.x,n.y-t.y),egret.Tween.get(r).to({scaleX:1.05,scaleY:1.05},520).to({scaleX:.96,scaleY:.96},200).to({scaleX:1.02,scaleY:1.02},200).to({scaleX:1,scaleY:1},200).call(i,this),r},i.addGirl=function(e,t,n){var i=new egret.Sprite;e.addChild(i),i.x=t.x+t.moveX,i.y=t.y;var a=egretUntil.createBitmapByName("greetingchallenge_json.meimei1");i.addChild(a);var r=egretUntil.createBitmapByName("greetingchallenge_json.meimeigebo");return i.addChild(r),r.x=39,r.y=133,operateUntil.restoreAnchorOffsetxy(i),i.scaleX=t.scaleX,i.alpha=1,egret.Tween.get(i).to({x:i.x-t.moveX,alpha:1},500).call(n,e),{girl:i,girlArm:r,parentObj:e}},i.handleAsr=function(e){var t=this.getChildByName(this.scenceArr[this.scenceArrIndex].scencebg),n=this;e.indexOf(this.scenceArr[this.scenceArrIndex].sign)>=0?(staticVarUntil.totalrighttimunum++,playSoundEffect("english/englishgreeting/unit3/"+this.scenceArr[this.scenceArrIndex].ogg.right),t.girlFamilyDialogBoxAnima(function(){t.hiddenDiagAni(function(){t.addBBT(n.changeScence)})}),console.log("right")):(t.times++,playSoundEffect(t.times<3?"english/englishgreeting/unit3/tryagain.ogg":"english/englishgreeting/unit3/"+this.scenceArr[this.scenceArrIndex].ogg.promptOgg))},i.addBangbangSugar=function(e,t,n,i){void 0===i&&(i=function(){});var a=egretUntil.createBitmapByName("bbt");return e.addChild(a),a.x=(egretUntil.getStageWidth()-a.width)/2,a.y=(egretUntil.getStageHeight()-a.height)/2,a.alpha=1,operateUntil.restoreAnchorOffsetxy(a),a.scaleX=a.scaleY=0,playSoundEffect("english/englishgreeting/effect/english14-0-showbbt.ogg"),egret.Tween.get(a).to({scaleX:1.05,scaleY:1.05},320).to({scaleX:1,scaleY:1},200).wait(500).call(function(){playSoundEffect("english/englishgreeting/effect/english14-0-bbtfly.ogg")
}).to({rotation:30*t.scaleX,scaleX:.25,scaleY:.25,x:t.x,y:t.y+n.height/2},500).call(function(){t.addChild(a),t.swapChildren(a,n),a.rotation=30,a.x=85,a.y=190}).call(i,this),a},i.changeScence=function(){if(this.scenceArrIndex++,this.scenceArrIndex<this.scenceArr.length){var e=this.getChildByName(this.scenceArr[this.scenceArrIndex].scencebg);e.alpha=1;var t=this.getChildByName(this.scenceArr[this.scenceArrIndex-1].scencebg);egret.Tween.get(e).wait(1e3).call(function(){e.visible=!0,e.addGirl(function(){t.visible=!1,startAsr(this,egretUntil.asrmap.get(this.scenceArr[this.scenceArrIndex].sign))})},this)}else viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())},i.handleAudio=function(e){if(e.indexOf("english/englishgreeting/unit3/english14-3-1.ogg")>0){this.touchEnabled=!0;var t=this.getChildByName("wenhou");egret.Tween.removeTweens(t),egret.Tween.get(t).to({y:t.y-10,alpha:0},240).to({visible:!1}).call(function(){playSoundEffect("english/englishgreeting/unit3/english14-3-2.ogg")},this)}else if(e.indexOf("english/englishgreeting/unit3/english14-3-2.ogg")>=0){this.touchEnabled=!1;var n=this.getChildByName(this.scenceArr[this.scenceArrIndex].scencebg);n.addGirl(function(){startAsr(this,egretUntil.asrmap.get(this.scenceArr[this.scenceArrIndex].sign))})}else e.indexOf("tryagain.ogg")>=0?startAsr(this,egretUntil.asrmap.get(this.scenceArr[this.scenceArrIndex].sign)):e.indexOf("english/englishgreeting/unit3/"+this.scenceArr[this.scenceArrIndex].ogg.promptOgg)>=0&&this.changeScence()},t}(englishfat);egret.registerClass(challengeGreeting,"challengeGreeting");var enumUnit11to5=function(e){function t(){e.call(this),this.cloudAndSunArr=[{name:"cloud1",x:140,y:112},{name:"cloud2",x:364,y:34},{name:"cloud3",x:654,y:117},{name:"sun-1",x:775,y:43},{name:"sun-2",x:748,y:27}],this.startFiveTree=[{treeName:"appletree",treex:29,treey:219},{treeName:"mangotree",treex:220,treey:232},{treeName:"lemontree",treex:397,treey:230},{treeName:"bananatree",treex:573,treey:231},{treeName:"orangetree",treex:759,treey:230}],this.wordAndFruitTree=[{treeName:"appletree1",treex:341,treey:46,fruit:[{fruitName:"apple",fruitx:443,fruity:122,movestartx:-15,movestarty:-15,moveendx:-15,moveendy:15,fruitSign:"apple1",scalex:1}],wordName:"cardone",wordx:61,wordy:68},{treeName:"mangotree1",treex:347,treey:66,fruit:[{fruitName:"mango",fruitx:399,fruity:107,movestartx:-15,movestarty:-15,moveendx:-15,moveendy:15,fruitSign:"mango1",scalex:1},{fruitName:"mango",fruitx:484,fruity:154,movestartx:15,movestarty:-15,moveendx:15,moveendy:15,fruitSign:"mango2",scalex:1}],wordName:"cardtwo",wordx:61,wordy:68},{treeName:"lemontree1",treex:338,treey:60,fruit:[{fruitName:"lemon",fruitx:441,fruity:88,movestartx:-15,movestarty:-15,moveendx:-15,moveendy:15,fruitSign:"lemon1",scalex:1},{fruitName:"lemon",fruitx:373,fruity:184,movestartx:-15,movestarty:-15,moveendx:-15,moveendy:15,fruitSign:"lemon2",scalex:1},{fruitName:"lemon",fruitx:521,fruity:177,movestartx:15,movestarty:-15,moveendx:15,moveendy:15,fruitSign:"lemon3",scalex:1}],wordName:"cardthree",wordx:61,wordy:68},{treeName:"bananatree1",treex:322,treey:68,fruit:[{fruitName:"banana",fruitx:366,fruity:110,movestartx:-15,movestarty:-15,moveendx:-15,moveendy:15,fruitSign:"banana1",scalex:1},{fruitName:"banana",fruitx:365,fruity:174,movestartx:15,movestarty:-15,moveendx:15,moveendy:15,fruitSign:"banana3",scalex:1},{fruitName:"banana",fruitx:446,fruity:110,movestartx:-15,movestarty:-15,moveendx:-15,moveendy:15,fruitSign:"banana2",scalex:-1},{fruitName:"banana",fruitx:457,fruity:157,movestartx:15,movestarty:-15,moveendx:15,moveendy:15,fruitSign:"banana4",scalex:-1}],wordName:"cardfour",wordx:61,wordy:68},{treeName:"orangetree1",treex:341,treey:71,fruit:[{fruitName:"orange",fruitx:459,fruity:174,movestartx:-15,movestarty:-15,moveendx:-15,moveendy:15,fruitSign:"orange3",scalex:1},{fruitName:"orange",fruitx:371,fruity:230,movestartx:-15,movestarty:-15,moveendx:-15,moveendy:15,fruitSign:"orange2",scalex:1},{fruitName:"orange",fruitx:388,fruity:121,movestartx:-15,movestarty:-15,moveendx:-15,moveendy:15,fruitSign:"orange1",scalex:1},{fruitName:"orange",fruitx:526,fruity:131,movestartx:15,movestarty:-15,moveendx:15,moveendy:15,fruitSign:"orange4",scalex:1},{fruitName:"orange",fruitx:534,fruity:235,movestartx:15,movestarty:15,moveendx:15,moveendy:15,fruitSign:"orange5",scalex:1}],wordName:"cardfive",wordx:61,wordy:68}],this.wordAndFTObjArr=[],this.wordAndFTindex=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_NUM_UNIT_1TO5,this),this.bg=egretUntil.createBitmapByName("bj_png"),this.addChild(this.bg),this.bg1=egretUntil.createBitmapByName("bj1_png"),this.addChild(this.bg1),this.bg1.x=960,this.cloudAndSun(),this.addStartFT(),this.addWordAndFT()},i.addTitle=function(){this.title=egretUntil.createBitmapByName("title"),this.addChild(this.title),this.title.x=(egretUntil.getStageWidth()-this.title.width)/2,this.title.y=102,this.title.alpha=0,playSoundEffect("english/englishnum1to5/unit1/BGM.ogg",1,1),egret.Tween.get(this.title).call(function(){playSoundEffect("english/englishnum1to5/unit1/title.ogg")},this).to({alpha:1,y:72},600).call(function(){playSoundEffect("english/englishnum1to5/Numbers.ogg")},this)},i.cloudAndSun=function(){for(var e=0;e<this.cloudAndSunArr.length;e++){var t=egretUntil.createBitmapByName(this.cloudAndSunArr[e].name);t.x=this.cloudAndSunArr[e].x,t.y=this.cloudAndSunArr[e].y,t.name=this.cloudAndSunArr[e].name,this.addChild(t)}operateUntil.restoreAnchorOffsetxy(this.getChildByName("sun-2")),egret.Tween.get(this.getChildByName("sun-2"),{loop:!0}).to({rotation:360},2e4)},i.addStartFT=function(){for(var e=0;e<this.startFiveTree.length;e++){var t=egretUntil.createBitmapByName(this.startFiveTree[e].treeName);t.x=this.startFiveTree[e].treex,t.y=this.startFiveTree[e].treey,t.name=this.startFiveTree[e].treeName,this.addChild(t)}},i.addWordAndFT=function(){for(var e=0;e<this.wordAndFruitTree.length;e++){var t=this.wordAndFruitTree[e],n=new egret.Sprite;this.addChild(n);var i=egretUntil.createBitmapByName(t.treeName);n.addChild(i),n.name=t.treeName.replace("tree1",""),n.x=t.treex,n.y=t.treey,n.frArr=[],n.frIndex=0;for(var a=0;a<t.fruit.length;a++){var r=egretUntil.createBitmapByName(t.fruit[a].fruitName);n.addChild(r),r.x=t.fruit[a].fruitx-n.x,r.y=t.fruit[a].fruity-n.y,operateUntil.restoreAnchorOffsetxy(r),r.scaleX=t.fruit[a].scalex,r.movex=(egretUntil.getStageWidth()-t.fruit.length*r.width)/2-t.fruit[a].fruitx+r.width*a,r.fruitSign=t.fruit[a].fruitSign,r.droped=!1,n.frArr.push(r)}var s=egretUntil.createBitmapByName(t.wordName);n.addChild(s),s.name="card"+e,s.visible=!1,s.x=t.wordx-n.x,s.y=t.wordy-n.y,n.x+=960,this.wordAndFTObjArr.push(n)}},i.firstTreeMove=function(){egret.Tween.get(this.getChildByName("appletree")).wait(1e3).call(function(){playSoundEffect("english/englishnum1to5/unit1/changetree.ogg")},this).to({x:341,y:46,scaleX:1.64,scaleY:1.64},800,egret.Ease.sineInOut).call(function(){this.getChildByName("appletree").visible=!1,this.wordAndFTObjArr[this.wordAndFTindex].visible=!0,this.wordAndFTObjArr[this.wordAndFTindex].x-=960,this.wordAndFTObjArr[this.wordAndFTindex].getChildByName("card0").visible=!0,playSoundEffect("english/englishnum1to5/Thereapple.ogg")},this);for(var e=1;e<this.startFiveTree.length;e++)egret.Tween.get(this.getChildByName(this.startFiveTree[e].treeName)).wait(1e3).to({x:this.startFiveTree[e].treex+200,alpha:0},400).to({visible:!1})},i.behindTreeMove=function(){for(var e=0;e<this.wordAndFTObjArr.length;e++){var t=this.wordAndFTObjArr[this.wordAndFTindex];t.x<960&&egret.Tween.get(t).to({x:t.x-960},900).to({visible:!1})}this.wordAndFTindex++,this.wordAndFTindex<this.wordAndFTObjArr.length&&(egret.Tween.get(this.wordAndFTObjArr[this.wordAndFTindex]).to({visible:!0}).to({x:this.wordAndFTObjArr[this.wordAndFTindex].x-960},900).call(function(){this.wordAndFTObjArr[this.wordAndFTindex].getChildByName("card"+this.wordAndFTindex).visible=!0,playSoundEffect("english/englishnum1to5/There"+this.wordAndFTObjArr[this.wordAndFTindex].name+".ogg")},this),playSoundEffect("english/englishnum1to5/unit1/treetexie.ogg"),egret.Tween.get(this.bg).to({x:this.bg.x-960},900).wait(200).call(function(){this.bg.x<0&&(this.bg.x=960)},this),egret.Tween.get(this.bg1).to({x:this.bg1.x-960},900).wait(200).call(function(){this.bg1.x<0&&(this.bg1.x=960)},this))},i.friuteDrop=function(){var e=this.wordAndFTObjArr[this.wordAndFTindex],t=-50;if(e.frIndex<e.frArr.length){egret.Tween.get(e.frArr[e.frIndex]).to({y:420},240);var n=egret.setTimeout(function(){playSoundEffect("english/englishnum1to5/unit1/dropOut.ogg"),egret.Tween.get(e.frArr[e.frIndex]).to({x:e.frArr[e.frIndex].x+e.frArr[e.frIndex].movex,y:e.frArr[e.frIndex].y+t},160).to({x:e.frArr[e.frIndex].x+e.frArr[e.frIndex].movex,y:e.frArr[e.frIndex].y},160).call(function(){var t=e.frIndex+1==e.frArr.length?"num"+(e.frIndex+1):e.frIndex+1;console.log(t),playSoundEffect("english/englishnum1to5/"+t+".ogg"),e.frIndex++},this)},this,250,"egret");mathfat.setTimerArr(n)}else if(this.wordAndFTindex<this.wordAndFTObjArr.length-1){var i=egret.setTimeout(this.behindTreeMove,this,1500,"egret");mathfat.setTimerArr(i)}else viewManager.getInstance().nextjumpbutton.visible=!1,viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())},i.handleAudio=function(e){e.indexOf("Thereapple")>=0||e.indexOf("There"+this.wordAndFTObjArr[this.wordAndFTindex].name)>=0?this.friuteDrop():e.indexOf("autumnwecountfruit")>=0?this.firstTreeMove():e.indexOf("Numbers")>=0?egret.Tween.get(this.title).to({alpha:0,y:42},600).call(function(){playSoundEffect("english/englishnum1to5/autumnwecountfruit.ogg")},this):(e.indexOf("english/englishnum1to5/num"+this.wordAndFTObjArr[this.wordAndFTindex].frIndex)>=0||e.indexOf("english/englishnum1to5/"+this.wordAndFTObjArr[this.wordAndFTindex].frIndex)>=0)&&this.friuteDrop()},t}(englishfat);egret.registerClass(enumUnit11to5,"enumUnit11to5");var fruitBasket=function(e){function t(){e.call(this),this._distance=new egret.Point,this._touchStatus=!1,this.cloudAndSunArr=[{name:"fruitbasket_json.sun-1",x:775,y:43},{name:"fruitbasket_json.sun-2",x:748,y:27}],this.fruitArr=[{fruitName:"fiveapple",grassName:"biggrass",grassx:344,grassy:276},{fruitName:"fourapple",grassName:"biggrass",grassx:639,grassy:276},{fruitName:"threeapple",grassName:"biggrass",grassx:238,grassy:433},{fruitName:"twoapple",grassName:"biggrass",grassx:492,grassy:433},{fruitName:"oneapple",grassName:"biggrass",grassx:731,grassy:433}],this.peopleAndWord=[{peopleName:"father",peoplex:146,peopley:141,shrinkfruitName:"shrinkthreea",title:"cardthree",introTitle:"card3"},{peopleName:"mother",peoplex:142,peopley:172,shrinkfruitName:"shrinkfivea",title:"cardfive",introTitle:"card5"},{peopleName:"grandpa",peoplex:146,peopley:174,shrinkfruitName:"shrinktwoa",title:"cardtwo",introTitle:"card2"},{peopleName:"brother",peoplex:141,peopley:194,shrinkfruitName:"shrinkfoura",title:"cardfour",introTitle:"card4"},{peopleName:"sister",peoplex:110,peopley:207,shrinkfruitName:"shrinkonea",title:"cardone",introTitle:"card1"}],this.peopleAndWordIndex=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_NUM_UNIT2_1TO5,this);var e=egretUntil.createBitmapByName("bg1to5unit2_png");this.addChild(e),this.cloudAndSun(),this.addPeople(),this.addFruit(),this.addShrinkFruit(),this.addJianTou(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.dragBeginFruit,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.dragEndFruit,this)},i.cloudAndSun=function(){for(var e=0;e<this.cloudAndSunArr.length;e++){var t=egretUntil.createBitmapByName(this.cloudAndSunArr[e].name);t.x=this.cloudAndSunArr[e].x,t.y=this.cloudAndSunArr[e].y,t.name=this.cloudAndSunArr[e].name.replace("fruitbasket_json.",""),this.addChild(t)}operateUntil.restoreAnchorOffsetxy(this.getChildByName("sun-2")),egret.Tween.get(this.getChildByName("sun-2"),{loop:!0}).to({rotation:360},2e4)},i.addTitle=function(){var e=egretUntil.createBitmapByName("boardtitle");e.x=81,e.y=-e.height,e.name="boardtitle",this.addChild(e),playSoundEffect("english/englishnum1to5/unit2/whofriutbasket.ogg"),egret.Tween.get(e).to({y:0},600,egret.Ease.sineOut)},i.addFruit=function(){for(var e=0;e<this.fruitArr.length;e++){var t=egretUntil.createBitmapByName(this.fruitArr[e].grassName);this.addChild(t),t.x=this.fruitArr[e].grassx,t.y=this.fruitArr[e].grassy;var n=egretUntil.createBitmapByName(this.fruitArr[e].fruitName);this.addChild(n),n.x=this.fruitArr[e].grassx+36,n.y=this.fruitArr[e].grassy-93,n.name=this.fruitArr[e].fruitName,n.oldindex=this.getChildIndex(n),n.oldx=this.fruitArr[e].grassx+36,n.oldy=this.fruitArr[e].grassy-93,n.oldw=n.width,n.oldh=n.height;var i=egretUntil.createBitmapByName("smallgrass");i.name="smallgrass"+e,this.addChild(i),i.x=this.fruitArr[e].grassx+63,i.y=this.fruitArr[e].grassy+36}},i.addShrinkFruit=function(){var e=egretUntil.createBitmapByName("shrinkbigg");e.name="shrinkbigg",this.addChild(e),e.x=21,e.y=467;for(var t=0;t<this.peopleAndWord.length;t++){var n=egretUntil.createBitmapByName(this.peopleAndWord[t].shrinkfruitName);this.addChild(n),n.visible=!1,n.name=this.peopleAndWord[t].shrinkfruitName,n.x=e.x+30,n.y=e.y-76}var i=egretUntil.createBitmapByName("shrinksmallg");i.name="shrinksmallg",this.addChild(i),i.x=e.x+50,i.y=e.y+30},i.dragBeginFruit=function(e){if(!this.hasEventListener(egret.TouchEvent.TOUCH_TAP)){var t=e.stageX,n=e.stageY;for(var i in this.fruitArr){var a=this.fruitArr[i],r=this.getChildByName(a.fruitName);t>r.x&&t<r.x+r.width&&n>r.y&&n<r.y+r.height&&(this._touchStatus=!0,operateUntil.restoreAnchorOffsetxy(r),r.scaleX=r.scaleY=1.05,r.width*=r.scaleX*r.scaleY,r.height*=r.scaleX*r.scaleY,this.setChildIndex(r,this.numChildren),this._distance.x=t-r.x,this._distance.y=n-r.y,this._distance.name=a.fruitName,console.log("取消定时器"),egret.Tween.removeTweens(this.getChildByName("jiantou")),this.getChildByName("jiantou").visible=!1,viewManager.getInstance().timeruntil.asrtimer.reset(),staticVarUntil.timercurrentcount=0,playSoundEffect("english/englishnum1to5/unit2/beforedrageffect.ogg"),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.dragMoveFruit,this))}}},i.dragMoveFruit=function(e){this._touchStatus&&(this.getChildByName(this._distance.name).x=e.stageX-this._distance.x,this.getChildByName(this._distance.name).y=e.stageY-this._distance.y)},i.dragEndFruit=function(){if(!this.hasEventListener(egret.TouchEvent.TOUCH_TAP)){var e=!1;if(this._touchStatus){this._touchStatus=!1;var t=this.getChildByName(this._distance.name);if(this.touchEnabled=!1,operateUntil.cancelAnchorOffsetxy(t),this.isFit(t,this.getChildByName("shrinkbigg"))){if(e=!0,this._distance.name.indexOf(this.peopleAndWord[this.peopleAndWordIndex].title.replace("card",""))>=0){playSoundEffect("english/englishnum1to5/unit2/righteffect.ogg"),this.getChildByName(this._distance.name).visible=!1;var n=this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].shrinkfruitName);return operateUntil.restoreAnchorOffsetxy(n),n.visible=!0,this.swapChildren(n,this.getChildByName("shrinksmallg")),staticVarUntil.totalrighttimunum++,egret.Tween.get(n).to({scaleX:1.2,scaleY:1.2},500).to({scaleX:1,scaleY:1},500).call(this.swapChildren,this,[n,this.getChildByName("shrinksmallg")]),void this.setChildIndex(t,t.oldindex)}this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].peopleName).trywrong++,playSoundEffect("english/englishnum1to5/unit2/wrongeffect.ogg")}t.width=t.oldw,t.height=t.oldh,t.scaleX=t.scaleY=1,console.log(t.height,t.oldh),egret.Tween.get(this.getChildByName(this._distance.name)).to({x:t.oldx,y:t.oldy},500).call(function(){this.setChildIndex(t,t.oldindex),e||(this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start(),saveLog("dragRightP",viewManager.getInstance().timeruntil.asrtimer.running))},this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.dragMoveFruit,this)}else viewManager.getInstance().timeruntil.asrtimer.start(),saveLog("dragEndFruit",viewManager.getInstance().timeruntil.asrtimer.running)}},i.addPeople=function(){this.peopleAndWord=egretUntil.getArrayItems(this.peopleAndWord,this.peopleAndWord.length);for(var e=0;e<this.peopleAndWord.length;e++){var t=this.peopleAndWord[e],n=egretUntil.createBitmapByName(t.peopleName);this.addChild(n),n.name=t.peopleName,n.x=t.peoplex,n.y=t.peopley,n.visible=!1,n.trywrong=0;var i=egretUntil.createBitmapByName(t.title);this.addChild(i),i.visible=!1,i.name=t.title,i.x=705,i.y=28}},i.isFit=function(e,t){return e.x<t.x&&e.x+e.width<t.x+.4*t.width?!1:e.x>t.x+.4*t.width?!1:e.y<t.y&&e.y+e.height<t.y+.4*t.height?!1:e.y>t.y+.4*t.height?!1:!0},i.hiddenWordAndPeople=function(){var e=this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].shrinkfruitName);egret.Tween.get(e).to({x:e.x-20,alpha:0},480).to({visible:!1});var t=this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].peopleName);egret.Tween.get(t).to({x:t.x-20,alpha:0},480).to({visible:!1});var n=this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].title);egret.Tween.get(n).to({y:n.y-10,alpha:0},480).to({visible:!1})},i.showWordAndPeople=function(){egret.Tween.get(this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].peopleName)).wait(1700).call(function(){playSoundEffect(0==this.peopleAndWordIndex?"english/englishnum1to5/unit2/changepeople.ogg":"english/englishnum1to5/unit2/firstpeoplegoout.ogg")},this).to({visible:!0,alpha:0,x:this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].peopleName).x-20}).to({x:this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].peopleName).x,alpha:1},480).call(function(){this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this),this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].title).visible=!0},this)},i.addJianTou=function(){var e=egretUntil.createBitmapByName("jiantou_png");e.name="jiantou",e.alpha=0,e.running=!1,this.addChild(e),e.x=86,e.y=299},i.wrongOrRightInit=function(){viewManager.getInstance().timeruntil.asrtimer.reset(),staticVarUntil.timercurrentcount=0,this.peopleAndWordIndex<this.peopleAndWord.length-1&&this.hiddenWordAndPeople(),this.peopleAndWordIndex++,this.peopleAndWordIndex<this.peopleAndWord.length?this.showWordAndPeople():viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())},i.handleAudio=function(e){if(e.indexOf("whofriutbasket")>=0)playSoundEffect("english/englishnum1to5/unit2/happyfamilyfriutpick.ogg");else if(e.indexOf("happyfamilyfriutpick")>=0)this.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this),egret.Tween.get(this.getChildByName("boardtitle")).wait(1e3).to({y:-this.getChildByName("boardtitle").height},600).call(function(){this.touchEnabled=!0},this),this.showWordAndPeople();else if(e.indexOf("english/englishnum1to5/unit2/Ihave"+this.peopleAndWord[this.peopleAndWordIndex].title.replace("card","")+"apples")>=0)0==this.peopleAndWordIndex?playSoundEffect("english/englishnum1to5/unit2/pleasefindrightbasketdrag.ogg"):(saveLog("english/englishnum1to5/unit2/Ihave",viewManager.getInstance().timeruntil.asrtimer.running),viewManager.getInstance().timeruntil.asrtimer.start(),this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer());else if(e.indexOf("english/englishnum1to5/num"+this.peopleAndWord[this.peopleAndWordIndex].introTitle.replace("card",""))>=0)this.wrongOrRightInit();else if(/wrong[1,2]\d{0}|pleasefindrightbasketdrag/.test(e))saveLog("wrong|pleasefindrightbasketdrag",viewManager.getInstance().timeruntil.asrtimer.running),this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start();else if(e.indexOf("wrong3prompt"+this.peopleAndWord[this.peopleAndWordIndex].peopleName+"apples")>=0){var t=this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].title.replace("card","")+"apple");this.setChildIndex(t,this.numChildren),operateUntil.restoreAnchorOffsetxy(t),egret.Tween.get(t).to({scaleX:1.2,scaleY:1.2},500).to({scaleX:1,scaleY:1},500).to({scaleX:1.2,scaleY:1.2},500).to({scaleX:1,scaleY:1},500).to({scaleX:1.2,scaleY:1.2},500).to({scaleX:1,scaleY:1},500).wait(500).call(function(){this.setChildIndex(t,t.oldindex)},this).call(operateUntil.cancelAnchorOffsetxy,this,[t]).call(this.wrongOrRightInit,this)}else/wait[1,2]\d{0}0swarn|friendfindfruitbasket/.test(e)?(saveLog("wait|friendfindfruitbasket",viewManager.getInstance().timeruntil.asrtimer.running),this.touchEnabled=!0,staticVarUntil.timerstart=egret.getTimer(),viewManager.getInstance().timeruntil.asrtimer.start()):/wait30swarn/.test(e)?overTimeAutoExit():/righteffect/.test(e)?playSoundEffect("english/englishnum1to5/num"+this.peopleAndWord[this.peopleAndWordIndex].introTitle.replace("card","")+".ogg"):e.indexOf("english/englishnum1to5/unit2/wrongeffect")>=0?playSoundEffect("english/englishnum1to5/unit2/wrong"+this.getChildByName(this.peopleAndWord[this.peopleAndWordIndex].peopleName).trywrong+function(e,t){return t.getChildByName(e.peopleName).trywrong>2?"prompt"+e.peopleName+"apples":""}(this.peopleAndWord[this.peopleAndWordIndex],this)+".ogg"):/changepeople|firstpeoplegoout/.test(e)&&(0!=this.peopleAndWordIndex||this.getChildByName("jiantou").running||0!=this.getChildByName(this.peopleAndWord[0].peopleName).trywrong||(this.getChildByName("jiantou").running=!0,egret.Tween.get(this.getChildByName("jiantou"),{loop:!0}).to({y:this.getChildByName("jiantou").y+30,alpha:1},300).to({y:this.getChildByName("jiantou").y},400).to({y:this.getChildByName("jiantou").y-30,alpha:0},300).call(function(){},this)),playSoundEffect("english/englishnum1to5/unit2/Ihave"+this.peopleAndWord[this.peopleAndWordIndex].title.replace("card","")+"apples.ogg"))},t}(englishfat);egret.registerClass(fruitBasket,"fruitBasket");var happyBirthParty=function(e){function t(){e.call(this),this.recognitionRes=["one","two","three","",""],this.balloonArr=[{candleName:"1candle",candleX:455,candleY:209,blowCandleName:"1candle1",balloonName:"bule1balloon",balloonX:655,balloonY:147},{candleName:"2candle",candleX:420,candleY:211,blowCandleName:"2candle1",balloonName:"purpleballoon",balloonX:824,balloonY:33},{candleName:"3candle",candleX:408,candleY:209,blowCandleName:"3candle1",balloonName:"buleballoon",balloonX:96,balloonY:131},{candleName:"4candle",candleX:400,candleY:212,blowCandleName:"4candle1",balloonName:"yellowballoon",balloonX:21,balloonY:26},{candleName:"5candle",candleX:389,candleY:210,blowCandleName:"5candle1",balloonName:"redballoon",balloonX:169,balloonY:76}],this.peopleAndCandleArr=[{peopleNormalName:"1yearsold",peopleKissName:"1yearsold1",peopleCryName:"1yearsold2",peopleX:384,peopleY:55,rightSign:"one"},{peopleNormalName:"2yearsold",peopleKissName:"2yearsold1",peopleCryName:"2yearsold2",peopleX:378,peopleY:51,rightSign:"two"},{peopleNormalName:"3yearsold",peopleKissName:"3yearsold1",peopleCryName:"3yearsold2",peopleX:380,peopleY:31,rightSign:"three"},{peopleNormalName:"4yearsold",peopleKissName:"4yearsold1",peopleCryName:"4yearsold2",peopleX:387,peopleY:32,rightSign:"four"},{peopleNormalName:"5yearsold",peopleKissName:"5yearsold1",peopleCryName:"5yearsold2",peopleX:362,peopleY:29,rightSign:"five"}],this.peopleAndCandleArrIndex=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addStage=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addStage,this),this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.ENGLISH_NUM_UNIT3_1TO5,this);var e=egretUntil.createBitmapByName("birthbj_png");this.addChild(e),this.peopleAndCandle(),this.addCakeAndBalloon(),this.addEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this)},i.addTitle=function(){var e=new egret.Sprite;e.name="sp",this.addChild(e),e.alpha=0;var t=egretUntil.createBitmapByName("leftwing");e.addChild(t),t.name="leftwing",t.x=56,t.y=138,operateUntil.restoreAnchorOffsetxy(t,.9*t.width,.8*t.height);var n=egret.setTimeout(function(){egret.Tween.get(t,{loop:!0}).to({rotation:15},400).to({rotation:0},400)},this,1050,"egret");mathfat.setTimerArr(n);var i=egretUntil.createBitmapByName("rightwing");e.addChild(i),i.name="rightwing",i.x=752,i.y=138,operateUntil.restoreAnchorOffsetxy(i,.1*i.width,.8*i.height);var a=egret.setTimeout(function(){egret.Tween.get(i,{loop:!0}).to({rotation:-15},400).to({rotation:0},400)},this,1050,"egret");mathfat.setTimerArr(a);var r=egretUntil.createBitmapByName("happybirthdayparty_json.title");e.addChild(r),r.name="title",r.x=138,r.y=219,egret.Tween.get(e).to({y:e.y-60,alpha:1},1e3),playSoundEffect("english/englishnum1to5/unit3/moviestarteffect.ogg",1,1);var s=egret.setTimeout(function(){egret.Tween.get(e,{loop:!0}).to({y:e.y+10},800).to({y:e.y-10},800).to({y:e.y},800),playSoundEffect("english/englishnum1to5/unit3/birthdayparty.ogg")},this,1050,"egret");mathfat.setTimerArr(s)},i.addCakeAndBalloon=function(){var e=egretUntil.createBitmapByName("cakeandgift");this.addChild(e),e.name="cakeandgift",e.x=20,e.y=175;for(var t in this.balloonArr){var n=this.balloonArr[t],i=egretUntil.createBitmapByName(n.candleName);this.addChild(i),i.visible=!1,i.name=n.candleName,i.x=n.candleX,i.y=n.candleY;var a=egretUntil.createBitmapByName(n.blowCandleName);this.addChild(a),a.visible=!1,a.name=n.blowCandleName,a.x=n.candleX,a.y=n.candleY;var r=egretUntil.createBitmapByName(n.balloonName);this.addChild(r),r.name=n.balloonName,r.x=n.balloonX,r.y=n.balloonY,operateUntil.restoreAnchorOffsetxy(r,r.width/2,r.height),egret.Tween.get(r,{loop:!0}).to({rotation:3*(parseInt(t)%2==0?1:-1)},3e3).to({rotation:0},3e3)}},i.init=function(){var e=this.getChildByName(this.peopleAndCandleArr[this.peopleAndCandleArrIndex].peopleNormalName.replace("yearsold","candle")),t=this.getChildByName(this.peopleAndCandleArr[this.peopleAndCandleArrIndex].peopleNormalName);t.visible=!0,egret.Tween.get(t).to({scaleX:1.06,scaleY:1.06},360).to({scaleX:1,scaleY:1},80),egret.Tween.get(e).wait(450).to({visible:!0}).call(function(){playSoundEffect("english/englishnum1to5/unit3/plantcandleeffect.ogg")}).to({y:e.y-10,alpha:0}).to({y:e.y,alpha:1},440).call(function(){playSoundEffect("english/englishnum1to5/unit3/friendguessage.ogg")})},i.hiddenPeopleAndCandle=function(){for(var e in this.peopleAndCandleArr)this.getChildByName(this.peopleAndCandleArr[e].peopleNormalName).visible=!1,this.getChildByName(this.peopleAndCandleArr[e].peopleKissName).visible=!1,this.getChildByName(this.peopleAndCandleArr[e].peopleCryName).visible=!1,this.getChildByName(this.peopleAndCandleArr[e].peopleNormalName.replace("yearsold","candle")).visible=!1,this.getChildByName(this.peopleAndCandleArr[e].peopleNormalName.replace("yearsold","candle1")).visible=!1},i.peopleAndCandle=function(){this.peopleAndCandleArr=egretUntil.getArrayItems(this.peopleAndCandleArr,this.peopleAndCandleArr.length);for(var e in this.peopleAndCandleArr){var t=this.peopleAndCandleArr[e],n=egretUntil.createBitmapByName(t.peopleNormalName);this.addChild(n),n.x=t.peopleX,n.y=t.peopleY,n.name=t.peopleNormalName,n.visible=!1,n.scaleX=.5,n.scaleY=.5,n.wrongtry=0;var i=egretUntil.createBitmapByName(t.peopleKissName);i.name=t.peopleKissName,this.addChild(i),i.x=t.peopleX,i.y=t.peopleY,i.visible=!1;var a=egretUntil.createBitmapByName(t.peopleCryName);a.name=t.peopleCryName,a.x=t.peopleX+(n.width-a.width)/2,a.y=t.peopleY,this.addChild(a),a.visible=!1,operateUntil.restoreAnchorOffsetxy(n,470-n.x,310-n.y),operateUntil.restoreAnchorOffsetxy(i,470-i.x,310-i.y),operateUntil.restoreAnchorOffsetxy(a,470-a.x,310-a.y)}},i.handleGet=function(e){var t=this.peopleAndCandleArr[this.peopleAndCandleArrIndex];e.indexOf(this.peopleAndCandleArr[this.peopleAndCandleArrIndex].rightSign)>=0?(this.asrChangePeople(t.peopleNormalName,t.peopleKissName),staticVarUntil.totalrighttimunum++,egret.Tween.get(this.getChildByName(t.peopleNormalName.replace("yearsold","candle"))).wait(520).to({alpha:0},400).call(function(){playSoundEffect("english/englishnum1to5/unit3/blowcandleeffect.ogg")},this),egret.Tween.get(this.getChildByName(t.peopleNormalName.replace("yearsold","candle1"))).wait(520).to({visible:!0})):(this.getChildByName(t.peopleNormalName).wrongtry++,this.getChildByName(t.peopleNormalName).wrongtry<3?playSoundEffect("english/englishnum1to5/unit3/tryagain.ogg"):(playSoundEffect("english/englishnum1to5/unit3/"+(/3|4|5/.test(t.peopleNormalName)?"bigboycry":"smallboycry")+".ogg"),this.asrChangePeople(t.peopleNormalName,t.peopleCryName)))},i.asrChangePeople=function(e,t){egret.Tween.get(this.getChildByName(e)).to({scaleX:.98,scaleY:.95},200).to({scaleX:1.03,scaleY:1.03},200).to({visible:!1}),egret.Tween.get(this.getChildByName(t)).wait(400).to({visible:!0}).to({scaleX:1.03,scaleY:1.03},120).to({scaleX:1,scaleY:1},120)},i.handleWrongOrRight=function(e,t){if(this.peopleAndCandleArrIndex<this.peopleAndCandleArr.length-1){var n=this.peopleAndCandleArr[this.peopleAndCandleArrIndex];egret.Tween.get(this.getChildByName(n[t])).to({scaleX:1.03,scaleY:1.03},240).to({scaleX:0,scaleY:0},240),egret.Tween.get(this.getChildByName(n[e].replace("yearsold","candle1"))).wait(120).to({y:this.getChildByName(n.peopleNormalName.replace("yearsold","candle1")).y-10,alpha:0},360).call(function(){this.hiddenPeopleAndCandle(),this.peopleAndCandleArrIndex++,this.init()},this)}else viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())},i.handleAudio=function(e){if(e.indexOf("birthdayparty")>=0)this.touchEnabled=!0,playSoundEffect("english/englishnum1to5/unit3/introducetitle.ogg");else if(e.indexOf("introducetitle")>=0){this.touchEnabled=!1,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,touchJumpStartOgg,this);var t=this.getChildByName("sp");egret.Tween.removeTweens(t),egret.Tween.get(t).to({y:t.y-10,alpha:0},800).to({visible:!1}).call(function(){egret.Tween.removeTweens(t.getChildByName("leftwing")),egret.Tween.removeTweens(t.getChildByName("rightwing")),stopSoundEffectByUrl("english/englishnum1to5/unit3/moviestarteffect.ogg")},this).call(this.init,this)}else/friendguessage|tryagain|wait10swarn|friendguessold/.test(e)?startAsr(this,this.peopleAndCandleArr[this.peopleAndCandleArrIndex].rightSign):e.indexOf("happybirthdayrighteffect")>=0?this.handleWrongOrRight("peopleNormalName","peopleKissName"):e.indexOf("bigboycry")>=0||e.indexOf("smallboycry")>=0?playSoundEffect("english/englishnum1to5/unit3/heis"+this.peopleAndCandleArr[this.peopleAndCandleArrIndex].rightSign+"yearsold.ogg"):e.indexOf("heis"+this.peopleAndCandleArr[this.peopleAndCandleArrIndex].rightSign+"yearsold.ogg")>=0?this.handleWrongOrRight("peopleNormalName","peopleCryName"):e.indexOf("sosorryhappybirthdaynext")>=0?overTimeAutoExit():e.indexOf("errnet")>=0?3==staticVarUntil.getasrerror?(overTimeAutoExit(),console.log("退出")):startAsr(this,this.peopleAndCandleArr[this.peopleAndCandleArrIndex].rightSign):e.indexOf("blowcandleeffect")>=0&&playSoundEffect("english/englishnum1to5/unit3/happybirthdayrighteffect.ogg")},t}(englishfat);egret.registerClass(happyBirthParty,"happyBirthParty");var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var n=(__define,t),i=n.prototype;return i.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},i.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)
}__extends(t,e);var n=(__define,t),i=n.prototype;return i.onAddToStage=function(e){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),this.singleInfo=this.getCourseInfo(),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var t;t=andriod?"../../commonegret/resource/":"resource/",RES.loadConfig("resource/default.res.json",t)},i.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this);var t;1==unit?t=[4,3,2,1]:2==unit?t=[3,4,2,1]:3==unit&&(t=[3,2,4,1]),RES.loadGroup("common",9);for(var n=0;n<this.singleInfo.unitName.length;n++)RES.loadGroup(this.singleInfo.unitName[n],t[this.singleInfo.loadPer[n]])},i.onResourceLoadComplete=function(e){var t;t=this.singleInfo.unitName[unit-1],e.groupName==t&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),this.createGameScene())},i.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},i.onResourceProgress=function(e){var t;t=this.singleInfo.unitName[unit-1],e.groupName==t&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},i.createGameScene=function(){sendToAndroid("onLoadFinished",[],[]),egretUntil.asrmap.set("shuzi1",11),egretUntil.asrmap.set("shuzi2",12),egretUntil.asrmap.set("shuzi3",13),egretUntil.asrmap.set("1ge",21),egretUntil.asrmap.set("2ge",22),egretUntil.asrmap.set("3ge",23),egretUntil.asrmap.set(6,106),egretUntil.asrmap.set(7,107),egretUntil.asrmap.set(8,108),egretUntil.asrmap.set(9,109),egretUntil.asrmap.set(10,110),egretUntil.asrmap.set(11,111),egretUntil.asrmap.set(12,112),egretUntil.asrmap.set("good morning",1001),egretUntil.asrmap.set("good afternoon",1002),egretUntil.asrmap.set("good evening",1003),egretUntil.asrmap.set("good night",1004),this.addChild(viewManager.getInstance()),viewManager.getInstance().start(),this.addChild(micUntil.getInstance())},i.getCourseInfo=function(){for(var e=0;e<staticVarUntil.propertycourseinfoarr.length;e++)if(urllocation==staticVarUntil.propertycourseinfoarr[e].courseName)return staticVarUntil.propertycourseinfoarr[e]},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var pauseResume=function(e){function t(){e.call(this),this.addEventListener(pauseResumeEvent.PAUSERESUME,this.changeState,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},i.changeState=function(e){switch(e.eventType){case pauseResumeEvent.PAUSE:this.closeView();break;case pauseResumeEvent.RESUME:this.openView()}},i.openView=function(){switch(staticVarUntil.numbersign){case staticVarUntil.MATH_1_UNIT_1_NUMBERONE:viewManager.getInstance().math1unit1numberone=new math1Unit1Numberone,viewManager.getInstance().addChild(viewManager.getInstance().math1unit1numberone),viewManager.getInstance().math1unit1numberone.addFunc();break;case staticVarUntil.MATH_1_UNIT_1_NUMBERTWO:viewManager.getInstance().math1unit1numbertwo=new math1Unit1Numbertwo,viewManager.getInstance().addChild(viewManager.getInstance().math1unit1numbertwo),viewManager.getInstance().math1unit1numbertwo.numEye();break;case staticVarUntil.MATH_1_UNIT_1_NUMBERTHREE:viewManager.getInstance().math1unit1numberthree=new math1Unit1Numberthree,viewManager.getInstance().addChild(viewManager.getInstance().math1unit1numberthree),viewManager.getInstance().math1unit1numberthree.numberThreeRun();break;case staticVarUntil.MATH_1_UNIT_2_NUMBERONE:viewManager.getInstance().math1unit2numberone=new math1Unit2Numberone,viewManager.getInstance().addChild(viewManager.getInstance().math1unit2numberone),viewManager.getInstance().math1unit2numberone.penChangePosY(),playSoundEffect("math1/unit2/numberone/huabi.ogg",1,1);break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTWO:viewManager.getInstance().math1unit2numbertwo=new math1Unit2Numbertwo,viewManager.getInstance().addChild(viewManager.getInstance().math1unit2numbertwo),viewManager.getInstance().math1unit2numbertwo.duckSwiming(),viewManager.getInstance().math1unit2numbertwo.addButtonAndNum();break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE:viewManager.getInstance().math1unit2numberthree=new math1Unit2Numberthree,viewManager.getInstance().addChild(viewManager.getInstance().math1unit2numberthree),viewManager.getInstance().math1unit2numberthree.addEarDance();break;case staticVarUntil.MATH_1_UNIT_3_NUMBERONE:viewManager.getInstance().math1unit3numberone=new math1Unit3Numberone,viewManager.getInstance().addChild(viewManager.getInstance().math1unit3numberone),viewManager.getInstance().math1unit3numberone.penChangePosY(),playSoundEffect("math1/unit3/numberone/huabi.ogg",1,1);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTWO:viewManager.getInstance().math1unit3numbertwo=new math1Unit3Numbertwo,viewManager.getInstance().addChild(viewManager.getInstance().math1unit3numbertwo),viewManager.getInstance().math1unit3numbertwo.duckSwiming(staticVarUntil.rightresulte),viewManager.getInstance().math1unit3numbertwo.duckAcross(),viewManager.getInstance().math1unit3numbertwo.addButtonAndNum();break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE:viewManager.getInstance().math1unit3numberthree=new math1Unit3Numberthree,viewManager.getInstance().addChild(viewManager.getInstance().math1unit3numberthree),viewManager.getInstance().math1unit3numberthree.addEarDance(staticVarUntil.rightresulte);break;case staticVarUntil.ENDVIEW:viewManager.getInstance().endview=new endView,viewManager.getInstance().addChild(viewManager.getInstance().endview)}},i.closeView=function(){switch(staticVarUntil.numbersign){case staticVarUntil.MATH_1_UNIT_1_NUMBERONE:viewManager.getInstance().math1unit1numberone.managerResource(),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit1numberone),viewManager.getInstance().math1unit1numberthree=null;break;case staticVarUntil.MATH_1_UNIT_1_NUMBERTWO:viewManager.getInstance().math1unit1numbertwo.managerResource(),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit1numbertwo),viewManager.getInstance().math1unit1numbertwo=null;break;case staticVarUntil.MATH_1_UNIT_1_NUMBERTHREE:viewManager.getInstance().math1unit1numberthree.managerResource(),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit1numberthree),viewManager.getInstance().math1unit1numberthree=null;break;case staticVarUntil.MATH_1_UNIT_2_NUMBERONE:viewManager.getInstance().math1unit2numberone.stopAnimation(),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit2numberone),viewManager.getInstance().math1unit2numberone=null;break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTWO:viewManager.getInstance().math1unit2numbertwo.stopAnimation(),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit2numbertwo),viewManager.getInstance().math1unit2numbertwo=null;break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE:viewManager.getInstance().math1unit2numberthree.stopAnimation(),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit2numberthree),viewManager.getInstance().math1unit2numberthree=null;break;case staticVarUntil.MATH_1_UNIT_3_NUMBERONE:viewManager.getInstance().math1unit3numberone.stopAnimation(),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit3numberone),viewManager.getInstance().math1unit3numberone=null;break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTWO:viewManager.getInstance().math1unit3numbertwo.stopAnimation(),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit3numbertwo),viewManager.getInstance().math1unit3numbertwo=null;break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE:viewManager.getInstance().math1unit3numberthree.stopAnimation(),viewManager.getInstance().removeChild(viewManager.getInstance().math1unit3numberthree),viewManager.getInstance().math1unit3numberthree=null;break;case staticVarUntil.ENDVIEW:viewManager.getInstance().removeChild(viewManager.getInstance().endview),viewManager.getInstance().endview=null}},t}(egret.Sprite);egret.registerClass(pauseResume,"pauseResume");var viewManager=function(e){function t(){e.call(this),this.managertimer=[]}__extends(t,e);var n=(__define,t),i=n.prototype;return t.getInstance=function(){return null==t.instance&&(t.instance=new t),t.instance},i.init=function(){this.jumpButton(),urllocation==staticVarUntil.OPEN_COURSE_MATH_1&&(1==unit?(this.initmath1unit1(),this.addChild(this.math1unit1numberone),this.math1unit1numberone.addFunc(),sendToAndroid("getUnitResultLong",["course"],["math-1-1"])):2==unit?(this.initmath1unit2(),this.addChild(this.math1unit2numberone),playSoundEffect("math/math1/unit2/common/lianxi123.ogg")):3==unit&&(this.initmath1unit3(),this.addChild(this.math1unit3numberone),playSoundEffect("math/math1/unit3/common/shuyishu123.ogg"))),this.endview=new endView,urllocation==staticVarUntil.OPEN_COURSE_ENGLISH_1?this.initenglish1():urllocation==staticVarUntil.OPEN_COURSE_ENGLISH_10?this.initenglish2():urllocation==staticVarUntil.OPEN_COURSE_ENGLISH_NUM1TO5?this.initenglishnum1to5():urllocation==staticVarUntil.OPEN_COURSE_ENGLISH_GRETTING?this.initEnglishGretting():urllocation==staticVarUntil.OPEN_COURSE_ENGLISH_CLOCK?this.initEnglishClock():urllocation==staticVarUntil.OPEN_COURSE_ENGLISH_CLOTHES&&this.initEnglishClothes(),this.setChildIndex(this.nextjumpbutton,this.numChildren),t.getInstance().timeruntil=new timerUntil},i.initmath1unit1=function(){this.math1unit1numberone=new math1Unit1Numberone,this.math1unit1numbertwo=new math1Unit1Numbertwo,this.math1unit1numberthree=new math1Unit1Numberthree},i.initmath1unit2=function(){this.math1unit2numberone=new math1Unit2Numberone,this.math1unit2numbertwo=new math1Unit2Numbertwo,this.math1unit2numberthree=new math1Unit2Numberthree},i.initmath1unit3=function(){staticVarUntil.testnumarr=egretUntil.getArrayItems(staticVarUntil.testnumarr,staticVarUntil.testnumarr.length),this.math1unit3numberone=new math1Unit3Numberone,this.math1unit3numbertwo=new math1Unit3Numbertwo,this.math1unit3numberthree=new math1Unit3Numberthree},i.initenglish1=function(){this.english1unit1study=new english1Unit1Study,this.english1unit3test=new english1Unit3Test,this.english1unit2test=new english1Unit2Test,1==unit?(this.addChild(this.english1unit1study),sendToAndroid("getUnitResultLong",["course"],["english-1-1"]),sendToAndroid("startPlayMp4",["url"],[url+"english/english1/unit1/family.mp4"])):2==unit?(this.addChild(this.english1unit2test),this.english1unit2test.introduceAnimation(),saveLog("init","初始化进入课程")):3==unit&&(this.addChild(this.english1unit3test),this.english1unit3test.picFrameShake(),this.english1unit3test.addPhotoWallWord())},i.initenglish2=function(){this.english2unit2test=new english2Unit2Test,this.english2unit3test=new english2Unit3Test,this.english2unit1study=new english2Unit1Study,2==unit?(this.addChild(this.english2unit2test),this.english2unit2test.addVineBlank()):3==unit?(this.addChild(this.english2unit3test),this.english2unit3test.addVineBlank()):1==unit&&(this.addChild(this.english2unit1study),sendToAndroid("getUnitResultLong",["course"],["english-10-1"]),sendToAndroid("startPlayMp4",["url"],[url+"english/english2/unit1/knowanimal.mp4"]))},i.initenglishnum1to5=function(){this.englishnumunit11to5=new enumUnit11to5,this.englishnumunit21to5=new fruitBasket,this.englishnumunit31to5=new happyBirthParty,1==unit?(this.addChild(this.englishnumunit11to5),this.englishnumunit11to5.addTitle(),t.getInstance().swapChildren(this.englishnumunit11to5,this.nextjumpbutton),sendToAndroid("getUnitResultLong",["course"],["english-12-1"])):2==unit?(this.addChild(this.englishnumunit21to5),this.englishnumunit21to5.addTitle(),saveLog("initenglishnum1to5","初始化进入课程")):3==unit&&(this.addChild(this.englishnumunit31to5),this.englishnumunit31to5.addTitle())},i.initEnglishGretting=function(){this.englishgrettingunit1=new englishGretting,this.englishgreetingguessphoto=new guessPhoto,this.englishgreetingchallenge=new challengeGreeting,1==unit?(this.addChild(this.englishgrettingunit1),this.englishgrettingunit1.title(),sendToAndroid("getUnitResultLong",["course"],["english-14-1"])):2==unit?(this.addChild(this.englishgreetingguessphoto),this.englishgreetingguessphoto.title()):3==unit&&(this.addChild(this.englishgreetingchallenge),this.englishgreetingchallenge.addTitle())},i.initEnglishClock=function(){this.englishclockunit1=new englishClockUnit1,this.englishclockunit3=new englishClockUnit3,this.englishclockunit4=new englishClockUnit4,1==unit?(sendToAndroid("getUnitResultLong",["course"],["english-15-1"]),this.addChild(this.englishclockunit1),this.englishclockunit1.start()):2==unit?(this.addChild(this.englishclockunit3),this.englishclockunit3.start()):3==unit&&(this.addChild(this.englishclockunit4),this.englishclockunit4.addTitle())},i.initEnglishClothes=function(){this.englishclothes=new unitclothes,1==unit&&this.addChild(this.englishclothes)},i.start=function(){this.init(),this.initListener()},i.initListener=function(){this.addEventListener(viewManagerEvent.VIEW_MANA_EVENT,this.changeContent,this),t.getInstance().touchEnabled=!1,t.getInstance().addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTap,this)},i.onTouchTap=function(e){switch(staticVarUntil.numbersign){case staticVarUntil.MATH_1_UNIT_2_NUMBERONE:operateUntil.onTouchTap(e,t.getInstance().math1unit2numberone,t.getInstance().math1unit2numberone.drawGou,"math/math1/unit2/common/wrongeffect.ogg","math/math1/unit2/common/right.ogg");break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTWO:operateUntil.onTouchTap(e,t.getInstance().math1unit2numbertwo,t.getInstance().math1unit2numbertwo.buttonJump,"math/math1/unit2/common/wrongeffect.ogg","math/math1/unit2/common/right.ogg");break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE:operateUntil.onTouchTap(e,t.getInstance().math1unit2numberthree,t.getInstance().math1unit2numberthree.addBeatDrum,"math/math1/unit2/common/wrongeffect.ogg","math/math1/unit2/common/right.ogg");break;case staticVarUntil.MATH_1_UNIT_3_NUMBERONE:operateUntil.onTouchTap(e,t.getInstance().math1unit3numberone,t.getInstance().math1unit3numberone.drawGou,"math/math1/unit3/common/wrongeffect.ogg","math/math1/unit3/common/right.ogg");break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTWO:operateUntil.onTouchTap(e,t.getInstance().math1unit3numbertwo,t.getInstance().math1unit3numbertwo.buttonJump,"math/math1/unit3/common/wrongeffect.ogg","math/math1/unit3/common/right.ogg");break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE:operateUntil.onTouchTap(e,t.getInstance().math1unit3numberthree,t.getInstance().math1unit3numberthree.addBeatDrum,"math/math1/unit3/common/wrongeffect.ogg","math/math1/unit3/common/right.ogg")}},i.changeContent=function(e){switch(operateUntil.initVar(),e.eventType){case staticVarUntil.MATH_1_UNIT_1_NUMBERONE:this.addChild(this.math1unit1numberone),changeScenceAnimation.pullSceenRightToLeft(this.math1unit1numberone,"",function(){sendToAndroid("getUnitResultLong",["course"],["math-1-1"]),this.math1unit1numberone.addFunc(),this.endview.parent&&(this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500))},this);break;case staticVarUntil.MATH_1_UNIT_1_NUMBERTWO:this.addChild(this.math1unit1numbertwo),changeScenceAnimation.changeSigleContentUToD(this.math1unit1numbertwo,"",function(){this.math1unit1numbertwo.numEye(),this.removeChild(this.math1unit1numberone),this.math1unit1numberone=null},this);break;case staticVarUntil.MATH_1_UNIT_1_NUMBERTHREE:this.addChild(this.math1unit1numberthree),changeScenceAnimation.changeSigleContentRTol(this.math1unit1numberthree,"",function(){this.math1unit1numberthree.numberThreeRun(),this.removeChild(this.math1unit1numbertwo),this.math1unit1numbertwo=null},this);break;case staticVarUntil.ENDVIEW:this.endview=new endView,this.addChild(this.endview),this.nextjumpbutton.visible=!1,changeScenceAnimation.pullSceenRightToLeft(this.endview,"",function(){if(this.endview.showContent(),operateUntil.showViewContent(),staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_1)this.math1unit1numberthree&&this.math1unit1numberthree.parent&&(this.math1unit1numberthree.parent.removeChild(this.math1unit1numberthree),this.math1unit1numberthree=null);else if(staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_2)this.math1unit2numberthree&&this.math1unit2numberthree.parent&&(this.removeChild(this.math1unit2numberthree),this.math1unit2numberthree=null);else if(staticVarUntil.mathunitnum==staticVarUntil.MATH_1_UNIT_3){var e=courseInfo(staticVarUntil.MATH_1_UNIT_3);sendToAndroid("sendLogtoApp",["log"],[saveLogJson(e)]),sendToAndroid("isCoinIncrease",[],[]),this.math1unit3numberthree&&this.math1unit3numberthree.parent&&(this.math1unit3numberthree.parent.removeChild(this.math1unit3numberthree),this.math1unit3numberthree=null)}else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_1_UNIT_1_STUDY)this.english1unit1study&&this.english1unit1study.parent&&(this.english1unit1study.parent.removeChild(this.english1unit1study),this.english1unit1study=null);else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_1_UNIT_2_TEST)this.english1unit2test&&this.english1unit2test.parent&&(this.english1unit2test.parent.removeChild(this.english1unit2test),this.english1unit2test=null);else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_1_UNIT_3_TEST){var e=courseInfo(staticVarUntil.ENGLISH_1_UNIT_3_TEST);sendToAndroid("sendLogtoApp",["log"],[saveLogJson(e)]),sendToAndroid("isCoinIncrease",[],[]),this.english1unit3test&&this.english1unit3test.parent&&(this.english1unit3test.parent.removeChild(this.english1unit3test),this.english1unit3test=null)}else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_2_UNIT_1_STUDY)this.english2unit1study&&this.english2unit1study.parent&&(this.english2unit1study.parent.removeChild(this.english2unit1study),this.english2unit1study=null);else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_NUM_UNIT_1TO5)this.englishnumunit11to5&&this.englishnumunit11to5.parent&&(this.englishnumunit11to5.parent.removeChild(this.englishnumunit11to5),this.englishnumunit11to5=null);else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_NUM_UNIT2_1TO5)this.englishnumunit21to5&&this.englishnumunit21to5.parent&&(this.englishnumunit21to5.parent.removeChild(this.englishnumunit21to5),this.englishnumunit21to5=null);else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_NUM_UNIT3_1TO5){var e=courseInfo(staticVarUntil.ENGLISH_NUM_UNIT3_1TO5);sendToAndroid("sendLogtoApp",["log"],[saveLogJson(e)]),sendToAndroid("isCoinIncrease",[],[]),this.englishnumunit31to5&&this.englishnumunit31to5.parent&&(this.englishnumunit31to5.parent.removeChild(this.englishnumunit31to5),this.englishnumunit31to5=null)}else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_GRETTING_UNIT1)this.englishgrettingunit1&&this.englishgrettingunit1.parent&&(this.englishgrettingunit1.parent.removeChild(this.englishgrettingunit1),this.englishgrettingunit1=null);else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_GREETING_UNIT2)this.englishgreetingguessphoto&&this.englishgreetingguessphoto.parent&&(this.englishgreetingguessphoto.parent.removeChild(this.englishgreetingguessphoto),this.englishgreetingguessphoto=null);else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_GREETING_UNIT3){var e=courseInfo(staticVarUntil.ENGLISH_GREETING_UNIT3);sendToAndroid("sendLogtoApp",["log"],[saveLogJson(e)]),sendToAndroid("isCoinIncrease",[],[]),this.englishgreetingchallenge&&this.englishgreetingchallenge.parent&&(this.englishgreetingchallenge.parent.removeChild(this.englishgreetingchallenge),this.englishgreetingchallenge=null)}else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_CLOCK_UNIT1)this.englishclockunit1&&this.englishclockunit1.parent&&(this.englishclockunit1.parent.removeChild(this.englishclockunit1),this.englishclockunit1=null);else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_CLOCK_UNIT3)this.englishclockunit3&&this.englishclockunit3.parent&&(this.englishclockunit3.parent.removeChild(this.englishclockunit3),this.englishclockunit3=null);else if(staticVarUntil.mathunitnum==staticVarUntil.ENGLISH_CLOCK_UNIT4){var e=courseInfo(staticVarUntil.ENGLISH_CLOCK_UNIT4);sendToAndroid("sendLogtoApp",["log"],[saveLogJson(e)]),this.englishclockunit4&&this.englishclockunit4.parent&&(this.englishclockunit4.parent.removeChild(this.englishclockunit4),this.englishclockunit4=null)}this.math1unit1numberone&&this.math1unit1numberone.parent&&this.math1unit1numberone.parent.removeChild(this.math1unit1numberone),this.math1unit1numbertwo&&this.math1unit1numbertwo.parent&&this.math1unit1numbertwo.parent.removeChild(this.math1unit1numbertwo),this.math1unit1numberthree&&this.math1unit1numberthree.parent&&this.math1unit1numberthree.parent.removeChild(this.math1unit1numberthree)},this);break;case staticVarUntil.MATH_1_UNIT_2_NUMBERONE:this.addChild(this.math1unit2numberone),changeScenceAnimation.pullSceenRightToLeft(this.math1unit2numberone,"",function(){this.math1unit2numberone.penChangePosY(),this.endview.parent&&(egret.log("del this.endview"),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)),playSoundEffect("math/math1/unit2/numberone/huabi.ogg",1,1)},this);break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTWO:this.addChild(this.math1unit2numbertwo),changeScenceAnimation.changeSigleContentRTol(this.math1unit2numbertwo,"",function(){this.math1unit2numbertwo.duckSwiming(),this.math1unit2numbertwo.addButtonAndNum(),this.math1unit2numberone.parent&&(this.removeChild(this.math1unit2numberone),this.math1unit2numberone=null)},this);break;case staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE:this.addChild(this.math1unit2numberthree),changeScenceAnimation.changeSigleContentRTol(this.math1unit2numberthree,"",function(){this.math1unit2numberthree.addEarDance(),this.math1unit2numbertwo.parent&&(egret.log("del this.math1unit2numbertwo"),this.removeChild(this.math1unit2numbertwo),this.math1unit2numbertwo=null)},this);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERONE:this.addChild(this.math1unit3numberone),changeScenceAnimation.pullSceenRightToLeft(this.math1unit3numberone,"",function(){this.math1unit3numberone.penChangePosY(),this.endview.parent&&(this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)),playSoundEffect("math/math1/unit3/numberone/huabi.ogg",1,1)},this);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTWO:this.addChild(this.math1unit3numbertwo),changeScenceAnimation.changeSigleContentRTol(this.math1unit3numbertwo,"",function(){this.math1unit3numbertwo.duckSwiming(staticVarUntil.rightresulte),this.math1unit3numbertwo.duckAcross(),this.math1unit3numbertwo.addButtonAndNum(),this.removeChild(this.math1unit3numberone),this.math1unit3numberone=null},this);break;case staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE:this.addChild(this.math1unit3numberthree),changeScenceAnimation.changeSigleContentUToD(this.math1unit3numberthree,"",function(){this.math1unit3numberthree.addEarDance(staticVarUntil.rightresulte),this.removeChild(this.math1unit3numbertwo),this.math1unit3numbertwo=null},this);break;case staticVarUntil.ENGLISH_1_UNIT_1_STUDY:this.addChild(this.english1unit1study),changeScenceAnimation.pullSceenRightToLeft(this.english1unit1study,"",function(){sendToAndroid("getUnitResultLong",["course"],["english-1-1"]),sendToAndroid("startPlayMp4",["url"],[url+"english/english1/unit1/family.mp4"]),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_1_UNIT_2_TEST:this.addChild(this.english1unit2test),changeScenceAnimation.pullSceenRightToLeft(this.english1unit2test,"",function(){this.english1unit2test.introduceAnimation(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_1_UNIT_3_TEST:this.addChild(this.english1unit3test),changeScenceAnimation.pullSceenRightToLeft(this.english1unit3test,"",function(){this.english1unit3test.picFrameShake(),this.english1unit3test.addPhotoWallWord(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_2_UNIT_1_STUDY:this.addChild(this.english2unit1study),changeScenceAnimation.pullSceenRightToLeft(this.english2unit1study,"",function(){sendToAndroid("getUnitResultLong",["course"],["english-2-1"]),sendToAndroid("startPlayMp4",["url"],[url+"english/english2/unit1/knowanimal.mp4"]),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_2_UNIT_2_TEST:this.addChild(this.english2unit2test),changeScenceAnimation.pullSceenRightToLeft(this.english2unit2test,"",function(){this.english2unit2test.addVineBlank(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_2_UNIT_3_TEST:this.addChild(this.english2unit3test),changeScenceAnimation.pullSceenRightToLeft(this.english2unit3test,"",function(){this.english2unit3test.addVineBlank(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_NUM_UNIT_1TO5:this.addChild(this.englishnumunit11to5),changeScenceAnimation.pullSceenRightToLeft(this.englishnumunit11to5,"",function(){sendToAndroid("getUnitResultLong",["course"],["english-12-1"]),this.swapChildren(this.nextjumpbutton,this.englishnumunit11to5),this.englishnumunit11to5.addTitle(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_NUM_UNIT2_1TO5:this.addChild(this.englishnumunit21to5),changeScenceAnimation.pullSceenRightToLeft(this.englishnumunit21to5,"",function(){this.englishnumunit21to5.addTitle(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_NUM_UNIT3_1TO5:this.addChild(this.englishnumunit31to5),changeScenceAnimation.pullSceenRightToLeft(this.englishnumunit31to5,"",function(){this.englishnumunit31to5.addTitle(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_GRETTING_UNIT1:this.addChild(this.englishgrettingunit1),changeScenceAnimation.pullSceenRightToLeft(this.englishgrettingunit1,"",function(){sendToAndroid("getUnitResultLong",["course"],["english-14-1"]),this.englishgrettingunit1.title(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_GREETING_UNIT2:this.addChild(this.englishgreetingguessphoto),changeScenceAnimation.pullSceenRightToLeft(this.englishgreetingguessphoto,"",function(){this.englishgreetingguessphoto.title(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_GREETING_UNIT3:this.addChild(this.englishgreetingchallenge),changeScenceAnimation.pullSceenRightToLeft(this.englishgreetingchallenge,"",function(){this.englishgreetingchallenge.addTitle(),this.removeChild(this.endview),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this);break;case staticVarUntil.ENGLISH_CLOCK_UNIT1:this.addChild(this.englishclockunit1),changeScenceAnimation.pullSceenRightToLeft(this.englishclockunit1,"",function(){sendToAndroid("getUnitResultLong",["course"],["english-15-1"]),this.englishclockunit1.start(),this.removeChild(this.endview),this.endview.removeChildren(),this.endview=null},this);break;case staticVarUntil.ENGLISH_CLOCK_UNIT3:this.addChild(this.englishclockunit3),changeScenceAnimation.pullSceenRightToLeft(this.englishclockunit3,"",function(){this.englishclockunit3.start(),this.removeChild(this.endview),this.endview.removeChildren(),this.endview=null},this);break;case staticVarUntil.ENGLISH_CLOCK_UNIT4:this.addChild(this.englishclockunit4),changeScenceAnimation.pullSceenRightToLeft(this.englishclockunit4,"",function(){this.englishclockunit4.addTitle(),this.endview=null,egret.setTimeout(function(){this.endview=new endView},this,500)},this)}this.setChildIndex(this.nextjumpbutton,this.numChildren)},i.jumpButton=function(){this.nextjumpbutton=egretUntil.createBitmapByName("nextjumpbutton_png"),this.nextjumpbutton.x=830,this.nextjumpbutton.y=15,this.nextjumpbutton.visible=!1,this.addChild(this.nextjumpbutton),operateUntil.restoreAnchorOffsetxy(t.getInstance().nextjumpbutton)},t}(egret.Sprite);egret.registerClass(viewManager,"viewManager");var math1Unit1=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t);n.prototype;return t}(egret.DisplayObjectContainer);egret.registerClass(math1Unit1,"math1Unit1");var math1Unit1Numberone=function(e){function t(){e.call(this),this.resourceOne=[],this.times=0,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addNumber,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addNumber=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addNumber,this),this.addCommonPer(staticVarUntil.MATH_1_UNIT_1_NUMBERTWO,staticVarUntil.MATH_1_UNIT_1_NUMBERONE,this);var e=egretUntil.createBitmapByName("number1bg_png");this.addChild(e)},i.addFunc=function(){playSoundEffect("math/math1/unit1/renshi123.ogg")},i.jumpOne=function(){this.jump1=new movieClip,this.jump1.addNumber("jump1_json","jump1_png","jump1"),this.addChild(this.jump1),this.jump1.setProXY(820,160),this.mc1=this.jump1.getMc(),this.mc1.gotoAndPlay("start",2),mathfat.setMcarr("mc1",this.mc1,2),this.mc1.addEventListener(egret.MovieClipEvent.FRAME_LABEL,this.mc1Framelabel,this),this.mc1.addEventListener(egret.Event.COMPLETE,this.mc1Complete,this)},i.mc1Framelabel=function(e){"@fallmove0"==e.frameLabel&&playSoundEffect("math/math1/unit1/numberone/onejump60ms.ogg"),"@fallmove1@fallmove2@fallmove3@fallmove4@fallmove5".indexOf(e.frameLabel)>=0?this.jump1.x=this.jump1.x-32:"@fallmove6"==e.frameLabel?this.jump1.x=this.jump1.x-22:"@fallmove7"==e.frameLabel&&(this.jump1.x=this.jump1.x-22,1==this.times&&this.mc1.gotoAndPlay("eye",1),mathfat.setMcTimes("mc1",1),this.times++)},i.mc1Complete=function(e){this.baozhaCould.visible=!0,this.mcCould.gotoAndPlay("start",1),playSoundEffect("math/math1/unit1/numberone/1likepen.ogg"),playSoundEffect("math/math1/unit1/numberone/onechangepen80ms.ogg")},i.couldBone=function(){this.baozhaCould=new movieClip,this.baozhaCould.addNumber("baozhaCould_json","baozhaCould_png","baozhaCould"),this.addChild(this.baozhaCould),this.baozhaCould.visible=!1,this.baozhaCould.setProXY(210,48),this.mcCould=this.baozhaCould.getMc(),mathfat.setMcarr("mcCould",this.mcCould),this.mcCould.addEventListener(egret.Event.COMPLETE,this.mcCouldComplete,this),this.mcCould.addEventListener(egret.MovieClipEvent.FRAME_LABEL,this.mcCouldFramelabel,this)},i.mcCouldComplete=function(e){this.baozhaCould.visible=!1,this.mcPen.gotoAndPlay("start",1),mathfat.setTweenarr(this),playSoundEffect("math/math1/unit1/numberone/movepen70ms.ogg")},i.mcCouldFramelabel=function(e){"@fallstart"==e.frameLabel&&(this.jump1.visible=!1,this.movePen.visible=!0),saveLog(e.frameLabel,egret.getTimer())},i.moveThePen=function(){this.movePen=new movieClip,this.movePen.addNumber("movePen_json","movePen_png","movePen"),this.addChild(this.movePen),this.movePen.visible=!1,this.movePen.setProXY(440,15),this.mcPen=this.movePen.getMc(),mathfat.setMcarr("mcPen",this.mcPen),this.mcPen.addEventListener(egret.Event.COMPLETE,this.mcPenComplete,this)
},i.mcPenComplete=function(e){this.draw1.visible=!0,this.movePen.visible=!1,this.mcDw1.gotoAndPlay("start",1),playSoundEffect("math/math1/unit1/numberone/drawone650ms.ogg"),egret.Tween.get(this.whiteBoard).to({alpha:1})},i.drawOne=function(){this.draw1=new movieClip,this.draw1.addNumber("draw1_json","draw1_png","draw1"),this.addChild(this.draw1),this.draw1.visible=!1,this.draw1.setProXY(460,15),this.mcDw1=this.draw1.getMc(),mathfat.setMcarr("mcDw1",this.mcDw1),this.mcDw1.addEventListener(egret.Event.COMPLETE,this.mcDw1Complete,this)},i.mcDw1Complete=function(e){egret.Tween.get(this).wait(1e3).call(function(){playSoundEffect("math/math1/unit1/numberone/zhes1.ogg")},this),mathfat.setTweenarr(this)},i.handleAudio=function(e){e.indexOf("1likepen")>0?playSoundEffect("math/math1/unit1/numberone/thinandlong.ogg"):e.indexOf("math/math1/unit1/numberone/zhes1")>=0?viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()):e.indexOf("renshi123")>=0&&(this.jumpOne(),this.couldBone(),this.moveThePen(),this.whiteBoard=this.drawWhiteBoard(),this.drawOne())},i.drawWhiteBoard=function(){var e=egretUntil.createBitmapByName("paper_png");return e.x=(960-e.width)/2,e.y=67,this.addChild(e),e.alpha=0,e},i.managerResource=function(){},i.setProXY=function(e,t){this.x=e,this.y=t},t}(mathfat);egret.registerClass(math1Unit1Numberone,"math1Unit1Numberone");var math1Unit1Numberthree=function(e){function t(){e.call(this),this.numberThreeRunCenter=!1,this.clockIsWorking=!1,this.earjingxia=!0,this.earBonesArr=[],this.state="goleft",this.resourceThree=[],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addnumberThree,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addnumberThree=function(){this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.MATH_1_UNIT_1_NUMBERTHREE,this);var e=egretUntil.createBitmapByName("numberThreeBg_png");this.addChild(e),this.numberThree=egretUntil.createBitmapByName("numberThree_png"),this.addChild(this.numberThree),this.numberThree.x=580-this.numberThree.width/2-44,this.numberThree.y=230+this.numberThree.height-29,this.numberThree.anchorOffsetX=this.numberThree.width/2,this.numberThree.anchorOffsetY=this.numberThree.height,this.numberThree.rotation=20,this.numberThree.scaleX=-1,this.numberThree.visible=!1,this.clock=new movieClip,this.clock.addNumber("clock_json","clock_png","clock"),this.addChild(this.clock),this.McClock=this.clock.getMc(),mathfat.setMcarr("McClock",this.McClock,-1),this.McClock.gotoAndPlay("start",-1),this.clock.x=110,this.clock.y=156,playSoundEffect("math/math1/unit1/numberthree/dahulu1450ms.ogg")},i.numberThreeRun=function(){this.DBThree=new dragonBone,this.DBThree.addDB("numberThree_json","numberThreetxt_json","numberThreetxt_png","numberthree"),this.addChild(this.DBThree),dragonBones.WorldClock.clock.add(this.DBThree.getArmature()),this.DBThree.setPos(900,350),this.DBThree.setSpeedXY(9,0),this.DBThree.settimeScale(4),this.DBThree.setstartPlay("walk3",0),playSoundEffect("math/math1/unit1/numberthree/walk6500ms.ogg"),egret.startTick(this.funTick,this),mathfat.setTick(this.funTick,this),egret.Tween.get(this).wait(500).call(this.createEar,this),mathfat.setTweenarr(this)},i.funTick=function(){return this.updateMove(),this.clockWorking(),this.updateEarMove(),dragonBones.WorldClock.clock.advanceTime(.02),!0},i.createEar=function(){for(var e=0;3>e;e++){var t=new dragonBone;t.addDB("ear_json","eartxt_json","eartxt_png","ear"),this.earBonesArr.push(t),this.addChild(t),t.setPos(1e3+t.getArmatureWidth()/2+(t.getArmatureWidth()+30)*e,350),t.setSpeedXY(9,0),t.settimeScale(3),dragonBones.WorldClock.clock.add(t.getArmature()),t.setstartPlay("walkear",0),mathfat.setTweenarr(t)}this.earBonesArr[0].getArmature().addEventListener(dragonBones.AnimationEvent.COMPLETE,this.dbComplete,this)},i.dbComplete=function(){for(var e=0;e<this.earBonesArr.length;e++){var t=this.earBonesArr[e];mathfat.setTweenarr(t),egret.Tween.get(t).to({x:1e3,y:0},1e3,egret.Ease.backOut)}},i.updateMove=function(){switch(this.state){case"goleft":this.DBThree.getPosX()<600&&(this.numberThreeRunCenter=!0),this.DBThree.getPosX()>-110?this.DBThree.setPos(this.DBThree.getPosX()-this.DBThree.getSpeedX(),this.DBThree.getPosY()):this.McClock.currentFrame<=18&&(this.clockIsWorking=!0);break;case"goright":this.DBThree.getPosX()<500?this.DBThree.setPos(this.DBThree.getPosX()+this.DBThree.getSpeedX(),this.DBThree.getPosY()):(this.state="",this.DBThree.getArmature().animation.stop(),this.numberThree.visible=!0,mathfat.setTweenarr(this.DBThree),egret.Tween.get(this.DBThree).to({alpha:0},1e3),egret.Tween.get(this).wait(500).call(function(){playSoundEffect("math/math1/unit1/numberthree/changeThree1500ms.ogg")},this),egret.Tween.get(this.numberThree).wait(1e3).to({scaleX:1,rotation:-10},500).wait(500).to({rotation:0,y:250},1e3).call(function(){playSoundEffect("math/math1/unit1/numberthree/zhes3.ogg")},this),mathfat.setTweenarr(this.numberThree))}},i.clockWorking=function(){this.clockIsWorking&&(this.clockIsWorking=!1,console.log("comming"),this.McClock.gotoAndPlay("clockWork",1),mathfat.setMcTimes("clockWork",1),playSoundEffect("math/math1/unit1/numberthree/naozhongxl2250ms.ogg"),playSoundEffect("math/math1/unit1/numberthree/jingbao2050ms.ogg"),egret.Tween.get(this).wait(1500).call(function(){this.McClock.gotoAndPlay("clockWorking",-1),mathfat.setMcTimes("clockWork",-1)},this))},i.updateEarMove=function(){if(this.numberThreeRunCenter)if(this.McClock.currentFrame<=18)for(var e=0;e<this.earBonesArr.length;e++)this.earBonesArr[e].setPos(this.earBonesArr[e].getPosX()-this.earBonesArr[e].getSpeedX(),350);else this.earjingxia&&(this.earjingxia=!1,playSoundEffect("math/math1/unit1/numberthree/3likeear.ogg"),this.earBonesArr[0].getArmature().animation.stop(),this.earBonesArr[1].getArmature().animation.stop(),this.earBonesArr[2].getArmature().animation.stop(),egret.Tween.get(this).wait(300).call(function(){this.earBonesArr[0].getArmature().animation.gotoAndStop("supear",2),this.earBonesArr[1].getArmature().animation.gotoAndStop("supear",2),this.earBonesArr[2].getArmature().animation.gotoAndStop("supear",2)},this),egret.Tween.get(this).wait(1500).call(function(){playSoundEffect("math/math1/unit1/numberthree/jingxia850ms.ogg")},this),egret.Tween.get(this.earBonesArr[0]).wait(1500).to({x:550,y:-300,rotation:360},1300,egret.Ease.backOut),egret.Tween.get(this.earBonesArr[1]).wait(1500).to({x:1100,y:100,rotation:480},1e3,egret.Ease.backOut),egret.Tween.get(this.earBonesArr[2]).wait(1500).to({x:1e3,y:500,rotation:720},900,egret.Ease.backOut).call(function(){this.state="goright",playSoundEffect("math/math1/unit1/numberthree/runing3400ms.ogg"),this.DBThree.getArmature().display.scaleX=-1,this.DBThree.setstartPlay("run3",0),this.DBThree.settimeScale(3),this.DBThree.setSpeedXY(8,0)},this))},i.handleAudio=function(e){e.indexOf("3likeear")>0?playSoundEffect("math/math1/unit1/numberthree/listeningsound.ogg"):e.indexOf("math/math1/unit1/numberthree/zhes3.ogg")>=0&&(viewManager.getInstance().nextjumpbutton.visible=!1,viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()))},i.setProXY=function(e,t){this.x=e,this.y=t},i.managerResource=function(){},t}(mathfat);egret.registerClass(math1Unit1Numberthree,"math1Unit1Numberthree");var math1Unit1Numbertwo=function(e){function t(){e.call(this),this.langs=[],this.whiteCoulds=[],this.pauseTweenObjs=[],this.resourceTwo=[],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addBJ,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addBJ=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addBJ,this),this.addCommonPer(staticVarUntil.MATH_1_UNIT_1_NUMBERTHREE,staticVarUntil.MATH_1_UNIT_1_NUMBERTWO,this);var e=egretUntil.createBitmapByName("beijing");this.addChild(e),e.x=0,e.y=0,this.addSenceImage()},i.addSenceImage=function(){for(var e=0;3>e;e++){var t=egretUntil.createBitmapByName("yun");t.x=50*Math.random()+550+100*e,t.y=100*Math.random()+100*e,egret.Tween.get(t,{loop:!0}).to({x:0},2e4),mathfat.setTweenarr(t),this.addChild(t),this.whiteCoulds.push(t),this.pauseTweenObjs.push(t)}var n=egretUntil.createBitmapByName("shan");this.addChild(n),n.x=0,n.y=183;for(var e=0;2>e;e++){var i=egretUntil.createBitmapByName("lang");i.fillMode=egret.BitmapFillMode.REPEAT,i.width=1500,i.x=-270+5*e,i.y=340+15*e,this.addChild(i),this.langs.push(i),this.pauseTweenObjs.push(i),0==e?egret.Tween.get(i,{loop:!0}).to({x:0},5e3).to({x:-270},5e3):1==e&&egret.Tween.get(i,{loop:!0}).to({x:-530},5e3).to({x:-275},5e3),mathfat.setTweenarr(i)}var a=egretUntil.createBitmapByName("shui");a.fillMode=egret.BitmapFillMode.REPEAT,a.width=960,a.x=0,a.y=380,this.addChild(a)},i.setProXY=function(e,t){this.x=e,this.y=t},i.numEye=function(){this.shuzi2=new movieClip,this.shuzi2.addNumber("shuzi2_json","shuzi2_png","shuzi2"),this.addChild(this.shuzi2),this.setChildIndex(this.shuzi2,6),this.shuzi2.setProXY(406,60),this.shuzi2.alpha=0,this.mcShu2=this.shuzi2.getMc(),mathfat.setTweenarr(this.shuzi2),mathfat.setMcarr("mcShu2",this.mcShu2),egret.Tween.get(this.shuzi2).to({alpha:1},3e3).call(function(){playSoundEffect("math/math1/unit1/numbertwo/zhayan50ms.ogg"),this.mcShu2.gotoAndPlay("start",2)},this),this.mcShu2.addEventListener(egret.Event.COMPLETE,this.mcShu2Complete,this),this.waterWhite=new movieClip,this.waterWhite.addNumber("whiteWater_json","whiteWater_png","whiteWater"),this.addChild(this.waterWhite),this.setChildIndex(this.waterWhite,7),this.waterWhite.visible=!1,this.waterWhite.setProXY(300,190),this.mcWwhite=this.waterWhite.getMc(),mathfat.setMcarr("mcWwhite",this.mcWwhite),this.mcWwhite.addEventListener(egret.Event.COMPLETE,this.mcWwhiteComplete,this),this.duck1=egretUntil.createBitmapByName("yazi"),this.addChild(this.duck1),this.setChildIndex(this.duck1,8),this.duck1.scaleX=-1,this.duck1.x=220+this.duck1.width,this.duck1.y=410,this.duck2=egretUntil.createBitmapByName("yazi"),this.addChild(this.duck2),this.setChildIndex(this.duck2,9),this.duck2.x=600,this.duck2.y=410,this.upTwo=egretUntil.createBitmapByName("2001"),this.addChild(this.upTwo),this.setChildIndex(this.upTwo,10),this.upTwo.x=406,this.upTwo.y=370},i.mcShu2Complete=function(e){playSoundEffect("math/math1/unit1/numbertwo/duckdownwater1200ms.ogg"),egret.Tween.get(this.shuzi2).to({y:275},1e3).call(function(){this.waterWhite.visible=!0,this.mcWwhite.gotoAndPlay("start",1)},this).to({y:370},500)},i.mcWwhiteComplete=function(e){this.waterWhite.visible=!1;var t=egret.setTimeout(function(){playSoundEffect("math/math1/unit1/numbertwo/ducktophead70ms.ogg")},this,500,"egret");this.resourceTwo.push(t);var n=setTimeout(function(){playSoundEffect("math/math1/unit1/numbertwo/ducktophead70ms.ogg")},this,1500,"egret");this.resourceTwo.push(n);var i=setTimeout(function(){playSoundEffect("math/math1/unit1/numbertwo/duckdivewater180ms.ogg")},this,3300,"egret");this.resourceTwo.push(i),mathfat.setTweenarr(this.duck1),mathfat.setTweenarr(this.duck2),mathfat.setTweenarr(this.upTwo),egret.Tween.get(this.duck1).wait(100).call(function(){playSoundEffect("math/math1/unit1/numbertwo/2likeduck.ogg")}).to({y:220},1e3,egret.Ease.backInOut).wait(2e3).to({rotation:45,y:350},1e3).to({y:420},1e3),egret.Tween.get(this.duck2).wait(1100).to({y:220},1e3,egret.Ease.backInOut).wait(1e3).to({rotation:-45,y:350},1e3).to({y:420},1e3),egret.Tween.get(this.upTwo).wait(6e3).to({y:100},1500).call(function(){playSoundEffect("math/math1/unit1/numbertwo/zhes2.ogg");for(var e=0;e<this.pauseTweenObjs.length;e++)egret.Tween.pauseTweens(this.pauseTweenObjs[e])},this)},i.handleAudio=function(e){e.indexOf("2likeduck")>0?playSoundEffect("math/math1/unit1/numbertwo/swimingwater.ogg"):e.indexOf("math/math1/unit1/numbertwo/zhes2")>=0&&viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())},i.managerResource=function(){},t}(mathfat);egret.registerClass(math1Unit1Numbertwo,"math1Unit1Numbertwo");var math1Unit2Numberone=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.moveY=50,this.pendesx=3*egretUntil.getStageWidth()/5,this.pendesy=1*egretUntil.getStageHeight()/3,this.penmodex=20,this.penmodheight=0,this.penmodwidth=0,this.numarr=[{show:"1",show2:"01",numsign:1,penmovetime:500},{show:"2",show2:"02",numsign:2,penmovetime:182},{show:"3",show2:"03",numsign:3,penmovetime:320}],this.showbutxy=[{showbutx:120,showbuty:328},{showbutx:410,showbuty:328},{showbutx:703,showbuty:328}],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addScence=function(){staticVarUntil.rightresulte=1,this.buttonuntil=new buttonUntil,this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this),this.addCommonPer(staticVarUntil.MATH_1_UNIT_2_NUMBERTWO,staticVarUntil.MATH_1_UNIT_2_NUMBERONE,this),this.numarr=egretUntil.getArrayItems(this.numarr,this.numarr.length);var e=egretUntil.createBitmapByName("unit2number1bg_png");this.addChild(e),this.penmod=egretUntil.createBitmapByName("pen"),this.addChild(this.penmod),this.penmod.cacheAsBitmap=!0,this.penmod.fillMode=egret.BitmapFillMode.REPEAT,this.penmodwidth=this.penmod.width,this.penmodheight=this.penmod.height,this.penmod.width=0,this.penmod.height=0,this.penmod.x=(egretUntil.getStageWidth()-38)/2,this.penmod.y=68,mathfat.setTweenarr(this.penmod),this.addButton(),this.pen=egretUntil.createBitmapByName("p"),this.addChild(this.pen),this.pen.x=egretUntil.getStageWidth()/2,this.pen.y=this.penmod.y,mathfat.setTweenarr(this.pen)},i.addButton=function(){for(var e=0;e<this.numarr.length;e++){var t=egretUntil.createBitmapByName("buttonquan_png");this.addChild(t),t.x=this.showbutxy[e].showbutx,t.y=this.showbutxy[e].showbuty;var n=egretUntil.createBitmapByName(this.numarr[e].show);this.addChild(n),n.x=this.showbutxy[e].showbutx+(t.width-n.width)/2,n.y=this.showbutxy[e].showbuty+(t.height-n.height)/2,this.buttonuntil.setButtonarr(t,n,this.numarr[e].numsign)}},i.penChangePosY=function(){this.pen.y<this.penmod.y+this.penmodheight?(egret.Tween.get(this.pen).to({x:this.penmod.x+this.penmodwidth+this.penmodex},200).to({x:this.penmod.x-this.penmodex,y:this.pen.y+this.moveY},200).call(this.penChangePosY,this),egret.Tween.get(this.penmod).to({width:this.penmodwidth},200).to({height:this.pen.y>=this.penmodheight?this.penmodheight:this.pen.y},200).wait(200)):(stopSoundEffectByUrl("math/math1/unit2/numberone/huabi.ogg"),this.pen.visible=!1,egret.Tween.get(this.pen).to({x:this.pendesx,y:this.pendesy},200).call(function(){playSoundEffect("math/math1/unit2/numberone/qianbi.ogg")}))},i.penDrawG=function(e,t){this.gou=egretUntil.createBitmapByName("g"),this.addChild(this.gou),this.gou.fillMode=egret.BitmapFillMode.REPEAT,this.gou.width=0,this.gou.height=145,this.gou.x=e,this.gou.y=t,mathfat.setTweenarr(this.gou),this.setChildIndex(this.pen,10)},i.handleAudio=function(e){e.indexOf("qianbi")>=0||e.indexOf("firstwrong")>=0||e.indexOf("secondwrong")>=0||e.indexOf("firsttouchwrong")>=0||e.indexOf("secondtouchwrong")>=0?startAsr(this,1):e.indexOf("right")>=0?(this.stopAnimation(),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()),egret.log("下一题")):e.indexOf("thirdwrongandmark")>=0?(this.rightShanshuo(),playSoundEffect("math/math1/unit2/common/continuepractice.ogg")):e.indexOf("wrongeffect")>=0?this.playWrongSound():e.indexOf("wait10swarn")>=0||e.indexOf("wait20swarn")>=0?startAsr(this,1):e.indexOf("wait30swarn")>=0?(egret.log("返回课程界面"),overTimeAutoExit()):e.indexOf("continuepractice")>0?(this.stopAnimation(),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())):e.indexOf("errnet")>=0?3==staticVarUntil.getasrerror?overTimeAutoExit():startAsr(this,1):e.indexOf("lianxi123")>=0&&(this.penChangePosY(),playSoundEffect("math/math1/unit2/numberone/huabi.ogg",1,1))},i.playWrongSound=function(){staticVarUntil.ispassasr?operateUntil.asrWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/asr/firstwrong.ogg","common/asr/secondwrong.ogg","math/math1/unit2/numberone/thirdwrongandmark.ogg"):operateUntil.touchButtonWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/touch/firsttouchwrong.ogg","math/math1/unit2/numberone/secondtouchwrong.ogg","math/math1/unit2/numberone/thirdwrongandmark.ogg")},i.rightShanshuo=function(){var e=this.buttonuntil.allWrongSysShowRight(this.buttonuntil.butrelatearr,staticVarUntil.rightresulte);animationUntil.shanshuo(this.numarr[e].show2,this.buttonuntil.butrelatearr[e].butobj.x+(this.buttonuntil.butrelatearr[e].butobj.width-this.buttonuntil.butrelatearr[e].numobj.width)/2,this.buttonuntil.butrelatearr[e].butobj.y+(this.buttonuntil.butrelatearr[e].butobj.height-this.buttonuntil.butrelatearr[e].numobj.height)/2,this)},i.drawGou=function(e,t){var n=e;n.penDrawG(n.buttonuntil.butrelatearr[t].butobj.x+9,n.buttonuntil.butrelatearr[t].butobj.y),mathfat.setTweenarr(n),egret.Tween.get(n).wait(n.numarr[t].penmovetime).call(function(){n.pen.visible=!0,playSoundEffect("math/math1/unit2/numberone/dagou.ogg")},n),egret.Tween.get(n.pen).to({x:n.showbutxy[t].showbutx,y:410},n.numarr[t].penmovetime).to({x:n.showbutxy[t].showbutx+75,y:456},200).to({x:n.showbutxy[t].showbutx+162,y:320},200),egret.Tween.get(n.gou).wait(n.numarr[t].penmovetime).to({width:60,height:145},200).to({width:161},200)},i.setProXY=function(e,t){this.x=e,this.y=t},i.stopAnimation=function(){},t}(mathfat);egret.registerClass(math1Unit2Numberone,"math1Unit2Numberone",["interfacemath"]);var math1Unit2Numberthree=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.notearr=[{notename:"n1"},{notename:"n2"},{notename:"n3"}],this.noteobj=[],this.beatdrumxy=[{x:-10,y:375},{x:300,y:375},{x:620,y:375}],this.numarr=[{show:"three1",y:375,numsign:1},{show:"three2",y:375,numsign:2},{show:"three3",y:375,numsign:3}],this.showbutxy=[{showbutx:70,showbuty:360},{showbutx:380,showbuty:360},{showbutx:700,showbuty:360}],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addScence=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this),staticVarUntil.rightresulte=3,this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE,this),this.buttonuntil=new buttonUntil,this.numarr=egretUntil.getArrayItems(this.numarr,this.numarr.length);var e=egretUntil.createBitmapByName("threeb_png");this.addChild(e),this.addButtonAndNum(),this.addNote(),this.addSound()},i.addEarDance=function(){this.numear=new dragonBone,this.numear.addDB("eardance_json","eardancetxt_json","eardancetxt_png","ear"),this.addChild(this.numear),this.numear.settimeScale(3),this.numear.setPos(460,150),playSoundEffect("math/math1/unit2/numberthree/erduo.ogg"),dragonBones.WorldClock.clock.add(this.numear.getArmature()),egret.startTick(this.tickFun,this),mathfat.setTick(this.tickFun,this),this.numear.setstartPlay("dance",0),playSoundEffect("math/math1/unit2/numberthree/music3500ms.ogg",1,1)},i.tickFun=function(){return dragonBones.WorldClock.clock.advanceTime(.02),!1},i.addButtonAndNum=function(){for(var e=0;e<this.numarr.length;e++){var t=egretUntil.createBitmapByName("drum");this.addChild(t),t.x=this.showbutxy[e].showbutx,t.y=this.showbutxy[e].showbuty;var n=egretUntil.createBitmapByName(this.numarr[e].show);n.x=t.x+(t.width-n.width)/2,n.y=this.numarr[e].y,this.addChild(n),this.buttonuntil.setButtonarr(t,n,this.numarr[e].numsign)}},i.addSound=function(){var e=egretUntil.createBitmapByName("audio");this.addChild(e),e.anchorOffsetY=e.height,e.anchorOffsetX=e.width/2,e.x=114+e.width/2,e.y=176+e.height,mathfat.setTweenarr(e),egret.Tween.get(e,{loop:!0}).to({skewY:2,skewX:6},200).to({skewY:-2,skewX:-6},400).to({skewY:0,skewX:0},200)},i.addNote=function(){for(var e=0;e<this.notearr.length;e++){var t=egretUntil.createBitmapByName(this.notearr[e].notename);t.x=150,t.y=220,this.addChild(t),this.noteobj.push(t),mathfat.setTweenarr(t)}egret.Tween.get(this.noteobj[0],{loop:!0}).to({x:100,y:-70},1500).call(function(e){e.x=150,e.y=220},this,[this.noteobj[0]]),egret.setTimeout(function(){this.noteobj[1].x=200,this.noteobj[1].y=200,egret.Tween.get(this.noteobj[1],{loop:!0}).to({x:200,y:-70},1500).call(function(e){e.x=200,e.y=200},this,[this.noteobj[1]])},this,500,"egret"),egret.setTimeout(function(){egret.Tween.get(this.noteobj[2],{loop:!0}).to({x:100,y:-70},1500).call(function(e){e.x=150,e.y=220},this,[this.noteobj[2]])},this,800,"egret")},i.addBeatDrum=function(e,t){var n=e,i=egretUntil.createBitmapByName("banchui2");i.x=n.beatdrumxy[t].x,i.y=n.beatdrumxy[t].y,n.addChild(i),mathfat.setTweenarr(i),i.rotation=0,egret.Tween.get(i,{loop:!0}).to({rotation:-15},120).to({rotation:0},120);var a=egretUntil.createBitmapByName("banchui2");a.x=n.beatdrumxy[t].x+210+a.width,a.y=n.beatdrumxy[t].y,a.scaleX=-1,n.addChild(a),a.rotation=15,mathfat.setTweenarr(a),egret.Tween.get(a,{loop:!0}).to({rotation:0},120).to({rotation:15},120),playSoundEffect("math/math1/unit2/numberthree/dagu850ms.ogg",1,1)},i.handleAudio=function(e){e.indexOf("erduo")>=0||e.indexOf("firstwrong")>=0||e.indexOf("secondwrong")>=0||e.indexOf("firsttouchwrong")>=0||e.indexOf("secondtouchwrong")>=0?startAsr(this,3):e.indexOf("right")>=0?(this.stopAnimation(),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()),egret.log("下一题")):e.indexOf("thirdwrongandmark")>=0?(this.addBeatDrum(this,this.buttonuntil.allWrongSysShowRight(this.buttonuntil.butrelatearr,staticVarUntil.rightresulte)),playSoundEffect("math/math1/unit2/common/continuepractice.ogg")):e.indexOf("wrongeffect")>=0?this.playWrongSound():e.indexOf("wait10swarn")>=0||e.indexOf("wait20swarn")>=0?startAsr(this,3):e.indexOf("wait30swarn")>=0?(egret.log("返回课程界面"),overTimeAutoExit()):e.indexOf("continuepractice")>=0?(this.stopAnimation(),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())):e.indexOf("errnet")>=0&&(3==staticVarUntil.getasrerror?overTimeAutoExit():startAsr(this,3))},i.playWrongSound=function(){staticVarUntil.ispassasr?operateUntil.asrWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/asr/firstwrong.ogg","common/asr/secondwrong.ogg","math/math1/unit2/numberthree/thirdwrongandmark.ogg"):operateUntil.touchButtonWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/touch/firsttouchwrong.ogg","math/math1/unit2/numberthree/secondtouchwrong.ogg","math/math1/unit2/numberthree/thirdwrongandmark.ogg")},i.setProXY=function(e,t){this.x=e,this.y=t},i.stopAnimation=function(){},t}(mathfat);egret.registerClass(math1Unit2Numberthree,"math1Unit2Numberthree",["interfacemath"]);var math1Unit2Numbertwo=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.numarr=[{show:"numtwo1",y:340,numsign:1},{show:"numtwo2",y:340,numsign:2},{show:"numtwo3",y:340,numsign:3}],this.showbutxy=[{showbutx:80,showbuty:400},{showbutx:372,showbuty:400},{showbutx:666,showbuty:400}],this.downbuttony=4,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addScence=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this),staticVarUntil.numbersign=staticVarUntil.MATH_1_UNIT_2_NUMBERTWO,staticVarUntil.rightresulte=2,this.addCommonPer(staticVarUntil.MATH_1_UNIT_2_NUMBERTHREE,staticVarUntil.MATH_1_UNIT_2_NUMBERTWO,this),this.buttonuntil=new buttonUntil,this.numarr=egretUntil.getArrayItems(this.numarr,this.numarr.length);var e=egretUntil.createBitmapByName("b_png");this.addChild(e)},i.duckSwiming=function(){var e=new movieClip;e.addNumber("duck_json","duck_png","duck"),this.addChild(e),this.mcDuck=e.getMc(),mathfat.setMcarr("mcDuck",this.mcDuck),e.setProXY(750,100),e.anchorOffsetX=e.width/2,this.mcDuck.gotoAndPlay("start",-1),playSoundEffect("math/math1/unit2/numbertwo/duckswiming6000ms.ogg",1,1),playSoundEffect("math/math1/unit2/numbertwo/yazi.ogg"),mathfat.setTweenarr(e),egret.Tween.get(e,{loop:!0}).to({x:210},7e3).to({scaleX:-1}).to({x:750},7e3).to({scaleX:1})},i.addButtonAndNum=function(){for(var e=0;e<this.numarr.length;e++){var t=new movieClip;t.addNumber("lotusleaf_json","lotusleaf_png","lotusleaf"),this.addChild(t),t.getMc().addEventListener(egret.Event.COMPLETE,function(e){},this),t.x=this.showbutxy[e].showbutx,t.y=this.showbutxy[e].showbuty;var n=egretUntil.createBitmapByName(this.numarr[e].show);this.addChild(n),n.x=t.x+(t.getMc().width-n.width)/2,n.y=this.numarr[e].y,this.buttonuntil.setButtonarr(t,n,this.numarr[e].numsign)}},i.handleAudio=function(e){e.indexOf("yazi")>=0||e.indexOf("firstwrong")>=0||e.indexOf("secondwrong")>=0||e.indexOf("firsttouchwrong")>=0||e.indexOf("secondtouchwrong")>=0?startAsr(this,2):e.indexOf("right")>=0?(saveLog("","进来了 right"),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()),egret.log("下一题")):e.indexOf("thirdwrongandmark")>=0?(this.buttonJump(this,this.buttonuntil.allWrongSysShowRight(this.buttonuntil.butrelatearr,staticVarUntil.rightresulte)),playSoundEffect("math/math1/unit2/common/continuepractice.ogg")):e.indexOf("wrongeffect")>=0?this.playWrongSound():e.indexOf("wait10swarn")>=0||e.indexOf("wait20swarn")>=0?startAsr(this,2):e.indexOf("wait30swarn")>=0?(egret.log("返回课程界面"),overTimeAutoExit()):e.indexOf("continuepractice")>=0?viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()):e.indexOf("errnet")>=0&&(3==staticVarUntil.getasrerror?overTimeAutoExit():startAsr(this,2))},i.playWrongSound=function(){staticVarUntil.ispassasr?operateUntil.asrWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/asr/firstwrong.ogg","common/asr/secondwrong.ogg","math/math1/unit2/numbertwo/thirdwrongandmark.ogg"):operateUntil.touchButtonWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/touch/firsttouchwrong.ogg","math/math1/unit2/numbertwo/secondtouchwrong.ogg","math/math1/unit2/numbertwo/thirdwrongandmark.ogg")},i.buttonJump=function(e,t){var n=e;mathfat.setTweenarr(n.buttonuntil.butrelatearr[t].numobj),animationUntil.numJump(n.numarr[t].y-40,n.buttonuntil.butrelatearr[t].numobj),playSoundEffect("math/math1/unit2/numbertwo/numjump115ms.ogg",1,1),mathfat.setTweenarr(n.buttonuntil.butrelatearr[t].butobj),egret.Tween.get(n.buttonuntil.butrelatearr[t].butobj,{loop:!0}).wait(1100).to({y:n.buttonuntil.butrelatearr[t].butobj.y+n.downbuttony},100).call(function(e){mathfat.setMcarr("",n.buttonuntil.butrelatearr[e].butobj.getMc()),n.buttonuntil.butrelatearr[e].butobj.getMc().gotoAndPlay("start",1)},n,[t])},i.setProXY=function(e,t){this.x=e,this.y=t},i.stopAnimation=function(){},t}(mathfat);egret.registerClass(math1Unit2Numbertwo,"math1Unit2Numbertwo",["interfacemath"]);var math1Unit3Numberone=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.moveY=50,this.penmovex=20,this.numarr=[{show:"1",show2:"01",numsign:1,penmovetime:500},{show:"2",show2:"02",numsign:2,penmovetime:182},{show:"3",show2:"03",numsign:3,penmovetime:320}],this.showbutxy=[{showbutx:120,showbuty:328},{showbutx:410,showbuty:328},{showbutx:703,showbuty:328}],this.penmodnums=[{penmodnum:1,penmodxys:[{penmodx:(egretUntil.getStageWidth()-38)/2,penmody:68}]},{penmodnum:2,penmodxys:[{penmodx:385,penmody:68},{penmodx:540,penmody:68}]},{penmodnum:3,penmodxys:[{penmodx:315,penmody:68},{penmodx:447,penmody:68},{penmodx:579,penmody:68}]}],this.penmodobjs=[],this.currentpenmod=0,this.twtime=150,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addScence=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this),this.addCommonPer(staticVarUntil.MATH_1_UNIT_3_NUMBERTWO,staticVarUntil.MATH_1_UNIT_3_NUMBERONE,this),staticVarUntil.numbersign=staticVarUntil.MATH_1_UNIT_3_NUMBERONE,this.buttonuntil=new buttonUntil,staticVarUntil.rightresulte=staticVarUntil.testnumarr[0],this.numarr=egretUntil.getArrayItems(this.numarr,this.numarr.length);var e=egretUntil.createBitmapByName("unit2number1bg_png");this.addChild(e),this.addPenMod(staticVarUntil.rightresulte),this.buttonAndNum(),this.addPen()},i.penChangePosY=function(){this.currentpenmod<this.penmodobjs.length&&(this.pen.y<this.penmodobjs[this.currentpenmod].penmody+this.penmodobjs[this.currentpenmod].penmodhg?(egret.Tween.get(this.pen).to({x:this.penmodobjs[this.currentpenmod].penmodx+this.penmodobjs[this.currentpenmod].penmodwd+this.penmovex},this.twtime).to({x:this.penmodobjs[this.currentpenmod].penmodx-this.penmovex,y:this.pen.y+this.moveY},this.twtime).call(this.penChangePosY,this),egret.Tween.get(this.penmodobjs[this.currentpenmod].penmodobj).to({width:this.penmodobjs[this.currentpenmod].penmodwd},this.twtime).to({height:this.pen.y>=this.penmodobjs[this.currentpenmod].penmodhg?this.penmodobjs[this.currentpenmod].penmodhg:this.pen.y},this.twtime).wait(this.twtime)):this.penmodobjs[this.currentpenmod+1]?(egret.Tween.get(this.pen).to({x:this.penmodobjs[this.currentpenmod+1].penmodx,y:this.penmodobjs[this.currentpenmod+1].penmody},100).call(this.penChangePosY,this),this.currentpenmod++):(this.pen.visible=!1,stopSoundEffectByUrl("math/math1/unit3/numberone/huabi.ogg"),egret.Tween.get(this.pen).to({x:this.penmodobjs[this.currentpenmod].penmodx+100,y:this.penmodobjs[this.currentpenmod].penmody+100},200).call(function(){playSoundEffect("math/math1/unit3/numberone/howmanyqianbi.ogg")})))},i.addPenMod=function(e){for(var t=0;t<this.penmodnums.length;t++)if(this.penmodnums[t].penmodnum==e)for(var n=0;n<this.penmodnums[t].penmodxys.length;n++){var i=egretUntil.createBitmapByName("pen");this.addChild(i),mathfat.setTweenarr(i),i.fillMode=egret.BitmapFillMode.REPEAT,i.x=this.penmodnums[t].penmodxys[n].penmodx,i.y=this.penmodnums[t].penmodxys[n].penmody,this.penmodobjs.push({penmodobj:i,penmodwd:i.width,penmodhg:i.height,penmodx:i.x,penmody:i.y}),i.height=0,i.width=0}},i.addPen=function(){this.pen=egretUntil.createBitmapByName("p"),this.addChild(this.pen),mathfat.setTweenarr(this.pen),this.pen.x=this.penmodobjs[0].penmodx,this.pen.y=this.penmodobjs[0].penmody},i.penDrawG=function(e,t){this.gou=egretUntil.createBitmapByName("g"),this.addChild(this.gou),mathfat.setTweenarr(this.gou),this.gou.fillMode=egret.BitmapFillMode.REPEAT,this.gou.width=0,this.gou.height=145,this.gou.x=e,this.gou.y=t,this.setChildIndex(this.pen,10)},i.buttonAndNum=function(){for(var e=0;e<this.numarr.length;e++){var t=egretUntil.createBitmapByName("buttonquan_png");this.addChild(t),t.x=this.showbutxy[e].showbutx,t.y=this.showbutxy[e].showbuty;var n=egretUntil.createBitmapByName(this.numarr[e].show);this.addChild(n),n.x=this.showbutxy[e].showbutx+(t.width-n.width)/2,n.y=this.showbutxy[e].showbuty+(t.height-n.height)/2,this.buttonuntil.setButtonarr(t,n,this.numarr[e].numsign)}},i.handleAudio=function(e){e.indexOf("howmanyqianbi")>=0||e.indexOf("firstwrong")>=0||e.indexOf("secondwrong")>=0||e.indexOf("firsttouchwrong")>=0||e.indexOf("secondtouchwrong")>=0?startAsr(this,staticVarUntil.rightresulte):e.indexOf("common/right")>=0?(this.stopAnimation(),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()),egret.log("下一题")):e.indexOf("thirdwrongandright")>=0?(this.rightShanshuo(),playSoundEffect("math/math1/unit3/common/continuepractice.ogg")):e.indexOf("common/wrongeffect")>=0?this.playWrongSound():e.indexOf("wait10swarn")>=0||e.indexOf("wait20swarn")>=0?startAsr(this,staticVarUntil.rightresulte):e.indexOf("wait30swarn")>=0?(egret.log("返回课程界面"),overTimeAutoExit()):e.indexOf("continuepractice")>0?(this.stopAnimation(),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())):e.indexOf("errnet")>=0?3==staticVarUntil.getasrerror?overTimeAutoExit():startAsr(this,staticVarUntil.rightresulte):e.indexOf("shuyishu123")>=0&&(this.penChangePosY(),playSoundEffect("math/math1/unit3/numberone/huabi.ogg",1,1))},i.playWrongSound=function(){staticVarUntil.ispassasr?operateUntil.asrWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/asr/firstwrong.ogg","common/asr/secondwrong.ogg","math/math1/unit3/numberone/thirdwrongandright"+operateUntil.sayWordByRightResult(staticVarUntil.rightresulte)+".ogg"):operateUntil.touchButtonWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/touch/firsttouchwrong.ogg","math/math1/unit3/numberone/secondtouchwrong.ogg","math/math1/unit3/numberone/thirdwrongandright"+operateUntil.sayWordByRightResult(staticVarUntil.rightresulte)+".ogg")
},i.rightShanshuo=function(){var e=this.buttonuntil.allWrongSysShowRight(this.buttonuntil.butrelatearr,staticVarUntil.rightresulte);animationUntil.shanshuo(this.numarr[e].show2,this.buttonuntil.butrelatearr[e].butobj.x+(this.buttonuntil.butrelatearr[e].butobj.width-this.buttonuntil.butrelatearr[e].numobj.width)/2,this.buttonuntil.butrelatearr[e].butobj.y+(this.buttonuntil.butrelatearr[e].butobj.height-this.buttonuntil.butrelatearr[e].numobj.height)/2,this)},i.drawGou=function(e,t){var n=e;n.penDrawG(n.buttonuntil.butrelatearr[t].butobj.x+9,n.buttonuntil.butrelatearr[t].butobj.y),mathfat.setTweenarr(n),egret.Tween.get(n).wait(n.numarr[t].penmovetime).call(function(){n.pen.visible=!0,playSoundEffect("math/math1/unit3/numberone/dagou.ogg")},n),egret.Tween.get(n.pen).to({x:n.showbutxy[t].showbutx,y:410},n.numarr[t].penmovetime).to({x:n.showbutxy[t].showbutx+75,y:456},200).to({x:n.showbutxy[t].showbutx+162,y:320},200),egret.Tween.get(n.gou).wait(n.numarr[t].penmovetime).to({width:60,height:145},200).to({width:161},200)},i.setProXY=function(e,t){this.x=e,this.y=t},i.stopAnimation=function(){},t}(mathfat);egret.registerClass(math1Unit3Numberone,"math1Unit3Numberone",["interfacemath"]);var math1Unit3Numberthree=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.notearr=[{notename:"n1"},{notename:"n2"},{notename:"n3"}],this.noteobj=[],this.beatdrumxy=[{x:-10,y:375},{x:300,y:375},{x:620,y:375}],this.numarr=[{show:"three1",y:375,numsign:1},{show:"three2",y:375,numsign:2},{show:"three3",y:375,numsign:3}],this.showbutxy=[{showbutx:70,showbuty:360},{showbutx:380,showbuty:360},{showbutx:700,showbuty:360}],this.earposxy=[{earnum:1,earxy:[{earx:460,eary:150}]},{earnum:2,earxy:[{earx:400,eary:150},{earx:600,eary:150}]},{earnum:3,earxy:[{earx:350,eary:150},{earx:480,eary:130},{earx:630,eary:150}]}],this.earobjs=[],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addScence=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this),staticVarUntil.rightresulte=staticVarUntil.testnumarr[2],this.addCommonPer(staticVarUntil.ENDVIEW,staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE,this),this.buttonuntil=new buttonUntil,this.numarr=egretUntil.getArrayItems(this.numarr,this.numarr.length);var e=egretUntil.createBitmapByName("threeb_png");this.addChild(e),this.addButtonAndNum(),this.addNote(),this.addSound()},i.addEarDance=function(e){for(var t=0;t<this.earposxy.length;t++)if(this.earposxy[t].earnum==e)for(var n=0;n<this.earposxy[t].earxy.length;n++){var i=new dragonBone;i.addDB("eardance_json","eardancetxt_json","eardancetxt_png","ear"),this.addChild(i),i.scaleX=i.scaleY=.8,i.settimeScale(3),i.setPos(this.earposxy[t].earxy[n].earx,this.earposxy[t].earxy[n].eary),dragonBones.WorldClock.clock.add(i.getArmature()),i.setstartPlay("dance",0),this.earobjs.push(i)}egret.startTick(this.tickFun,this),mathfat.setTick(this.tickFun,this),playSoundEffect("math/math1/unit3/numberthree/music3500ms.ogg",1,1),playSoundEffect("math/math1/unit3/numberthree/howmanyerduo.ogg")},i.tickFun=function(){return dragonBones.WorldClock.clock.advanceTime(.02),!1},i.addButtonAndNum=function(){for(var e=0;e<this.numarr.length;e++){var t=egretUntil.createBitmapByName("drum");this.addChild(t),t.x=this.showbutxy[e].showbutx,t.y=this.showbutxy[e].showbuty;var n=egretUntil.createBitmapByName(this.numarr[e].show);n.x=t.x+(t.width-n.width)/2,n.y=this.numarr[e].y,this.addChild(n),this.buttonuntil.setButtonarr(t,n,this.numarr[e].numsign)}},i.addSound=function(){var e=egretUntil.createBitmapByName("audio");this.addChild(e),e.anchorOffsetY=e.height,e.anchorOffsetX=e.width/2,e.x=114+e.width/2,e.y=176+e.height,mathfat.setTweenarr(e),egret.Tween.get(e,{loop:!0}).to({skewY:2,skewX:6},200).to({skewY:-2,skewX:-6},400).to({skewY:0,skewX:0},200)},i.addNote=function(){for(var e=0;e<this.notearr.length;e++){var t=egretUntil.createBitmapByName(this.notearr[e].notename);t.x=150,t.y=220,this.addChild(t),mathfat.setTweenarr(t),this.noteobj.push(t)}egret.Tween.get(this.noteobj[0],{loop:!0}).to({x:100,y:-70},1500).call(function(e){e.x=150,e.y=220},this,[this.noteobj[0]]),egret.setTimeout(function(){this.noteobj[1].x=200,this.noteobj[1].y=200,egret.Tween.get(this.noteobj[1],{loop:!0}).to({x:200,y:-70},1500).call(function(e){e.x=200,e.y=200},this,[this.noteobj[1]])},this,500,"egret"),egret.setTimeout(function(){egret.Tween.get(this.noteobj[2],{loop:!0}).to({x:100,y:-70},1500).call(function(e){e.x=150,e.y=220},this,[this.noteobj[2]])},this,800,"egret")},i.addBeatDrum=function(e,t){var n=e,i=egretUntil.createBitmapByName("banchui2");i.x=n.beatdrumxy[t].x,i.y=n.beatdrumxy[t].y,n.addChild(i),i.rotation=0,mathfat.setTweenarr(i),egret.Tween.get(i,{loop:!0}).to({rotation:-15},120).to({rotation:0},120);var a=egretUntil.createBitmapByName("banchui2");a.x=n.beatdrumxy[t].x+210+a.width,a.y=n.beatdrumxy[t].y,a.scaleX=-1,n.addChild(a),a.rotation=15,mathfat.setTweenarr(a),egret.Tween.get(a,{loop:!0}).to({rotation:0},120).to({rotation:15},120),playSoundEffect("math/math1/unit3/numberthree/dagu850ms.ogg",1,1)},i.handleAudio=function(e){e.indexOf("howmanyerduo")>=0||e.indexOf("firstwrong")>=0||e.indexOf("secondwrong")>=0||e.indexOf("firsttouchwrong")>=0||e.indexOf("secondtouchwrong")>=0?startAsr(this,staticVarUntil.rightresulte):e.indexOf("common/right")>=0?(viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()),egret.log("下一题")):e.indexOf("thirdwrongandright")>=0?(this.addBeatDrum(this,this.buttonuntil.allWrongSysShowRight(this.buttonuntil.butrelatearr,staticVarUntil.rightresulte)),playSoundEffect("math/math1/unit3/common/continuepractice.ogg")):e.indexOf("wrongeffect")>=0?this.playWrongSound():e.indexOf("wait10swarn")>=0||e.indexOf("wait20swarn")>=0?startAsr(this,staticVarUntil.rightresulte):e.indexOf("wait30swarn")>=0?(egret.log("返回课程界面"),overTimeAutoExit()):e.indexOf("continuepractice")>=0?(this.stopAnimation(),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())):e.indexOf("errnet")>=0&&(3==staticVarUntil.getasrerror?overTimeAutoExit():startAsr(this,staticVarUntil.rightresulte))},i.playWrongSound=function(){staticVarUntil.ispassasr?operateUntil.asrWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/asr/firstwrong.ogg","common/asr/secondwrong.ogg","math/math1/unit3/numberthree/thirdwrongandright"+operateUntil.sayWordByRightResult(staticVarUntil.rightresulte)+".ogg"):operateUntil.touchButtonWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/touch/firsttouchwrong.ogg","math/math1/unit3/numberthree/secondtouchwrong.ogg","math/math1/unit3/numberthree/thirdwrongandright"+operateUntil.sayWordByRightResult(staticVarUntil.rightresulte)+".ogg")},i.setProXY=function(e,t){this.x=e,this.y=t},i.stopAnimation=function(){},t}(mathfat);egret.registerClass(math1Unit3Numberthree,"math1Unit3Numberthree",["interfacemath"]);var math1Unit3Numbertwo=function(e){function t(){e.call(this),this.sigletimutotalwrong=0,this.numarr=[{show:"numtwo1",y:340,numsign:1},{show:"numtwo2",y:340,numsign:2},{show:"numtwo3",y:340,numsign:3}],this.showbutxy=[{showbutx:80,showbuty:400},{showbutx:372,showbuty:400},{showbutx:666,showbuty:400}],this.ducknumobjs=[],this.swimingtime=15e3,this.duckgaptime=2e3,this.downbuttony=4,this.addEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.addScence=function(){this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addScence,this),staticVarUntil.rightresulte=staticVarUntil.testnumarr[1],this.addCommonPer(staticVarUntil.MATH_1_UNIT_3_NUMBERTHREE,staticVarUntil.MATH_1_UNIT_3_NUMBERTWO,this),this.buttonuntil=new buttonUntil;var e=egretUntil.createBitmapByName("b_png");this.addChild(e)},i.duckSwiming=function(e){for(var t=0;e>t;t++){var n=new movieClip;n.addNumber("duck_json","duck_png","duck"),this.addChild(n);var i=n.getMc();mathfat.setMcarr("mcDuck",i,-1),mathfat.setTweenarr(i),n.setProXY(960+n.width,130),n.anchorOffsetX=n.width/2,n.scaleX=1,i.gotoAndPlay("start",-1),this.ducknumobjs.push({duckobj:n,duckwd:n.width})}playSoundEffect("math/math1/unit3/numbertwo/howmanyyazi.ogg")},i.duckAcross=function(){if(this.ducknumobjs.length-1==0)return void egret.Tween.get(this.ducknumobjs[0].duckobj).to({x:-this.ducknumobjs[0].duckobj.width/2},this.swimingtime).to({scaleX:-this.ducknumobjs[0].duckobj.scaleX}).call(this.duckGoBack,this);for(var e=0;e<this.ducknumobjs.length;e++)0==e?egret.Tween.get(this.ducknumobjs[e].duckobj).to({x:-this.ducknumobjs[e].duckobj.width/2},this.swimingtime).to({scaleX:-this.ducknumobjs[0].duckobj.scaleX}):e<this.ducknumobjs.length-1?egret.Tween.get(this.ducknumobjs[e].duckobj).wait(e*this.duckgaptime).to({x:-this.ducknumobjs[e].duckobj.width/2},this.swimingtime).to({scaleX:-this.ducknumobjs[e].duckobj.scaleX}):e==this.ducknumobjs.length-1&&egret.Tween.get(this.ducknumobjs[e].duckobj).wait(e*this.duckgaptime).to({x:-this.ducknumobjs[e].duckobj.width/2},this.swimingtime).to({scaleX:-this.ducknumobjs[e].duckobj.scaleX}).call(function(){console.log("across "+this.ducknumobjs[0].duckobj.scaleX)},this).call(this.duckGoBack,this)},i.duckGoBack=function(){if(this.ducknumobjs.length-1==0)return void egret.Tween.get(this.ducknumobjs[0].duckobj).to({x:960+this.ducknumobjs[0].duckobj.width/2},this.swimingtime).to({scaleX:-this.ducknumobjs[0].duckobj.scaleX}).call(this.duckAcross,this);for(var e=0;e<this.ducknumobjs.length;e++)0==e?egret.Tween.get(this.ducknumobjs[e].duckobj).to({x:960+this.ducknumobjs[e].duckobj.width/2},this.swimingtime).to({scaleX:-this.ducknumobjs[0].duckobj.scaleX}):e<this.ducknumobjs.length-1?egret.Tween.get(this.ducknumobjs[e].duckobj).wait(e*this.duckgaptime).to({x:960+this.ducknumobjs[e].duckobj.width/2},this.swimingtime).to({scaleX:-this.ducknumobjs[e].duckobj.scaleX}):e==this.ducknumobjs.length-1&&egret.Tween.get(this.ducknumobjs[e].duckobj).wait(e*this.duckgaptime).to({x:960+this.ducknumobjs[e].duckobj.width/2},this.swimingtime).to({scaleX:-this.ducknumobjs[e].duckobj.scaleX}).call(function(){console.log("back"+this.ducknumobjs[0].duckobj.scaleX)},this).call(this.duckAcross,this)},i.addButtonAndNum=function(){for(var e=0;e<this.numarr.length;e++){var t=new movieClip;t.addNumber("lotusleaf_json","lotusleaf_png","lotusleaf"),this.addChild(t),t.x=this.showbutxy[e].showbutx,t.y=this.showbutxy[e].showbuty;var n=egretUntil.createBitmapByName(this.numarr[e].show);this.addChild(n),n.x=t.x+(t.getMc().width-n.width)/2,n.y=this.numarr[e].y,this.buttonuntil.setButtonarr(t,n,this.numarr[e].numsign)}},i.handleAudio=function(e){e.indexOf("howmanyyazi")>=0||e.indexOf("firstwrong")>=0||e.indexOf("secondwrong")>=0||e.indexOf("firsttouchwrong")>=0||e.indexOf("secondtouchwrong")>=0?startAsr(this,staticVarUntil.rightresulte):e.indexOf("common/right")>=0?(this.stopAnimation(),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent()),egret.log("下一题")):e.indexOf("thirdwrongandright")>=0?(this.buttonJump(this,this.buttonuntil.allWrongSysShowRight(this.buttonuntil.butrelatearr,staticVarUntil.rightresulte)),playSoundEffect("math/math1/unit3/common/continuepractice.ogg")):e.indexOf("wrongeffect")>=0?this.playWrongSound():e.indexOf("wait10swarn")>=0||e.indexOf("wait20swarn")>=0?startAsr(this,staticVarUntil.rightresulte):e.indexOf("wait30swarn")>=0?(egret.log("返回课程界面"),overTimeAutoExit()):e.indexOf("continuepractice")>=0?(this.stopAnimation(),viewManager.getInstance().dispatchEvent(this.getViewmanagerevent())):e.indexOf("errnet")>=0&&(3==staticVarUntil.getasrerror?overTimeAutoExit():startAsr(this,staticVarUntil.rightresulte))},i.playWrongSound=function(){staticVarUntil.ispassasr?operateUntil.asrWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/asr/firstwrong.ogg","common/asr/secondwrong.ogg","math/math1/unit3/numbertwo/thirdwrongandright"+operateUntil.sayWordByRightResult(staticVarUntil.rightresulte)+".ogg"):operateUntil.touchButtonWrongMarkWord(staticVarUntil.everytitlewrongtimes,"common/touch/firsttouchwrong.ogg","math/math1/unit3/numbertwo/secondtouchwrong.ogg","math/math1/unit3/numbertwo/thirdwrongandright"+operateUntil.sayWordByRightResult(staticVarUntil.rightresulte)+".ogg")},i.buttonJump=function(e,t){var n=e;animationUntil.numJump(n.numarr[t].y-40,n.buttonuntil.butrelatearr[t].numobj),playSoundEffect("math/math1/unit3/numbertwo/numjump115ms.ogg",1,1),mathfat.setTweenarr(n.buttonuntil.butrelatearr[t].butobj),egret.Tween.get(n.buttonuntil.butrelatearr[t].butobj,{loop:!0}).wait(1100).to({y:n.buttonuntil.butrelatearr[t].butobj.y+n.downbuttony},100).call(function(e){mathfat.setMcarr("",n.buttonuntil.butrelatearr[e].butobj.getMc()),n.buttonuntil.butrelatearr[e].butobj.getMc().gotoAndPlay("start",1)},n,[t])},i.setProXY=function(e,t){this.x=e,this.y=t},i.stopAnimation=function(){},t}(mathfat);egret.registerClass(math1Unit3Numbertwo,"math1Unit3Numbertwo",["interfacemath"]);var SendHttp=function(e){function t(){e.call(this)}__extends(t,e);var n=(__define,t),i=n.prototype;return i.sendGetRequest=function(e){var t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.open("http://127.0.0.1:8000/&json="+e,egret.HttpMethod.GET),t.send(),t.addEventListener(egret.Event.COMPLETE,this.onGetComplete,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onGetIOError,this),t.addEventListener(egret.ProgressEvent.PROGRESS,this.onGetProgress,this)},i.onGetComplete=function(e){var t=e.currentTarget;console.log("get data : ",t.response);var n=new egret.TextField;n.size=18,n.text="GET response: \n"+t.response.substring(0,50)+"...",this.addChild(n),n.x=50,n.y=70,this.statusGetLabel.text="Get GET response!"},i.onGetIOError=function(e){egret.log("get error : "+e.data)},i.onGetProgress=function(e){egret.log("get progress : "+Math.floor(100*e.bytesLoaded/e.bytesTotal)+"%")},i.sendPostRequest=function(){var e="p1=postP1&p2=postP2",t=new egret.HttpRequest;t.responseType=egret.HttpResponseType.TEXT,t.open("php/post_test.php",egret.HttpMethod.POST),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(e),t.addEventListener(egret.Event.COMPLETE,this.onPostComplete,this),t.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onPostIOError,this),t.addEventListener(egret.ProgressEvent.PROGRESS,this.onPostProgress,this)},i.onPostComplete=function(e){var t=e.currentTarget,n=t.response;egret.log("json:"+n)},i.onPostIOError=function(e){console.log("post error : "+e)},i.onPostProgress=function(e){console.log("post progress : "+Math.floor(100*e.bytesLoaded/e.bytesTotal)+"%")},t}(egret.DisplayObjectContainer);egret.registerClass(SendHttp,"SendHttp");